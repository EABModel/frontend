(this["webpackJsonpvirtual-assistant-frontend"]=this["webpackJsonpvirtual-assistant-frontend"]||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){},160:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},217:function(e,t,n){},245:function(e,t,n){},257:function(e,t,n){},260:function(e,t){},262:function(e,t){},274:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"showPopUpInteractor",(function(){return k})),n.d(a,"closePopUpInteractor",(function(){return P}));var r={};n.r(r),n.d(r,"getCatalogueInteractor",(function(){return J})),n.d(r,"addProductToCatalogueInteractor",(function(){return $})),n.d(r,"addProductsToCatalogueInteractor",(function(){return K})),n.d(r,"deleteProductFromCatalogueInteractor",(function(){return _})),n.d(r,"resetGetCatalogueInteractor",(function(){return Q})),n.d(r,"resetAddProductToCatalogueInteractor",(function(){return X})),n.d(r,"resetAddProductsToCatalogueInteractor",(function(){return ee})),n.d(r,"resetDeleteProductFromCatalogueInteractor",(function(){return te})),n.d(r,"resetCatalogueInteractor",(function(){return ne}));var c={};n.r(c),n.d(c,"registerUserInteractor",(function(){return we})),n.d(c,"loginUserInteractor",(function(){return Ue})),n.d(c,"logoutUserInteractor",(function(){return Ne})),n.d(c,"deleteUserInteractor",(function(){return Te})),n.d(c,"reassignUserShopInteractor",(function(){return ke})),n.d(c,"resetRegisterUserInteractor",(function(){return Pe})),n.d(c,"resetLoginUserInteractor",(function(){return Ae})),n.d(c,"resetLogoutUserInteractor",(function(){return Re})),n.d(c,"resetUserStatusInteractor",(function(){return Ee})),n.d(c,"resetUserInteractor",(function(){return Le})),n.d(c,"resetDeleteUserInteractor",(function(){return Fe})),n.d(c,"resetReassignUserInteractor",(function(){return De}));var o={};n.r(o),n.d(o,"registerCompanyInteractor",(function(){return yt})),n.d(o,"loginCompanyInteractor",(function(){return Ct})),n.d(o,"logoutCompanyInteractor",(function(){return It})),n.d(o,"getCompanyUsersInteractor",(function(){return wt})),n.d(o,"getCompanyShopsInteractor",(function(){return Ut})),n.d(o,"removeCompanyUserInteractor",(function(){return Nt})),n.d(o,"resetRegisterCompanyInteractor",(function(){return Tt})),n.d(o,"resetLoginCompanyInteractor",(function(){return kt})),n.d(o,"resetLogoutCompanyInteractor",(function(){return Pt})),n.d(o,"resetCompanyStatusInteractor",(function(){return At})),n.d(o,"resetCompanyInteractor",(function(){return Rt})),n.d(o,"handleUserReassignInteractor",(function(){return Et}));var s={};n.r(s),n.d(s,"addShopInteractor",(function(){return Ht})),n.d(s,"removeShopInteractor",(function(){return Vt})),n.d(s,"updateShopInteractor",(function(){return Yt})),n.d(s,"setShopsInteractor",(function(){return Zt})),n.d(s,"resetAddShopInteractor",(function(){return Jt})),n.d(s,"resetRemoveShopInteractor",(function(){return $t})),n.d(s,"resetUpdateShopInteractor",(function(){return Kt})),n.d(s,"setShopInteractor",(function(){return _t})),n.d(s,"resetShopStatusInteractor",(function(){return Qt})),n.d(s,"resetShopInteractor",(function(){return Xt}));var i={};n.r(i),n.d(i,"setLocalStreamInteractor",(function(){return On})),n.d(i,"resetLocalStreamInteractor",(function(){return fn})),n.d(i,"setRemoteStreamInteractor",(function(){return gn})),n.d(i,"resetRemoteStreamInteractor",(function(){return xn})),n.d(i,"resetStreamConnectionInteractor",(function(){return vn})),n.d(i,"setCallStateTrueInteractor",(function(){return Sn})),n.d(i,"setCallStateFalseInteractor",(function(){return yn}));var u=n(0),l=n.n(u),d=n(21),j=n.n(d),b=(n(217),n(10)),p=n(5),h=n(140),m=n(25),O=n(44),f=n(13),g=n(30),x=Object(g.a)({name:"modal",initialState:{open:!1},reducers:{showLogIn:function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!0})},closeLogIn:function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!1})}}}),v=x.reducer,S=x.actions,y=n(11),C=n.n(y),I=n(16),w=function(e,t,n,a){return function(r){return function(){var c=Object(I.a)(C.a.mark((function c(o){var s,i,u,l;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o(e()),c.prev=1,c.next=4,a(r);case 4:s=c.sent,o(t(s)),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),o(n(null===c.t0||void 0===c.t0||null===(i=c.t0.response)||void 0===i||null===(u=i.data)||void 0===u||null===(l=u.error)||void 0===l?void 0:l.message));case 11:case"end":return c.stop()}}),c,null,[[1,8]])})));return function(e){return c.apply(this,arguments)}}()}},U=function(e,t,n,a){return function(){return function(){var r=Object(I.a)(C.a.mark((function r(c){var o,s,i,u;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c(e()),r.prev=1,!a){r.next=6;break}return r.next=5,a();case 5:o=r.sent;case 6:c(t(o)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),c(n(null===r.t0||void 0===r.t0||null===(s=r.t0.response)||void 0===s||null===(i=s.data)||void 0===i||null===(u=i.error)||void 0===u?void 0:u.message));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}},N=function(e){return function(t){return function(n){n(e(t))}}},T=function(e){return function(){return function(t){t(e())}}},k=T(S.showLogIn),P=T(S.closeLogIn),A=n(33),R=n(52),E=function(e,t,n){return function(t,a){var r;return Object(p.a)(Object(p.a)({},t),{},(r={},Object(R.a)(r,n,a.payload),Object(R.a)(r,"".concat(e,"Status"),{loading:!1,success:!0,error:!1}),r))}},L=function(e,t){return function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},"".concat(t,"Status"),{loading:!0,success:!1,error:!1}))}},F=function(e,t){return function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},"".concat(t,"Status"),{loading:!1,success:!1,error:n.payload||!0}))}},D=function(e,t){return function(n){return Object(p.a)(Object(p.a)({},n),{},Object(R.a)({},"".concat(t,"Status"),e["".concat(t,"Status")]))}},B=function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E(e,0,n),c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:L(0,e),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:F(0,e),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:D(t,e),i=e[0].toUpperCase()+e.slice(1);return a={},Object(R.a)(a,"loading".concat(i),c),Object(R.a)(a,"success".concat(i),r),Object(R.a)(a,"error".concat(i),o),Object(R.a)(a,"reset".concat(i),s),a},W={products:[],getCatalogueStatus:{loading:!1,success:!1,error:!1},addProductToCatalogueStatus:{loading:!1,success:!1,error:!1},addProductsToCatalogueStatus:{loading:!1,success:!1,error:!1},deleteProductFromCatalogueStatus:{loading:!1,success:!1,error:!1}},z=Object(g.a)({name:"catalogue",initialState:W,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("getCatalogue",W,null,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{products:Object(A.a)(null===t||void 0===t?void 0:t.payload),getCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),B("addProductToCatalogue",W,null,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{products:[].concat(Object(A.a)(e.products),[t.payload]),addProductToCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),B("addProductsToCatalogue",W,null,(function(e){return Object(p.a)(Object(p.a)({},e),{},{addProductsToCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),B("deleteProductFromCatalogue",W,null,(function(e,t){var n=e.products.filter((function(e){var n;return e.id!==(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id)}));return Object(p.a)(Object(p.a)({},e),{},{products:n,deleteProductFromCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),{},{resetCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),W)}})}),q=z.reducer,M=z.actions,G=n(171),H=n.n(G).a.create({baseURL:"https://eabmodel.herokuapp.com/"}),V=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Token"),e.prev=1,e.next=4,H({headers:{"Content-Type":"application/json",Token:n},method:"post",url:"/catalogue/add-single-product",data:{shopId:t.shopId,name:t.name,brand:t.brand,os:t.os,color:t.color,inches:Number(t.inches),price:Number(t.price),image:t.image}});case 4:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Token"),e.prev=1,e.next=4,H({headers:{"Content-Type":"application/json",Token:n},method:"post",url:"/catalogue/add-many-products",data:t});case 4:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Z={postProductRegister:V,getShopProducts:function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"get",url:"/catalogue/shop/".concat(t)});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),postProductsRegister:Y,postProductDelete:function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"delete",url:"/catalogue/delete-product/".concat(t)});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},J=w(M.loadingGetCatalogue,M.successGetCatalogue,M.errorGetCatalogue,Z.getShopProducts),$=w(M.loadingAddProductToCatalogue,M.successAddProductToCatalogue,M.errorAddProductToCatalogue,Z.postProductRegister),K=w(M.loadingAddProductsToCatalogue,M.successAddProductsToCatalogue,M.errorAddProductsToCatalogue,Z.postProductsRegister),_=w(M.loadingDeleteProductFromCatalogue,M.successDeleteProductFromCatalogue,M.errorDeleteProductFromCatalogue,Z.postProductDelete),Q=T(M.resetGetCatalogue),X=T(M.resetAddProductToCatalogue),ee=T(M.resetAddProductsToCatalogue),te=T(M.resetDeleteProductFromCatalogue),ne=T(M.resetCatalogue),ae=n(12),re=n(330),ce=Object(re.a)({root:{maxWidth:345},infoContainer:{textAlign:"left"},media:{height:300}}),oe=n(332),se=n(334),ie=n(335),ue=n(336),le=n(80),de=n(337),je=n(338),be=n(1),pe=function(e){var t=e.specs,n=ce(),a=Object(m.g)(),r=Object(u.useCallback)((function(e){a.push("product/".concat(e,"/details"))}),[]);return Object(be.jsxs)(oe.a,{className:n.root,children:[Object(be.jsxs)(se.a,{style:{textAlign:"left"},children:[Object(be.jsx)(ie.a,{className:n.media,image:null===t||void 0===t?void 0:t.image,title:"Device"}),Object(be.jsxs)(ue.a,{children:[Object(be.jsx)(le.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(be.jsx)(le.a,{variant:"subtitle1",color:"textSecondary",component:"p",children:t.brand}),Object(be.jsxs)(le.a,{variant:"subtitle2",color:"textSecondary",component:"p",children:[t.os," ",t.color]}),Object(be.jsxs)(le.a,{variant:"subtitle2",color:"textSecondary",component:"p",children:[t.inches," inches display"]}),Object(be.jsx)(le.a,{variant:"body2",color:"textSecondary",component:"p",children:"These phones are really good, buy them now."})]})]}),Object(be.jsx)(de.a,{children:Object(be.jsx)(je.a,{size:"small",color:"primary",onClick:function(){return r(t.id)},children:"Details"})})]})};pe.defaultProps={specs:{id:"0",name:"Defaut Device",brand:"Default Brand",os:"Default OS",color:"Default Color",inches:5,price:0,image:"image url"}};var he,me=n(384),Oe=Object(re.a)((function(e){return Object(me.a)({root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},catalogContainer:{width:"50wh",height:"50vh",margin:"auto"},cardContainer:{margin:"5%",boxShadow:"8px 10px 19px 3px rgba(0,0,0,0.31)"}})})),fe=n(373),ge=Object(ae.b)((function(e){return{catalogue:e.catalogue}}))((function(e){var t=Oe(),n=e.catalogue;return Object(be.jsx)(fe.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",m:1,p:1,bgcolor:"background.paper",children:null===n||void 0===n?void 0:n.products.map((function(e){return Object(be.jsx)(fe.a,{className:t.cardContainer,children:Object(be.jsx)(pe,{specs:e})},e.id)}))})})),xe=Object(re.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"50vw",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},popUp:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"1em"},cancelIcon:{position:"absolute",top:"-10",right:"-10"},alertMessage:{textAlign:"left",color:"red",padding:0,margin:0}}}));!function(e){e.ANONYMOUS="ANONYMOUS",e.EMPLOYEE="EMPLOYEE",e.ADMINISTRATOR="ADMINISTRATOR"}(he||(he={}));var ve={username:"defaultUser",email:"",id:"",companyId:"",shopId:"",sessionType:he.ANONYMOUS,loginUserStatus:{loading:!1,success:!1,error:!1},logoutUserStatus:{loading:!1,success:!1,error:!1},registerUserStatus:{loading:!1,success:!1,error:!1},deleteUserStatus:{loading:!1,success:!1,error:!1},reassignUserShopStatus:{loading:!1,success:!1,error:!1}},Se=Object(g.a)({name:"user",initialState:ve,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("registerUser",ve,null,(function(e){return Object(p.a)(Object(p.a)({},e),{},{registerUserStatus:{loading:!1,success:!0,error:!1}})}))),B("loginUser",ve,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{loginUserStatus:{loading:!1,success:!0,error:!1},logoutUserStatus:{loading:!1,success:!1,error:!1}})}))),B("logoutUser",ve,null,(function(e){return Object(p.a)(Object(p.a)(Object(p.a)({},e),ve),{},{logoutUserStatus:{loading:!1,success:!0,error:!1}})}))),B("deleteUser",ve,null,(function(e){return Object(p.a)(Object(p.a)({},e),{},{deleteUserStatus:{loading:!1,success:!0,error:!1}})}))),B("reassignUserShop",ve,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{reassignUserShopStatus:{loading:!1,success:!0,error:!1}})}))),{},{resetUserStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginUserStatus:ve.loginUserStatus,logoutUserStatus:ve.logoutUserStatus})},resetUser:function(e){return Object(p.a)(Object(p.a)({},e),ve)}})}),ye=Se.reducer,Ce=Se.actions,Ie={getUser:function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"get",url:"/user/".concat(t)});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),postUserLogin:function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/user/auth",data:{email:t.email,password:t.password}});case 3:return a=e.sent,localStorage.setItem("Token",null===a||void 0===a?void 0:a.data.token),e.abrupt("return",null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.user);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),postUserRegister:function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/user/create",data:{username:t.username,email:t.email,companyId:t.companyId,shopId:t.shopId,password:t.password}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"delete",url:"/user/".concat(t)}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reassignUserShop:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"patch",url:"/user/set_shop",data:{userId:t.userId,shopId:t.shopId}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},we=w(Ce.loadingRegisterUser,Ce.successRegisterUser,Ce.errorRegisterUser,Ie.postUserRegister),Ue=w(Ce.loadingLoginUser,Ce.successLoginUser,Ce.errorLoginUser,Ie.postUserLogin),Ne=U(Ce.loadingLogoutUser,Ce.successLogoutUser,Ce.errorLogoutUser,null),Te=w(Ce.loadingDeleteUser,Ce.successDeleteUser,Ce.errorDeleteUser,Ie.deleteUser),ke=w(Ce.loadingReassignUserShop,Ce.successReassignUserShop,Ce.errorReassignUserShop,Ie.reassignUserShop),Pe=T(Ce.resetRegisterUser),Ae=T(Ce.resetLoginUser),Re=T(Ce.resetLogoutUser),Ee=T(Ce.resetUserStatus),Le=T(Ce.resetUser),Fe=T(Ce.resetDeleteUser),De=T(Ce.resetReassignUserShop),Be=n(340),We=n(339),ze=n(341),qe=n(342),Me=n(385);function Ge(){return Object(be.jsxs)(le.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(be.jsx)(We.a,{color:"inherit",href:"https://material-ui.com/",children:"EABModel"})," ",(new Date).getFullYear(),"."]})}var He,Ve=Object(ae.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),a),e))}))((function(e){var t=xe(),n=Object(m.g)(),a=e.user,r=Object(u.useState)(""),c=Object(b.a)(r,2),o=c[0],s=c[1],i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1];Object(u.useEffect)((function(){a.loginUserStatus.success&&(e.resetUserStatusInteractor(),e.closePopUpInteractor(),n.push("/administration"))}),[n,e,a]);return Object(be.jsxs)(oe.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(be.jsx)("div",{className:t.cancelIcon,onClick:function(){e.closePopUp()},children:Object(be.jsx)(Be.a,{fontSize:"large",color:"secondary"})}),Object(be.jsx)(ze.a,{}),Object(be.jsxs)("div",{className:t.paper,children:[a.loginUserStatus.loading&&Object(be.jsx)(qe.a,{}),Object(be.jsx)(le.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(be.jsxs)("div",{className:t.form,children:[Object(be.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){s(e.target.value)}}),Object(be.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){j(e.target.value)}}),Object(be.jsx)(je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!(o&&d),onClick:function(){var t={email:o,password:d};e.loginUserInteractor(t)},children:"Sign In"})]})]}),Object(be.jsx)(fe.a,{mt:4,children:Object(be.jsx)(Ge,{})})]})})),Ye=n(376),Ze=n(347);n(245);!function(e){e.error="error",e.warning="warning",e.info="info",e.success="success"}(He||(He={}));var Je=Object(ae.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},a),e))}))((function(e){var t=e.showPopUpInteractor,n=e.resourceName,a=e.severity,r=e.alertTitle,c=e.alertBody,o=e.hasLoginButton;return Object(be.jsx)("div",{className:"alert-container",children:Object(be.jsxs)(Ye.a,{className:"alert",variant:"filled",severity:a,children:[Object(be.jsx)(Ze.a,{className:"alert-title",children:r}),c.map((function(e){return Object(be.jsx)("p",{className:"alert-text",children:e},e)})),o&&Object(be.jsx)("div",{className:"button-container",children:Object(be.jsxs)(je.a,{variant:"contained",onClick:t,children:["Sign in to create ",n]})})]})})})),$e=n(348),Ke=n(174),_e=n(178),Qe=n.n(_e),Xe=n(91),et=(n(257),function(e){var t=e.idleValue,n=e.toggleIdle,a=Object(u.useState)(!1),r=Object(b.a)(a,2),c=r[0],o=r[1];Object(Ke.a)({timeout:18e4,onIdle:function(){n(!t),o(!0)},onActive:function(){n(!t),o(!1)},debounce:500});var s={from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:0}};return Object(be.jsx)(be.Fragment,{children:c&&Object(be.jsx)(Xe.Spring,{from:s.from,to:s.to,children:function(e){return Object(be.jsx)(Xe.animated.div,{style:e,children:Object(be.jsx)("div",{className:"player-wrapper",children:Object(be.jsx)(Qe.a,{className:"react-player",url:"https://www.youtube.com/watch?v=A_hNkfRS05I",playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"100%"})})})}})})}),tt=l.a.memo(et),nt=Object(ae.b)((function(e){return{modal:e.modal,company:e.company,shop:e.shop,catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},a),r),e))}))((function(e){var t=e.modal,n=e.company,a=e.shop,r=e.catalogue,c=Object(u.useState)(!1),o=Object(b.a)(c,2),s=o[0],i=o[1],l=Object(u.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],h=Object(u.useState)(!1),m=Object(b.a)(h,2),O=m[0],f=m[1];Object(u.useEffect)((function(){var e;n.registerCompanyStatus.success||0===(null===a||void 0===a||null===(e=a.shops)||void 0===e?void 0:e.length)||!(null===a||void 0===a?void 0:a.id)?i(!0):i(!1)}),[n.registerCompanyStatus,n]),Object(u.useEffect)((function(){s||e.getCatalogueInteractor(a.id)}),[e.getCatalogueInteractor,s]),Object(u.useEffect)((function(){var e;0===(null===r||void 0===r||null===(e=r.products)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[r]);return Object(be.jsxs)("div",{children:[Object(be.jsx)(tt,{idleValue:O,toggleIdle:f}),!O&&Object(be.jsxs)(be.Fragment,{children:[r.getCatalogueStatus.loading&&Object(be.jsx)($e.a,{color:"secondary"}),s&&Object(be.jsx)(Je,{resourceName:"shop",severity:He.warning,alertTitle:"Create a shop or switch to one",alertBody:["It seems you are not currently in a shop, create or switch to one.","You can do this by logging in as an employee and entering th Shops Menu."],hasLoginButton:!0}),j&&Object(be.jsx)(Je,{resourceName:"product",severity:He.info,alertTitle:"Add a product or products to your shop's catalogue",alertBody:["In order to display your products, add them first.","You can do that from the administrator menu."],hasLoginButton:!0}),!s&&!j&&Object(be.jsx)(ge,{}),t.open&&Object(be.jsx)(Ve,{closePopUp:function(){e.closePopUpInteractor()}})]})]})})),at=Object(re.a)((function(e){return{root:{width:"80%",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},textContainer:{width:"100%",margin:"1rem"},resetContainer:{padding:e.spacing(2),marginLeft:e.spacing(3)},text:{textAlign:"center"}}})),rt=n(387),ct=n(349),ot=n(379),st=n(350),it=n(193);n(127);function ut(e){switch(e){case 0:return"In the store you can see the available catalog of the products for sale, in each of the devices.";case 1:return'If the customer requires assistance to learn more about a product,  \n              he/she should click on "Details" of the product and then at the  \n              bottom of the screen click on the "Get assistance" button.';case 2:return"If assistants are available, a message will be displayed telling the customer\n              to go to the assistance tablet in the store. From here, a video call can be \n              made to an assistant who will help the customer with all his questions.";case 3:return"In case there are no assistants available, a message will be displayed \n              informing the client and then, if he/she wishes, he/she can leave his/her \n              e-mail so that an assistant can contact him/her later."}}var lt=Object(ae.b)((function(e){return{modal:e.modal}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},a),e))}))((function(e){var t=e.modal,n=at(),a=l.a.useState(0),r=Object(b.a)(a,2),c=r[0],o=r[1],s=["Product catalog","Request assistance","Assistants available","No assistants available"],i=function(){o((function(e){return e+1}))},u=function(){o((function(e){return e-1}))};return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:n.root,children:[Object(be.jsx)(le.a,{variant:"h3",gutterBottom:!0,children:"Operation of the platform"}),Object(be.jsx)(le.a,{variant:"subtitle1",gutterBottom:!0,children:"Virual Assistant is a platform that offers assistance and helps customers with the purchase process virtually, through a video call. This allows that in times of pandemic our customers can buy in a safe and informed way, covering all the doubts that may arise. Here you can find information on the steps that the customer must follow."}),Object(be.jsx)(rt.a,{activeStep:c,orientation:"vertical",children:s.map((function(e,t){return Object(be.jsxs)(ct.a,{children:[Object(be.jsx)(ot.a,{children:e}),Object(be.jsxs)(st.a,{children:[Object(be.jsx)("div",{className:n.textContainer,children:Object(be.jsx)(le.a,{className:n.text,children:ut(t)})}),Object(be.jsx)("div",{className:n.actionsContainer,children:Object(be.jsxs)("div",{children:[Object(be.jsx)(je.a,{disabled:0===c,onClick:u,className:n.button,children:"Back"}),Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:i,className:n.button,children:c===s.length-1?"Finish":"Next"})]})})]})]},e)}))}),c===s.length&&Object(be.jsxs)(it.a,{square:!0,elevation:0,className:n.resetContainer,children:[Object(be.jsx)(le.a,{children:"Now you are ready to use Virtual Assistance!"}),Object(be.jsx)(je.a,{onClick:function(){o(0)},className:n.button,children:"Reset"})]}),t.open&&Object(be.jsx)(Ve,{closePopUp:function(){e.closePopUpInteractor()}})]}),Object(be.jsx)("div",{className:"btn-bottom-left",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})})),dt=n(351),jt=n(352),bt=n(195),pt=n(179),ht=n.n(pt),mt=Object(re.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"right",marginLeft:"2rem",marginRight:"2rem",fontSize:"1rem"},btn:{fontSize:"1rem"}}})),Ot=Object(ae.b)((function(e){return{user:e.user,company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),a),e))}))((function(e){var t=e.user,n=e.company,a=Object(m.g)(),r=mt();return Object(be.jsx)(dt.a,{position:"static",className:r.root,children:Object(be.jsxs)(jt.a,{children:[Object(be.jsx)(le.a,{variant:"h6",className:r.title,children:"ANONYMOUS"===t.sessionType?"Hello Dear Customer!":"Hello ".concat(t.username,"!")}),"ANONYMOUS"===t.sessionType?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(je.a,{className:r.btn,color:"inherit",onClick:function(){e.showPopUpInteractor()},disabled:!n.id,children:"Login"}),Object(be.jsx)(bt.a,{color:"inherit",onClick:function(){a.replace("/information")},children:Object(be.jsx)(ht.a,{})})]}):Object(be.jsx)(je.a,{color:"secondary",onClick:function(){e.logoutUserInteractor(),localStorage.removeItem("Token"),a.replace("/home")},disabled:!n.id,children:"Logout"})]})})})),ft={id:"",name:"",email:"",shops:[],users:[],registerCompanyStatus:{loading:!1,success:!1,error:!1},loginCompanyStatus:{loading:!1,success:!1,error:!1},logoutCompanyStatus:{loading:!1,success:!1,error:!1},getCompanyUsersStatus:{loading:!1,success:!1,error:!1},getCompanyShopsStatus:{loading:!1,success:!1,error:!1}},gt=Object(g.a)({name:"company",initialState:ft,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("registerCompany",ft,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{registerCompanyStatus:{loading:!1,success:!0,error:!1}})}))),B("loginCompany",ft,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{loginCompanyStatus:{loading:!1,success:!0,error:!1}})}))),B("logoutCompany",ft,null,(function(e){return Object(p.a)(Object(p.a)(Object(p.a)({},e),ft),{},{logoutCompanyStatus:{loading:!1,success:!0,error:!1}})}))),B("getCompanyUsers",ft,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{getCompanyUsersStatus:{loading:!1,success:!0,error:!1}})}))),B("getCompanyShops",ft,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{getCompanyUsersStatus:{loading:!1,success:!0,error:!1}})}))),{},{resetCompanyStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginCompanyStatus:ft.loginCompanyStatus,logoutCompanyStatus:ft.logoutCompanyStatus})},resetCompany:function(e){return Object(p.a)(Object(p.a)({},e),ft)},removeUserCompany:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.payload}))})},handleUserReassign:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.userId?Object(p.a)(Object(p.a)({},e),{},{shopId:t.payload.shopId}):e}))})}})}),xt=gt.reducer,vt=gt.actions,St={postCompanyLogin:function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/company/login",data:{name:t.name,password:t.password}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),postCompanyRegister:function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/company/create",data:{name:t.name,email:t.email,password:t.password}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getCompanyUsers:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"get",url:"/company/".concat(t,"/users")}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCompanyShops:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"get",url:"/company/".concat(t,"/shops")}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},yt=w(vt.loadingRegisterCompany,vt.successRegisterCompany,vt.errorRegisterCompany,St.postCompanyRegister),Ct=w(vt.loadingLoginCompany,vt.successLoginCompany,vt.errorLoginCompany,St.postCompanyLogin),It=U(vt.loadingLogoutCompany,vt.successLogoutCompany,vt.errorLogoutCompany,null),wt=w(vt.loadingGetCompanyUsers,vt.successGetCompanyUsers,vt.errorGetCompanyUsers,St.getCompanyUsers),Ut=w(vt.loadingGetCompanyShops,vt.successGetCompanyShops,vt.errorGetCompanyShops,St.getCompanyShops),Nt=N(vt.removeUserCompany),Tt=T(vt.resetRegisterCompany),kt=T(vt.resetLoginCompany),Pt=T(vt.resetLogoutCompany),At=T(vt.resetCompanyStatus),Rt=T(vt.resetCompany),Et=N(vt.handleUserReassign),Lt=n(353),Ft=n(380),Dt=Object(ae.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))((function(e){var t=xe(),n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(""),s=Object(b.a)(o,2),i=s[0],l=s[1],d=e.company,j=e.loginCompanyInteractor;return Object(be.jsxs)(oe.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(be.jsx)(ze.a,{}),Object(be.jsxs)("div",{className:t.paper,children:[d.loginCompanyStatus.loading&&Object(be.jsx)(qe.a,{}),Object(be.jsx)(le.a,{component:"h1",variant:"h5",children:"Company Sign in"}),Object(be.jsxs)("div",{className:t.form,children:[Object(be.jsx)(Me.a,{value:r,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Company name",name:"name",autoFocus:!0,onChange:function(e){c(e.target.value)}}),Object(be.jsx)(Me.a,{value:i,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){l(e.target.value)}}),Object(be.jsx)(Lt.a,{control:Object(be.jsx)(Ft.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(be.jsx)(je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!(r&&i),onClick:function(){j({name:r,password:i}),c(""),l("")},children:"Company Sign In"})]})]}),Object(be.jsx)(je.a,{color:"default",size:"small",onClick:e.toggleForm,children:"Don't have a company, create one"})]})})),Bt=Object(re.a)({page:{display:"flex",flexDirection:"column",alignItems:"center"},container:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",padding:"20px",width:"50%",height:"60vh",borderRadius:"8px",overflowY:"scroll"},containerList:{position:"relative",display:"flex",flexDirection:"column",padding:"20px",width:"50%",height:"60vh",borderRadius:"8px",overflowY:"scroll"},shopContainer:{position:"relative",padding:"10px",margin:"15px 0",borderRadius:"8px","box-shadow":"5px 6px 12px -4px rgba(0,0,0,0.75)"},name:{fontSize:"20px",textAlign:"left",padding:0,margin:"0 5px"},location:{fontSize:"15px",textAlign:"left",padding:0,margin:"0 5px"},buttonContainer:{position:"absolute",bottom:"12px",right:"15px"},switchFormTypeContainer:{position:"absolute",left:"50%",top:"20%",transform:"translate(-50%,-50%)"}}),Wt={id:"",companyId:"",name:"",location:"",shops:[],addShopStatus:{loading:!1,success:!1,error:!1},removeShopStatus:{loading:!1,success:!1,error:!1},updateShopStatus:{loading:!1,success:!1,error:!1}},zt=Object(g.a)({name:"shop",initialState:Wt,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("addShop",Wt,null,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{shops:[].concat(Object(A.a)(e.shops),[t.payload]),addShopStatus:{loading:!1,success:!0,error:!1}})}))),B("removeShop",Wt,null,(function(e){return Object(p.a)(Object(p.a)({},e),{},{removeShopStatus:{loading:!1,success:!0,error:!1}})}))),B("updateShop",Wt,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{updateShopStatus:{loading:!1,success:!0,error:!1}})}))),{},{setShops:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{shops:t.payload})},setShop:function(e,t){return Object(p.a)(Object(p.a)({},e),t.payload)},resetShopStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{addShopStatus:Wt.addShopStatus,removeShopStatus:Wt.removeShopStatus,updateShopStatus:Wt.updateShopStatus})},resetShop:function(e){return Object(p.a)(Object(p.a)({},e),Wt)}})}),qt=zt.reducer,Mt=zt.actions,Gt={postShopRegister:function(){var e=Object(I.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/shop/create",data:{companyId:t.companyId,name:t.name,location:t.location}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ht=w(Mt.loadingAddShop,Mt.successAddShop,Mt.errorAddShop,Gt.postShopRegister),Vt=w(Mt.loadingRemoveShop,Mt.successRemoveShop,Mt.errorRemoveShop,null),Yt=w(Mt.loadingUpdateShop,Mt.successUpdateShop,Mt.errorUpdateShop,null),Zt=N(Mt.setShops),Jt=T(Mt.resetAddShop),$t=T(Mt.resetRemoveShop),Kt=T(Mt.resetUpdateShop),_t=N(Mt.setShop),Qt=T(Mt.resetShopStatus),Xt=T(Mt.resetShop),en=Object(ae.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))((function(e){var t=Bt(),n=Object(m.g)(),a=e.shops,r=e.setShopInteractor,c=e.setShopsInteractor;Object(u.useEffect)((function(){0===(null===a||void 0===a?void 0:a.length)?n.replace("/home"):c(a)}),[]);return Object(be.jsxs)("div",{className:t.page,children:[Object(be.jsx)(le.a,{variant:"h2",color:"textSecondary",children:"Choose Shop"}),Object(be.jsx)("div",{className:t.containerList,children:null===a||void 0===a?void 0:a.map((function(e){return Object(be.jsxs)("div",{className:t.shopContainer,children:[Object(be.jsxs)("div",{children:[Object(be.jsx)("p",{className:t.name,children:e.name}),Object(be.jsx)("p",{className:t.location,children:e.location})]}),Object(be.jsx)("div",{className:t.buttonContainer,children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){return function(e){r(e),n.replace("/home")}(e)},children:"Login as this Shop"})})]},e.id)}))})]})})),tn=Object(ae.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))((function(e){var t=xe(),n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(""),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(u.useState)(""),j=Object(b.a)(d,2),p=j[0],h=j[1],m=Object(u.useState)(""),O=Object(b.a)(m,2),f=O[0],g=O[1],x=Object(u.useState)(""),v=Object(b.a)(x,2),S=v[0],y=v[1],C=Object(u.useState)(""),I=Object(b.a)(C,2),w=I[0],U=I[1],N=Object(u.useState)(""),T=Object(b.a)(N,2),k=T[0],P=T[1],A=e.company,R=r&&i&&!S&&p&&!w&&f&&!k;return Object(be.jsxs)(oe.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(be.jsx)(ze.a,{}),Object(be.jsxs)("div",{className:t.paper,children:[A.registerCompanyStatus.loading&&Object(be.jsx)(qe.a,{}),Object(be.jsx)(le.a,{component:"h1",variant:"h5",children:"Company Sign Up"}),Object(be.jsxs)("div",{className:t.form,children:[Object(be.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Company name",name:"name",autoFocus:!0,onChange:function(e){c(e.target.value)}}),Object(be.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Company email",name:"email",onChange:function(e){var t=e.target.value;t&&!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(t)?y("This must be an email"):y(""),l(t)}}),Object(be.jsx)(le.a,{variant:"body2",className:t.alertMessage,children:S}),Object(be.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){var t=e.target.value;t&&t.length<=7?U("Password must be longer than 7 characters"):U(""),h(t)}}),Object(be.jsx)(le.a,{variant:"body2",className:t.alertMessage,children:w}),Object(be.jsx)(Me.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm password",type:"password",id:"confirmPassword",onChange:function(e){var t=e.target.value;P(p!==t?"Passwords don't match":""),g(t)}}),Object(be.jsx)(le.a,{variant:"body2",className:t.alertMessage,children:k}),Object(be.jsx)(je.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!R,onClick:function(){var t={name:r,email:i,password:p};e.registerCompanyInteractor(t),c(""),l(""),h(""),g("")},children:"Company Sign Up"}),A.registerCompanyStatus.error&&Object(be.jsx)(le.a,{children:"An error ocurred, probably the company already exists."})]})]}),Object(be.jsx)(je.a,{color:"default",size:"small",onClick:e.toggleForm,children:"Already have a company, sign in instead"})]})})),nn=n(354),an=n(378),rn=(n(160),Object(ae.b)((function(e){return{company:e.company}}))((function(e){var t=e.company,n=Object(m.g)(),a=l.a.useRef(null),r=Object(u.useState)(!1),c=Object(b.a)(r,2),o=c[0],s=c[1],i=Object(u.useState)(!0),d=Object(b.a)(i,2),j=d[0],p=d[1];Object(u.useEffect)((function(){t.loginCompanyStatus.success&&s(!0),t.registerCompanyStatus.success&&n.replace("/home")}),[t.loginCompanyStatus,t.registerCompanyStatus]);var h=function(){p(!j)};return Object(be.jsx)(be.Fragment,{children:Object(be.jsx)(nn.a,{mode:"out-in",children:Object(be.jsx)(an.a,{nodeRef:a,timeout:{enter:200,exit:200},classNames:"fade",children:j?Object(be.jsx)("div",{ref:a,children:o?Object(be.jsx)(en,{shops:t.shops}):Object(be.jsx)(Dt,{toggleForm:h})}):Object(be.jsx)("div",{ref:a,children:Object(be.jsx)(tn,{toggleForm:h})})},j?"signinIn":"signinUp")})})}))),cn=Object(re.a)({mainContainer:{margin:"30px auto",height:"70vh",width:"70vw"},section:{position:"relative",textAlign:"left",margin:"15px 5px",padding:5},buttonContainer:{position:"absolute",right:5,bottom:5}}),on=function(e){var t=cn(),n=e.title,a=e.body,r=e.callback;return Object(be.jsxs)("div",{className:t.section,children:[Object(be.jsxs)(le.a,{variant:"h5",color:"textPrimary",children:[n," Menu"]}),Object(be.jsx)(le.a,{variant:"body1",color:"textPrimary",component:"p",children:a}),Object(be.jsx)("div",{className:t.buttonContainer,children:Object(be.jsxs)(je.a,{variant:"contained",onClick:r,children:["Go to ",n," Menu"]})})]})},sn=Object(ae.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},o),s),c),r),e))}))((function(e){var t=Object(m.g)(),n=e.resetShopInteractor,a=e.logoutUserInteractor,r=e.resetCatalogueInteractor,c=e.logoutCompanyInteractor,o=e.resetCompanyInteractor;return Object(be.jsx)(je.a,{variant:"outlined",color:"secondary",onClick:function(){n(),a(),r(),c(),localStorage.removeItem("Token"),o(),t.replace("/")},children:"Company Logout"})})),un=Object(ae.b)((function(e){return{user:e.user,shop:e.shop}}))((function(e){var t=Object(m.g)(),n=cn(),a=e.user,r=e.shop;return Object(be.jsxs)("div",{children:[Object(be.jsx)(le.a,{variant:"h2",color:"textSecondary",children:"Administration Portal"}),Object(be.jsxs)("div",{className:n.mainContainer,children:[r.id&&Object(be.jsx)(on,{title:"Video Calls",body:"Menu for managing video calls from current store.",callback:function(){t.push("/administration/calls")}}),"ADMINISTRATOR"===a.sessionType&&Object(be.jsxs)(be.Fragment,{children:[r.id&&Object(be.jsx)(on,{title:"Catalogue",body:"Menu for adding, removing or updating products from the main catalogue.",callback:function(){t.push("/administration/catalogue")}}),Object(be.jsx)(on,{title:"Shop",body:"Menu for updating shops, their location, policies and other specifications.",callback:function(){t.push("/administration/shop")}}),Object(be.jsx)(on,{title:"Employee's",body:"Menu for updating employee's status and for managing store employees.",callback:function(){t.push("/administration/employees")}})]}),Object(be.jsx)(sn,{})]})]})})),ln=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a,r,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.peerConnection,a=t.webcamVideo,r=t.remoteVideo,e.next=3,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 3:return c=e.sent,o=new MediaStream,c.getTracks().forEach((function(e){n.addTrack(e,c)})),n.ontrack=function(e){e.streams[0].getTracks().forEach((function(e){o.addTrack(e)}))},a.srcObject=c,r.srcObject=o,e.abrupt("return",{localStream:c,remoteStream:o});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dn=n(103);n(276),n(275);dn.a.apps.length||dn.a.initializeApp({apiKey:"AIzaSyBQ0fiVWlaejS-GUK1ofRewPZrEMffrROY",authDomain:"eabmodel-ff034.firebaseapp.com",projectId:"eabmodel-ff034",storageBucket:"eabmodel-ff034.appspot.com",messagingSenderId:"2525715605",appId:"1:2525715605:web:40293e4addc05f1bc74f9c"});var jn,bn={firestore:dn.a.firestore(),storage:dn.a.storage(),peerConnection:new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10}),localStream:null,remoteStream:null,hangup:!1},pn=Object(g.a)({name:"connection",initialState:bn,reducers:{addLocalStream:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{localStream:t.payload})},removeLocalStream:function(e){return Object(p.a)(Object(p.a)({},e),{},{localStream:bn.localStream})},addRemoteStream:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{remoteStream:t.payload})},removeRemoteStream:function(e){return Object(p.a)(Object(p.a)({},e),{},{remoteStream:bn.remoteStream})},resetStreamConnection:function(e){return Object(p.a)(Object(p.a)({},e),{},{peerConnection:bn.peerConnection,localStream:bn.localStream,remoteStream:bn.remoteStream})},setCallStateTrue:function(e){return Object(p.a)(Object(p.a)({},e),{},{hangup:!0})},setCallStateFalse:function(e){return Object(p.a)(Object(p.a)({},e),{},{hangup:!1})}}}),hn=pn.reducer,mn=pn.actions,On=N(mn.addLocalStream),fn=T(mn.removeLocalStream),gn=N(mn.addRemoteStream),xn=T(mn.removeRemoteStream),vn=T(mn.resetStreamConnection),Sn=T(mn.setCallStateTrue),yn=T(mn.setCallStateFalse),Cn=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a,r,c,o,s,i,u,l,d,j;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.firestore,a=t.shopId,r=t.callId,c=t.peerConnection,o=n.collection("shopCalls").doc(a).collection("calls").doc(r),s=o.collection("answerCandidates"),i=o.collection("offerCandidates"),c.onicecandidate=function(e){e.candidate&&s.add(e.candidate.toJSON())},e.next=7,o.get();case 7:return u=e.sent.data(),l=null===u||void 0===u?void 0:u.offer,e.next=11,c.setRemoteDescription(new RTCSessionDescription(l));case 11:return e.next=13,c.createAnswer();case 13:return d=e.sent,e.next=16,c.setLocalDescription(d);case 16:return j={type:d.type,sdp:d.sdp},e.next=19,o.update({answer:j,"status.answered":!0});case 19:i.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();c.addIceCandidate(new RTCIceCandidate(t))}}))}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),In=Object(ae.b)((function(e){return{connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.callId,n=e.shopId,a=e.connection,r=a.firestore,c=a.peerConnection,o=Object(u.useRef)(),s=Object(u.useRef)();Object(u.useEffect)((function(){var t={peerConnection:c,webcamVideo:o.current,remoteVideo:s.current};return e.connection.localStream&&e.connection.remoteStream||ln(t).then((function(t){var n=t.localStream,a=t.remoteStream;e.setLocalStreamInteractor(n),e.setRemoteStreamInteractor(a)})).then((function(){return i()})),function(){l(),o.current&&s.current&&(o.current.srcObject=null,s.current.srcObject=null),e.resetStreamConnectionInteractor()}}),[]);var i=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn({firestore:r,shopId:n,callId:t,peerConnection:c});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=Object(u.useCallback)(Object(I.a)(C.a.mark((function n(){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o.current&&s.current&&(o.current.srcObject=null,s.current.srcObject=null),e.resetStreamConnectionInteractor(),console.log("This it a test console log to prevent firestore excessive requests..."),n.next=6,r.collection("shopCalls").doc(e.shopId).collection("calls").doc(t).delete();case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:return n.prev=11,e.setOnCall(null),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])}))),[]);return Object(be.jsxs)("div",{className:"employee-main-container",children:[Object(be.jsx)("video",{className:"employee-local-video-container",ref:o,autoPlay:!0,playsInline:!0,muted:!0}),Object(be.jsx)("video",{className:"employee-remote-video-container",ref:s,autoPlay:!0,playsInline:!0}),Object(be.jsx)("div",{className:"employee-button-container",children:Object(be.jsx)(je.a,{variant:"contained",color:"secondary",onClick:l,children:"Hang up"})})]})})),wn=n(356),Un=n(358),Nn=(n(128),n(346)),Tn=n(279),kn=n(355),Pn=n(357),An=Object(ae.b)((function(e){return{connection:e.connection,shopId:e.shop.id,userId:e.user.id}}))((function(e){var t=e.connection.firestore,n=Object(u.useState)([]),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(null),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(u.useState)(!0),j=Object(b.a)(d,2),p=j[0],h=j[1],m=Object(u.useRef)([]);Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests...");var n=t.collection("shopCalls").doc(e.shopId).collection("calls").onSnapshot((function(e){e.docChanges().forEach((function(e){var t,n;"modified"===e.type&&(!(null===(t=e.doc.data().status)||void 0===t?void 0:t.answered)&&(null===(n=e.doc.data().status)||void 0===n?void 0:n.inProgress)&&(m.current.push(e.doc.id),c((function(t){return t.includes(e.doc.id)?t:[].concat(Object(A.a)(t),[e.doc.id])}))));"removed"===e.type&&(m.current=m.current.filter((function(t){return t!==e.doc.id})),c(m.current.filter((function(t){return t!==e.doc.id}))))})),h(!1)}));return function(){n()}}),[t]);var O=function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.current=r,!i&&l(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(be.jsxs)("div",{children:[Object(be.jsx)(le.a,{variant:"h2",gutterBottom:!0,children:"Call Requests"}),Object(be.jsxs)("div",{className:"requests-container",children:[Object(be.jsxs)(Nn.a,{className:"list",children:[0===r.length&&Object(be.jsxs)(Tn.a,{className:"item",button:!0,disabled:!0,children:[Object(be.jsx)(kn.a,{children:Object(be.jsx)(wn.a,{})}),Object(be.jsx)(Pn.a,{primary:"No calls yet..."})]}),r.map((function(e,t){return Object(be.jsxs)(Tn.a,{className:"item",button:!0,disabled:!!i,onClick:function(){return O(e)},children:[Object(be.jsx)(kn.a,{children:Object(be.jsx)(Un.a,{})}),Object(be.jsx)(Pn.a,{primary:"Answer client ".concat(t+1," call")})]},e)}))]}),p&&Object(be.jsx)($e.a,{})]}),i&&Object(be.jsx)(In,{callId:i,setOnCall:l,shopId:e.shopId}),Object(be.jsx)("div",{className:"btn-bottom-left",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})})),Rn=Object(re.a)((function(e){return Object(me.a)({mainContainer:{width:"80%",margin:"8vh auto auto"},heading:{fontSize:"1.1rem",flexBasis:"33.33%",flexShrink:0,textAlign:"left"},secondaryHeading:{fontSize:"0.95rem",color:e.palette.text.secondary},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},fab:{margin:e.spacing(2)}})})),En=n(50),Ln=n.n(En),Fn=n(180),Dn=n.n(Fn),Bn=n(278),Wn=function(e){var t=e.message,n=e.openedStateInParent,a=Object(u.useState)(!0),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(be.jsx)("div",{children:Object(be.jsx)(Bn.a,{in:c,children:Object(be.jsx)(Ye.a,{action:Object(be.jsx)(bt.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){o(!1),setTimeout((function(){n(!1)}),2e3)},children:Object(be.jsx)(Dn.a,{fontSize:"inherit"})}),children:t})})})},zn=function(e){var t=!0;return e.replace(/\s/g,"").length||(t=!1),e||(t=!1),t},qn=n(181),Mn=n.n(qn),Gn=n(381),Hn=n(359),Vn=n(360),Yn=n(345),Zn=n(382),Jn=n(374),$n=n(361),Kn=n(362),_n=n(363),Qn=n(364),Xn=Object(ae.b)((function(e){return{shop:e.shop,catalogue:e.catalogue,connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.shop,s=e.catalogue,i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1],p=Object(u.useState)(""),h=Object(b.a)(p,2),m=h[0],O=h[1],f=Object(u.useState)(""),g=Object(b.a)(f,2),x=g[0],v=g[1],S=Object(u.useState)(""),y=Object(b.a)(S,2),w=y[0],U=y[1],N=Object(u.useState)(""),T=Object(b.a)(N,2),k=T[0],P=T[1],A=Object(u.useState)(""),R=Object(b.a)(A,2),E=R[0],L=R[1],F=Object(u.useState)(""),D=Object(b.a)(F,2),B=D[0],W=D[1],z=Object(u.useState)(!1),q=Object(b.a)(z,2),M=q[0],G=q[1],H=Rn();Object(u.useEffect)((function(){s.addProductToCatalogueStatus.success&&(G(!0),e.resetCatalogueInteractor())}),[s.addProductToCatalogueStatus,G,e.resetCatalogueInteractor]);var V=function(){j(""),O(""),v(""),U(""),P(""),L(""),W("")},Y=function(){var t=Object(I.a)(C.a.mark((function t(n){var a,r,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.files[0],t.next=3,e.connection.storage.ref("".concat(o.id,"/").concat(a.name));case 3:return r=t.sent,c=r.child(a.name),t.next=7,c.put(a);case 7:return t.next=9,c.getDownloadURL();case 9:s=t.sent,W(s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=zn(d)&&zn(m)&&zn(x)&&zn(w)&&zn(k)&&zn(B)&&zn(E);return Object(be.jsxs)(Gn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(be.jsxs)(Hn.a,{expandIcon:Object(be.jsx)(Ln.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(be.jsx)(le.a,{className:H.heading,children:r}),Object(be.jsx)(le.a,{className:H.secondaryHeading,children:c})]}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:d,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",onChange:function(e){return j(e.target.value)}})}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:m,variant:"standard",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",onChange:function(e){return O(e.target.value)}})}),Object(be.jsx)(Vn.a,{children:Object(be.jsxs)(Yn.a,{variant:"outlined",className:H.formControl,fullWidth:!0,children:[Object(be.jsx)(Zn.a,{id:"demo-simple-select-outlined-label",children:"OS"}),Object(be.jsxs)(Jn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:x,onChange:function(e){return function(e){v(e.target.value)}(e)},label:"Age",children:[Object(be.jsx)($n.a,{value:"Android",children:"Android"}),Object(be.jsx)($n.a,{value:"IOS",children:"IOS"}),Object(be.jsx)($n.a,{value:"Windows",children:"Windows"})]})]})}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:w,variant:"standard",required:!0,fullWidth:!0,id:"color",label:"Device Color",name:"color",onChange:function(e){return U(e.target.value)}})}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:k,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"inches",label:"Inches",name:"inches",onChange:function(e){return P(e.target.value)}})}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:E,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",onChange:function(e){return L(e.target.value)}})}),Object(be.jsx)(Vn.a,{children:Object(be.jsxs)("label",{htmlFor:"upload-photo",children:[Object(be.jsx)("input",{style:{display:"none"},id:"upload-photo",name:"upload-photo",type:"file",onChange:Y}),Object(be.jsxs)(Kn.a,{color:"primary",size:"small",component:"span","aria-label":"add",variant:"extended",children:[Object(be.jsx)(Mn.a,{})," Upload photo"]})]})}),Object(be.jsx)(_n.a,{}),Object(be.jsxs)(Qn.a,{children:[Object(be.jsx)(je.a,{size:"small",onClick:function(){return V()},children:"Cancel"}),Object(be.jsx)(je.a,{size:"small",color:"primary",disabled:!Z,onClick:function(){var t={shopId:o.id,name:d,brand:m,os:x,color:w,inches:Math.trunc(parseFloat(k)).toString(),price:E,image:B};e.addProductToCatalogueInteractor(t),V()},children:"Create Product"})]}),s.addProductToCatalogueStatus.loading&&Object(be.jsx)($e.a,{}),M&&Object(be.jsx)(Wn,{message:"Product successfully created, you can close this menu now.",openedStateInParent:G})]})})),ea=n(182),ta=n(191),na=Object(ae.b)((function(e){return{shop:e.shop,catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=Rn(),n=Object(u.useState)(null),a=Object(b.a)(n,2),r=a[0],c=a[1],o=e.shop,s=e.catalogue,i=Object(u.useState)(!1),l=Object(b.a)(i,2),d=l[0],j=l[1],p=Object(u.useState)(""),h=Object(b.a)(p,2),m=h[0],O=h[1];Object(u.useEffect)((function(){s.addProductsToCatalogueStatus.success&&(j(!0),e.resetCatalogueInteractor())}),[s.addProductsToCatalogueStatus,e.resetCatalogueInteractor]);return Object(be.jsxs)(it.a,{elevation:1,children:[Object(be.jsxs)("div",{className:"flex-container-between",children:[Object(be.jsx)(le.a,{className:t.heading,children:"Import Products from CSV"}),Object(be.jsxs)("div",{className:"flex-container-evenly",children:[Object(be.jsx)(ea.a,{onDrop:function(e){c(e)},onError:function(e){O("An unexpected error ocurred: ".concat(e))},addRemoveButton:!0,children:Object(be.jsx)("span",{children:"Drop CSV file here or click to upload."})}),Object(be.jsx)(Kn.a,{color:"primary",className:t.fab,onClick:function(){var t=[];null===r||void 0===r||r.slice(1).forEach((function(e){var n={shopId:o.id,name:e.data[0],brand:e.data[1],os:e.data[2],color:e.data[3],inches:Number(e.data[4]),price:Number(e.data[5]),image:"https://firebasestorage.googleapis.com/v0/b/eabmodel-ff034.appspot.com/o/PhoneGeneric.jpeg?alt=media&token=2fc686b6-295e-4d59-9af0-db8897463b36"};(function(e){var t=!0;return Object.values(e).forEach((function(e){void 0!=e&&""!=e||(t=!1)})),t})(n)&&t.push(n)})),e.addProductsToCatalogueInteractor(t)},children:Object(be.jsx)(ta.a,{style:{fontSize:30}})})]})]}),s.addProductsToCatalogueStatus.loading&&Object(be.jsx)($e.a,{}),d&&Object(be.jsx)(Wn,{message:"Products successfully created, you can close this menu now.",openedStateInParent:j}),m]})})),aa=n(365),ra=Object(ae.b)((function(e){return{catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.catalogue,s=Object(u.useState)(!1),i=Object(b.a)(s,2),l=i[0],d=i[1],j=Rn();Object(u.useEffect)((function(){o.deleteProductFromCatalogueStatus.success&&d(!0)}),[o.deleteProductFromCatalogueStatus,d]);return Object(be.jsxs)(Gn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(be.jsxs)(Hn.a,{expandIcon:Object(be.jsx)(Ln.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(be.jsx)(le.a,{className:j.heading,children:r}),Object(be.jsx)(le.a,{className:j.secondaryHeading,children:c})]}),Object(be.jsx)(Nn.a,{dense:!0,children:o.products.map((function(t){return Object(be.jsxs)(Tn.a,{button:!0,children:[Object(be.jsx)(Pn.a,{id:t.id,primary:"".concat(t.name),secondary:"Brand: ".concat(t.brand," ").concat(t.os," Color: ").concat(t.color)}),Object(be.jsx)(aa.a,{children:Object(be.jsx)(je.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return n=t.id,void e.deleteProductFromCatalogueInteractor(n);var n},children:"Delete"})})]},t.id)}))}),Object(be.jsx)(_n.a,{}),o.deleteProductFromCatalogueStatus.loading&&Object(be.jsx)($e.a,{}),l&&Object(be.jsx)(Wn,{message:"Product successfully deleted, you can close this menu now.",openedStateInParent:d})]})})),ca=function(){var e=Object(m.g)(),t=Rn(),n=Object(u.useState)(!1),a=Object(b.a)(n,2),r=a[0],c=a[1],o=function(e){return function(t,n){c(!!n&&e)}};return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:t.mainContainer,children:[Object(be.jsx)(Xn,{expanded:r,handleChange:o,panel:"panel1",heading:"Create Single Product",summary:"Here you can create a product for this shop, giving it all its necesary attributes."}),Object(be.jsx)(na,{}),Object(be.jsx)(ra,{expanded:r,handleChange:o,panel:"panel2",heading:"Delete Product",summary:"Here you can delete a product from this shop."})]}),Object(be.jsx)("div",{className:"btn-bottom-left",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){e.go(-1)},children:"Back"})})]})},oa=n(369),sa=n(371),ia=n(367),ua=n(368),la=n(370),da=n(366),ja=(n(167),Object(ae.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),o),e))}))((function(e){var t=e.user,n=e.shops,a=e.defaultId,r=e.userId,c=e.reassignUserShopInteractor,o=e.handleUserReassignInteractor,s=Object(u.useState)(a),i=Object(b.a)(s,2),l=i[0],d=i[1];Object(u.useEffect)((function(){var e={userId:r,shopId:l};t.reassignUserShopStatus.success&&o(e)}),[t.reassignUserShopStatus.success]);var j=null===n||void 0===n?void 0:n.map((function(e){return Object(be.jsx)($n.a,{value:e.id,children:e.name},e.id)}));return Object(be.jsxs)("div",{className:"flex-container",children:[Object(be.jsxs)(Yn.a,{variant:"outlined",children:[Object(be.jsx)(Zn.a,{id:"demo-simple-select-outlined-label",children:"Shop"}),Object(be.jsx)(Jn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:l,onChange:function(e){d(e.target.value)},label:"shop",children:j.map((function(e){return e}))})]}),Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){var e={userId:r,shopId:l};c(e),o(e)},children:"Reassign"})]})}))),ba=Object(ae.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),o),e))}))((function(e){var t=e.user,n=e.data,a=e.shops,r=e.deleteUserInteractor,c=e.removeCompanyUserInteractor,o=Object(u.useState)(!1),s=Object(b.a)(o,2),i=s[0],l=s[1];Object(u.useEffect)((function(){t.deleteUserStatus.success&&i&&c(n.id)}),[t.deleteUserStatus.success]);var d,j,p;return Object(be.jsxs)(da.a,{children:[Object(be.jsx)(ia.a,{component:"th",scope:"row",children:n.username}),Object(be.jsx)(ia.a,{align:"right",children:n.sessionType}),Object(be.jsx)(ia.a,{align:"center",children:(d=n.sessionType,j=n.shopId,p=n.id,"ADMINISTRATOR"===d?void 0:Object(be.jsx)(ja,{shops:a,defaultId:j,userId:p}))}),Object(be.jsx)(ia.a,{align:"left",children:function(e){return"ADMINISTRATOR"===e?void 0:Object(be.jsx)(je.a,{variant:"contained",color:"secondary",onClick:function(){return e=n.id,r(e),void l(!0);var e},children:"Delete"})}(n.sessionType)})]},n.username)})),pa=Object(ae.b)((function(e){return{company:e.company,user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))((function(e){var t=e.company,n=e.user,a=e.getCompanyUsersInteractor,r=e.getCompanyShopsInteractor;return Object(u.useEffect)((function(){a(t.id)}),[a,n.registerUserStatus]),Object(u.useEffect)((function(){r(t.id)}),[r]),Object(be.jsx)(it.a,{children:Object(be.jsxs)("div",{children:[Object(be.jsx)("h1",{children:"Company's Employees"}),Object(be.jsx)(ua.a,{component:it.a,children:Object(be.jsxs)(oa.a,{"aria-label":"simple table",children:[Object(be.jsx)(la.a,{children:Object(be.jsxs)(da.a,{children:[Object(be.jsx)(ia.a,{children:"User"}),Object(be.jsx)(ia.a,{align:"right",children:"Type"}),Object(be.jsx)(ia.a,{align:"center",children:"Shop"}),Object(be.jsx)(ia.a,{align:"center"})]})}),Object(be.jsx)(sa.a,{children:t.users.map((function(e){return Object(be.jsx)(ba,{data:e,shops:null===t||void 0===t?void 0:t.shops},e.id)}))})]})})]})})})),ha=Object(re.a)((function(e){return Object(me.a)({mainContainer:{width:"80%",margin:"8vh auto auto"},heading:{fontSize:"1.1rem",flexBasis:"33.33%",flexShrink:0,textAlign:"left"},secondaryHeading:{fontSize:"0.95rem",color:e.palette.text.secondary},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},fab:{margin:e.spacing(2)},alertMessage:{textAlign:"left",color:"red",padding:0,margin:0}})})),ma=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},Oa=Object(ae.b)((function(e){return{shop:e.shop,company:e.company,user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.user,s=e.shop,i=e.company,l=e.registerUserInteractor,d=ha(),j=Object(u.useState)(""),p=Object(b.a)(j,2),h=p[0],m=p[1],O=Object(u.useState)(""),f=Object(b.a)(O,2),g=f[0],x=f[1],v=Object(u.useState)(""),S=Object(b.a)(v,2),y=S[0],C=S[1],I=Object(u.useState)(""),w=Object(b.a)(I,2),U=w[0],N=w[1],T=Object(u.useState)(""),k=Object(b.a)(T,2),P=k[0],A=k[1],R=Object(u.useState)(!1),E=Object(b.a)(R,2),L=E[0],F=E[1];Object(u.useEffect)((function(){o.registerUserStatus.success&&F(!0)}),[o.registerUserStatus,F]);var D=function(){m(""),x(""),C("")},B=zn(h)&&ma(g)&&zn(g)&&zn(y);return Object(be.jsxs)(Gn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(be.jsxs)(Hn.a,{expandIcon:Object(be.jsx)(Ln.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(be.jsx)(le.a,{className:d.heading,children:r}),Object(be.jsx)(le.a,{className:d.secondaryHeading,children:c})]}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:h,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Username",name:"username",onChange:function(e){return m(e.target.value)}})}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:g,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Email",name:"email",onChange:function(e){var t=e.target.value;t?ma(t)?N(""):N("This must be an email"):N(""),x(t)}})}),""===U?void 0:Object(be.jsx)(Ye.a,{severity:"warning",children:U}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:y,variant:"standard",type:"password",required:!0,fullWidth:!0,id:"name",label:"Password",name:"password",onChange:function(e){var t=e.target.value;t&&t.length<=7?A("Password must be longer than 7 characters"):A(""),C(t)}})}),""===P?void 0:Object(be.jsx)(Ye.a,{severity:"warning",children:P}),Object(be.jsx)(_n.a,{}),Object(be.jsxs)(Qn.a,{children:[Object(be.jsx)(je.a,{size:"small",onClick:function(){return D()},children:"Cancel"}),Object(be.jsx)(je.a,{size:"small",color:"primary",disabled:!B,onClick:function(){var e={username:h,email:g,companyId:i.id,shopId:s.id,password:y};l(e),D()},children:"Create User"})]}),o.registerUserStatus.loading&&Object(be.jsx)($e.a,{}),L&&Object(be.jsx)(Wn,{message:"Employee user successfully created, you can close this menu now.",openedStateInParent:F})]})})),fa=function(){var e=Rn(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1];return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:e.mainContainer,children:[Object(be.jsx)(Oa,{expanded:a,handleChange:function(e){return function(t,n){r(!!n&&e)}},panel:"panel1",heading:"Create Single User",summary:"Here you can create a user for this shop, giving it all its necesary attributes."}),Object(be.jsx)(pa,{})]}),Object(be.jsx)("div",{className:"btn-bottom-left",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})},ga=Object(ae.b)((function(e){return{company:e.company,shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.company,s=e.shop,i=e.addShopInteractor,l=Object(u.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1],h=Object(u.useState)(""),m=Object(b.a)(h,2),O=m[0],f=m[1],g=Object(u.useState)(!1),x=Object(b.a)(g,2),v=x[0],S=x[1],y=Rn();Object(u.useEffect)((function(){s.addShopStatus.success&&S(!0)}),[s.addShopStatus,S]);var C=function(){p(""),f("")};return Object(be.jsxs)(Gn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(be.jsxs)(Hn.a,{expandIcon:Object(be.jsx)(Ln.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(be.jsx)(le.a,{className:y.heading,children:r}),Object(be.jsx)(le.a,{className:y.secondaryHeading,children:c})]}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:j,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",onChange:function(e){return p(e.target.value)}})}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Me.a,{value:O,variant:"standard",required:!0,fullWidth:!0,id:"location",label:"Location",name:"location",onChange:function(e){return f(e.target.value)}})}),Object(be.jsx)(_n.a,{}),Object(be.jsxs)(Qn.a,{children:[Object(be.jsx)(je.a,{size:"small",onClick:function(){return C()},children:"Cancel"}),Object(be.jsx)(je.a,{size:"small",color:"primary",disabled:!(zn(j)&&zn(O)),onClick:function(){var e={companyId:o.id,name:j,location:O};i(e),C()},children:"Create Shop"})]}),s.addShopStatus.loading&&Object(be.jsx)($e.a,{}),v&&Object(be.jsx)(Wn,{message:"Shop successfully created, you can close this menu now.",openedStateInParent:S})]})})),xa=n(389),va=n(377),Sa=Object(ae.b)((function(e){return{shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))((function(e){var t,n=e.expanded,a=e.handleChange,r=e.panel,c=e.heading,o=e.summary,s=e.shop,i=e.setShopInteractor,l=Object(u.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],h=Object(u.useState)(null===s||void 0===s?void 0:s.id),m=Object(b.a)(h,2),O=m[0],f=m[1],g=Object(u.useState)(),x=Object(b.a)(g,2),v=x[0],S=x[1],y=Rn();return Object(be.jsxs)(Gn.a,{TransitionProps:{unmountOnExit:!0},expanded:n===r,onChange:a(r),children:[Object(be.jsxs)(Hn.a,{expandIcon:Object(be.jsx)(Ln.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(be.jsx)(le.a,{className:y.heading,children:c}),Object(be.jsx)(le.a,{className:y.secondaryHeading,children:o})]}),Object(be.jsx)(Vn.a,{children:Object(be.jsx)(Yn.a,{component:"fieldset",children:Object(be.jsx)(xa.a,{"aria-label":"shop",name:"shopChoice",value:O,onChange:function(e){var t=e.target.value;f(t);var n=s.shops.find((function(e){return e.id===t}));S(n)},children:null===(t=s.shops)||void 0===t?void 0:t.map((function(e){return Object(be.jsx)(Lt.a,{value:e.id,control:Object(be.jsx)(va.a,{}),label:e.name},e.id)}))})})}),Object(be.jsx)(_n.a,{}),Object(be.jsx)(Qn.a,{children:Object(be.jsx)(je.a,{size:"small",color:"primary",disabled:s.id===O,onClick:function(){i(v),p(!0)},children:"Switch Shop"})}),j&&Object(be.jsx)(Wn,{message:"Switched shop successfully, you can close this menu now.",openedStateInParent:p})]})})),ya=function(e){var t=e.shop,n=Object(m.g)();return Object(be.jsxs)(Tn.a,{button:!0,children:[Object(be.jsx)(Pn.a,{id:t.id,primary:"".concat(t.name),secondary:"Location: ".concat(t.location)}),Object(be.jsx)(aa.a,{children:Object(be.jsx)(je.a,{size:"small",variant:"contained",onClick:function(){return e=t.id,void n.push("/administration/shop/".concat(e));var e},children:"View devices"})})]},t.id)},Ca=Object(ae.b)((function(e){return{shop:e.shop}}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.shop,s=Rn();return Object(be.jsxs)(Gn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(be.jsxs)(Hn.a,{expandIcon:Object(be.jsx)(Ln.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(be.jsx)(le.a,{className:s.heading,children:r}),Object(be.jsx)(le.a,{className:s.secondaryHeading,children:c})]}),Object(be.jsx)(_n.a,{}),Object(be.jsx)(Nn.a,{dense:!0,children:o.shops.map((function(e){return Object(be.jsx)(ya,{shop:e},e.id)}))})]})})),Ia=function(){var e=Rn(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],c=function(e){return function(t,n){r(!!n&&e)}};return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:e.mainContainer,children:[Object(be.jsx)(ga,{expanded:a,handleChange:c,panel:"panel1",heading:"Create Shop",summary:"Here you can create a shop, giving all its necesary attributes."}),Object(be.jsx)(Sa,{expanded:a,handleChange:c,panel:"panel2",heading:"Switch Shop",summary:"Here you can change to another shop."}),Object(be.jsx)(Ca,{expanded:a,handleChange:c,panel:"panel3",heading:"View Shops",summary:"Here you can find all available shops."})]}),Object(be.jsx)("div",{className:"btn-bottom-left",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})},wa=Object(re.a)({root:{"& > *":{borderBottom:"unset"}},title:{backgroundColor:"#3f51b5",color:"white"}}),Ua=(n(168),n(185)),Na=n.n(Ua),Ta=n(184),ka=n.n(Ta),Pa=function(e){var t=e.device,n=Object(u.useState)(!1),a=Object(b.a)(n,2),r=a[0],c=a[1],o=wa();return Object(be.jsxs)(l.a.Fragment,{children:[Object(be.jsxs)(da.a,{className:o.root,children:[Object(be.jsx)(ia.a,{children:Object(be.jsx)(bt.a,{"aria-label":"expand row",size:"small",onClick:function(){return c(!r)},children:r?Object(be.jsx)(ka.a,{}):Object(be.jsx)(Na.a,{})})}),Object(be.jsx)(ia.a,{component:"th",scope:"row",children:t.name}),Object(be.jsx)(ia.a,{align:"right",children:t.brand}),Object(be.jsx)(ia.a,{align:"right",children:t.os})]}),Object(be.jsx)(da.a,{children:Object(be.jsx)(ia.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(be.jsx)(Bn.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(be.jsxs)(fe.a,{margin:1,children:[Object(be.jsx)(le.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Details"}),Object(be.jsxs)(oa.a,{size:"small","aria-label":"purchases",children:[Object(be.jsx)(la.a,{children:Object(be.jsxs)(da.a,{children:[Object(be.jsx)(ia.a,{children:"Color"}),Object(be.jsx)(ia.a,{children:"Inches"}),Object(be.jsx)(ia.a,{children:"Price"})]})}),Object(be.jsx)(sa.a,{children:Object(be.jsxs)(da.a,{children:[Object(be.jsx)(ia.a,{component:"th",scope:"row",children:t.color}),Object(be.jsx)(ia.a,{children:t.inches}),Object(be.jsx)(ia.a,{children:t.price})]})})]})]})})})})]},t.id)},Aa=function(){var e=window.location.pathname.split("/")[4],t=Object(u.useState)([]),n=Object(b.a)(t,2),a=n[0],r=n[1],c=wa();return Object(u.useEffect)((function(){Z.getShopProducts(e).then(r)}),[]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(le.a,{className:c.title,variant:"h4",children:"All devices of the shop"}),Object(be.jsx)(ua.a,{component:it.a,children:Object(be.jsxs)(oa.a,{"aria-label":"collapsible table",children:[Object(be.jsx)(la.a,{children:Object(be.jsxs)(da.a,{children:[Object(be.jsx)(ia.a,{}),Object(be.jsx)(ia.a,{children:"Device name"}),Object(be.jsx)(ia.a,{align:"right",children:"Brand"}),Object(be.jsx)(ia.a,{align:"right",children:"Os"})]})}),Object(be.jsx)(sa.a,{children:a.map((function(e,t){return Object(be.jsx)(Pa,{device:e},t)}))})]})}),Object(be.jsx)("div",{className:"btn-bottom-left",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})},Ra=Object(ae.b)((function(e){return{products:e.catalogue.products,connection:e.connection}}))((function(e){var t=e.products,n=Object(m.g)(),a=Object(u.useState)(),r=Object(b.a)(a,2),c=r[0],o=r[1],s=window.location.pathname.split("/")[3];Object(u.useEffect)((function(){if((null===c||void 0===c?void 0:c.id)!==s){var e=t.find((function(e){return e.id===s}));o(e)}}),[c]);var i=Object(u.useCallback)((function(){n.push("/home/call")}),[]);return Object(be.jsxs)("div",{className:"main-container",children:[Object(be.jsxs)("div",{className:"details-container",children:[Object(be.jsx)(le.a,{className:"title",variant:"h3",children:"Device Details"}),Object(be.jsxs)("div",{className:"detail",children:[Object(be.jsx)(le.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Name:"}),Object(be.jsx)(le.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.name})]}),Object(be.jsxs)("div",{className:"detail",children:[Object(be.jsx)(le.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Brand:"}),Object(be.jsx)(le.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.brand})]}),Object(be.jsxs)("div",{className:"detail",children:[Object(be.jsx)(le.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Color:"}),Object(be.jsx)(le.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.color})]}),Object(be.jsxs)("div",{className:"detail",children:[Object(be.jsx)(le.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Screen Inches:"}),Object(be.jsx)(le.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.inches})]}),Object(be.jsxs)("div",{className:"detail",children:[Object(be.jsx)(le.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Operative System:"}),Object(be.jsx)(le.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.os})]}),Object(be.jsxs)("div",{className:"detail",children:[Object(be.jsx)(le.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Price:"}),Object(be.jsxs)(le.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:[null===c||void 0===c?void 0:c.price," CLP"]})]}),Object(be.jsx)("div",{className:"customer-button-container",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:i,children:"Get Assistance"})})]}),Object(be.jsx)("div",{className:"photo-container",children:Object(be.jsx)("img",{className:"image",src:null===c||void 0===c?void 0:c.image,alt:"Product"})}),Object(be.jsx)("div",{className:"btn-bottom-left",children:Object(be.jsx)(je.a,{variant:"contained",color:"primary",onClick:function(){n.go(-1)},children:"Back"})})]})})),Ea=Object(re.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},root:{display:"flex",alignItems:"center"}}})),La={postCallRegister:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"post",url:"/calls/new-call",data:{employeeId:t.employeeId,shopId:t.shopId,rating:t.rating,date:t.date}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRating:function(){var e=Object(I.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"put",url:"/calls/".concat(n),data:{rating:t}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Fa=n(386),Da=n(124),Ba=n.n(Da),Wa=n(375),za=n(372),qa=n(280),Ma=Object(ae.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=Ea(),n=e.callId,a=Object(u.useState)(),r=Object(b.a)(a,2),c=r[0],o=r[1],s=Object(u.useState)(),i=Object(b.a)(s,2),d=i[0],j=i[1],p=Object(u.useState)(),h=Object(b.a)(p,2),m=h[0],O=h[1],f=l.a.useState(!0),g=Object(b.a)(f,2),x=g[0],v=g[1],S=function(){v(!1)},y=function(){o(null),j(null),O(null),e.setCallStateFalseInteractor(),S()},w="undefined"!==typeof c&&"undefined"!==typeof d&&"undefined"!==typeof m,U=function(){var t=Object(I.a)(C.a.mark((function t(){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=.4*c+.25*d+.35*m,t.next=3,La.addRating(a,n);case 3:e.setCallStateFalseInteractor(),y(),S(),e.sendSurvey();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(be.jsx)("div",{children:Object(be.jsx)(Wa.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:x,onClose:S,closeAfterTransition:!0,BackdropComponent:za.a,BackdropProps:{timeout:500},children:Object(be.jsx)(qa.a,{in:x,children:Object(be.jsxs)("div",{className:t.paper,children:[Object(be.jsx)("h2",{id:"transition-modal-title",children:"Tell us your experience!"}),Object(be.jsxs)(fe.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(be.jsx)(le.a,{component:"legend",children:"Was the assistant able to solve all your doubts?"}),Object(be.jsx)(Fa.a,{name:"question-one",defaultValue:.5,precision:.5,emptyIcon:Object(be.jsx)(Ba.a,{fontSize:"inherit"}),onChange:function(e,t){o(t)}})]}),Object(be.jsxs)(fe.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(be.jsx)(le.a,{component:"legend",children:"Was the assistant\xb4s disposition adequate?"}),Object(be.jsx)(Fa.a,{name:"question-two",defaultValue:.5,precision:.5,emptyIcon:Object(be.jsx)(Ba.a,{fontSize:"inherit"}),onChange:function(e,t){j(t)}})]}),Object(be.jsxs)(fe.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(be.jsx)(le.a,{component:"legend",children:"The response time to the video call was.."}),Object(be.jsx)(Fa.a,{name:"question-three",defaultValue:.5,precision:.5,emptyIcon:Object(be.jsx)(Ba.a,{fontSize:"inherit"}),onChange:function(e,t){O(t)}})]}),Object(be.jsx)(_n.a,{}),Object(be.jsxs)(Qn.a,{children:[Object(be.jsx)(je.a,{onClick:function(){return y()},children:"No thanks"}),Object(be.jsx)(je.a,{color:"primary",disabled:!w,onClick:U,children:"Done"})]})]})})})})})),Ga=Object(ae.b)((function(e){return{connection:e.connection,shopId:e.shop.id,userId:e.user.id}}))((function(e){var t=Object(m.g)(),n=e.connection.firestore,a=Object(u.useState)(null),r=Object(b.a)(a,2),c=r[0],o=r[1],s=Object(u.useState)(!1),i=Object(b.a)(s,2),l=i[0],d=i[1],j=Object(u.useRef)(void 0).current;Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests..."),n.collection("shopCalls").doc(e.shopId).set({updatedAt:new Date});var t={answered:!1,inProgress:!1,date:new Date};p().then((function(a){n.collection("shopCalls").doc(e.shopId).collection("calls").doc(a.id).set({status:t}),j=a.id,o(j)}))}),[]),Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests...");var t=n.collection("shopCalls").doc(e.shopId).collection("calls").onSnapshot((function(e){e.docChanges().forEach((function(e){"removed"===e.type&&e.doc.id===j&&d(!0)}))}));return function(){t()}}),[n]);var p=function(){var t=Object(I.a)(C.a.mark((function t(){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={employeeId:e.userId,shopId:e.shopId,rating:null,date:new Date},t.next=3,La.postCallRegister(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l?Object(be.jsx)(Ma,{callId:c,sendSurvey:function(){j=null,d(!1),t.go(-1)}}):Object(be.jsxs)("div",{className:"go-to-tablet-screen",children:[Object(be.jsx)("h1",{children:"An assistant will take care of you"}),Object(be.jsx)("p",{children:"Please, go to the nearest assistance tablet \ud83d\ude01"})]})})),Ha=function(){var e=Object(I.a)(C.a.mark((function e(t){var n,a,r,c,o,s,i,u,l,d,j;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.firestore,r=t.shopId,c=t.peerConnection,o=t.setIsOnCall,s=a.collection("shopCalls").doc(r).collection("calls").doc(n),i=null===s||void 0===s?void 0:s.collection("offerCandidates"),u=null===s||void 0===s?void 0:s.collection("answerCandidates"),o(!0),c.onicecandidate=function(e){e.candidate&&i.add(e.candidate.toJSON())},e.next=8,c.createOffer();case 8:return l=e.sent,e.next=11,c.setLocalDescription(l);case 11:return d={sdp:l.sdp,type:l.type},j={answered:!1,inProgress:!0,date:new Date},e.next=15,s.set({offer:d,status:j});case 15:return s.onSnapshot((function(e){var t=e.data();if(!c.currentRemoteDescription&&(null===t||void 0===t?void 0:t.answer)){var n=new RTCSessionDescription(t.answer);c.setRemoteDescription(n)}})),u.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=new RTCIceCandidate(e.doc.data());c.addIceCandidate(t)}}))})),e.abrupt("return",s.id);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Va=Object(ae.b)((function(e){return{connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.connection,n=t.firestore,a=t.peerConnection,r=Object(u.useRef)(),c=Object(u.useRef)(),o=Object(u.useState)(!1),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(u.useRef)().current,j=function(){var t=Object(I.a)(C.a.mark((function t(r){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ha({id:r,firestore:n,shopId:e.shopId,peerConnection:a,setIsOnCall:l});case 2:d=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(I.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.prev=1,t.next=4,n.collection("shopCalls").doc(e.shopId).collection("calls").doc(d).delete();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:return t.prev=9,e.hangupCall(),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){var t={peerConnection:a,webcamVideo:r.current,remoteVideo:c.current};return ln(t).then((function(t){var n=t.localStream,a=t.remoteStream;e.setLocalStreamInteractor(n),e.setRemoteStreamInteractor(a)})).then((function(){return j(e.currentCallId)})),function(){r.current&&c.current&&(r.current.srcObject=null,c.current.srcObject=null),e.resetStreamConnectionInteractor()}}),[i]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("h1",{children:"Getting Assistance"}),Object(be.jsx)("div",{className:"customer-call-container",children:Object(be.jsxs)("div",{className:"customer-main-container",children:[Object(be.jsx)("video",{className:"local-video-container",ref:r,autoPlay:!0,playsInline:!0,muted:!0}),Object(be.jsx)("video",{className:"remote-video-container",ref:c,autoPlay:!0,playsInline:!0}),Object(be.jsx)("div",{className:"customer-button-container",children:Object(be.jsx)(je.a,{size:"small",variant:"contained",color:"secondary",disabled:!i,onClick:p,children:"Hang up"})})]})})]})})),Ya=Object(ae.b)((function(e){return{connection:e.connection,shopId:e.shop.id}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.connection.firestore,n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(!1),s=Object(b.a)(o,2),i=s[0],l=s[1];return Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests...");var n=t.collection("shopCalls").doc(e.shopId).collection("calls").onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&(e.doc.data().status.inProgress||r||(c(e.doc.id),l(!0))),"removed"===e.type&&window.location.reload()}))}));return function(){n()}}),[t]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(le.a,{component:"h1",variant:"h3",children:"Assistance Tablet"}),i&&Object(be.jsx)(Va,{shopId:e.shopId,currentCallId:r,hangupCall:function(){c(""),l(!1)}})]})})),Za=n(186),Ja=n.n(Za),$a=(n(169),Object(ae.b)((function(e){return{user:e.user,company:e.company,shopId:e.shop.id}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),a),e))}))((function(e){var t=e.user,n=e.company,a=e.shopId,r=Object(m.g)();return Object(be.jsxs)("div",{className:"options",children:[n.id&&Object(be.jsx)(je.a,{color:"inherit",onClick:function(){r.replace("/home")},children:"Home"}),a.length>0&&Object(be.jsx)(je.a,{color:"inherit",onClick:function(){r.push("/assistance")},children:"Assistance Tablet"}),"ANONYMOUS"!==t.sessionType&&Object(be.jsx)(je.a,{color:"inherit",onClick:function(){r.replace("/administration")},children:"Administration"})]})})));!function(e){e.SUCCESS="success",e.ERROR="error"}(jn||(jn={}));var Ka=function(e){var t=e.message,n=e.type,a=e.time,r=Object(u.useRef)(null).current,c=Object(u.useState)(!0),o=Object(b.a)(c,2),s=o[0],i=o[1],l=Object(Xe.useTransition)(s,{from:{y:100,opacity:0,margin:"4px 0",boxShadow:"5px 6px 12px -4px rgba(0,0,0,0.75)"},enter:{y:0,opacity:1,margin:"4px 0",boxShadow:"5px 8px 15px -8px rgba(0,0,0,0.9)"},leave:{y:100,opacity:0,margin:"4px 0",boxShadow:"5px 6px 12px -4px rgba(0,0,0,0.75)"}});Object(u.useEffect)((function(){clearTimeout(r),r=setTimeout((function(){i(!1)}),a)}),[]);var d=function(){clearTimeout(r),i(!1)};return Object(be.jsx)(be.Fragment,{children:l((function(e,a){return a?Object(be.jsx)(Xe.animated.div,{style:e,children:Object(be.jsx)(Ye.a,{severity:n,onClose:d,children:t})}):""}))})},_a=function(e){var t=e.time+e.margin,n=e.time,a=e.company,r=e.resetRegisterCompanyInteractor,c=e.resetLoginCompanyInteractor,o=e.resetLogoutCompanyInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.registerCompanyStatus.success&&(d("Company created successfully"),setTimeout((function(){r(),d("")}),t))}),[r,a.registerCompanyStatus.success,t]),Object(u.useEffect)((function(){a.loginCompanyStatus.success&&(d("Successfull company login"),setTimeout((function(){c(),d("")}),t))}),[c,a.loginCompanyStatus.success,t]),Object(u.useEffect)((function(){a.logoutCompanyStatus.success&&(d("Successfull company logout"),setTimeout((function(){o(),d("")}),t))}),[o,a.logoutCompanyStatus.success,t]),Object(be.jsx)(be.Fragment,{children:l.length>0&&Object(be.jsx)(Ka,{message:l,type:jn.SUCCESS,time:n})})},Qa=Object(ae.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))(Object(u.memo)(_a)),Xa=function(e){var t=e.time+e.margin,n=e.time,a=e.catalogue,r=e.resetAddProductToCatalogueInteractor,c=e.resetAddProductsToCatalogueInteractor,o=e.resetDeleteProductFromCatalogueInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.addProductToCatalogueStatus.success&&(d("Product created successfully"),setTimeout((function(){r(),d("")}),t))}),[r,a.addProductToCatalogueStatus.success,t]),Object(u.useEffect)((function(){a.addProductsToCatalogueStatus.success&&(d("List of products created successfully"),setTimeout((function(){c(),d("")}),t))}),[c,a.addProductsToCatalogueStatus.success,t]),Object(u.useEffect)((function(){a.deleteProductFromCatalogueStatus.success&&(d("Product deleted successfully"),setTimeout((function(){o(),d("")}),t))}),[o,a.deleteProductFromCatalogueStatus.success,t]),Object(be.jsx)(be.Fragment,{children:l.length>0&&Object(be.jsx)(Ka,{message:l,type:jn.SUCCESS,time:n})})},er=Object(ae.b)((function(e){return{catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))(Object(u.memo)(Xa)),tr=function(e){var t=e.time+e.margin,n=e.time,a=e.shop,r=e.resetAddShopInteractor,c=e.resetRemoveShopInteractor,o=e.resetUpdateShopInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.addShopStatus.success&&(d("Shop created successfully"),setTimeout((function(){r(),d("")}),t))}),[r,a.addShopStatus.success,t]),Object(u.useEffect)((function(){a.removeShopStatus.success&&(d("Shop deleted successfully"),setTimeout((function(){c(),d("")}),t))}),[c,a.removeShopStatus.success,t]),Object(u.useEffect)((function(){a.updateShopStatus.success&&(d("Shop updated successfully"),setTimeout((function(){o(),d("")}),t))}),[o,a.updateShopStatus.success,t]),Object(be.jsx)(be.Fragment,{children:l.length>0&&Object(be.jsx)(Ka,{message:l,type:jn.SUCCESS,time:n})})},nr=Object(ae.b)((function(e){return{shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))(Object(u.memo)(tr)),ar=function(e){var t=e.time+e.margin,n=e.time,a=e.user,r=e.resetLoginUserInteractor,c=e.resetLogoutUserInteractor,o=e.resetDeleteUserInteractor,s=e.resetRegisterUserInteractor,i=e.resetReassignUserInteractor,l=Object(u.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1];return Object(u.useEffect)((function(){a.registerUserStatus.success&&(p("Successfull user register"),setTimeout((function(){s(),p("")}),t))}),[s,a.registerUserStatus.success,t]),Object(u.useEffect)((function(){a.loginUserStatus.success&&(p("Successfull user login"),setTimeout((function(){r(),p("")}),t))}),[r,a.loginUserStatus.success,t]),Object(u.useEffect)((function(){a.logoutUserStatus.success&&(p("Successfull user logout"),setTimeout((function(){c(),p("")}),t))}),[c,a.logoutUserStatus.success,t]),Object(u.useEffect)((function(){a.deleteUserStatus.success&&(p("Successfull user delete"),setTimeout((function(){o(),p("")}),t))}),[o,a.deleteUserStatus.success,t]),Object(u.useEffect)((function(){a.reassignUserShopStatus.success&&(p("Succesfull reasignation of user to another shop"),setTimeout((function(){i(),p("")}),t))}),[i,a.reassignUserShopStatus.success,t]),Object(be.jsx)(be.Fragment,{children:j.length>0&&Object(be.jsx)(Ka,{message:j,type:jn.SUCCESS,time:n})})},rr=Object(ae.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))(Object(u.memo)(ar)),cr=(n(170),function(e){var t=e.time,n=e.margin;return Object(be.jsxs)("div",{className:"message-alert-container",children:[Object(be.jsx)(Qa,{time:t,margin:n}),Object(be.jsx)(er,{time:t,margin:n}),Object(be.jsx)(nr,{time:t,margin:n}),Object(be.jsx)(rr,{time:t,margin:n})]})}),or=Object(u.memo)(cr),sr=function(e){var t=e.time+e.margin,n=e.time,a=e.company,r=e.resetRegisterCompanyInteractor,c=e.resetLoginCompanyInteractor,o=e.resetLogoutCompanyInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.registerCompanyStatus.error&&(d(String(a.registerCompanyStatus.error)),setTimeout((function(){r(),d("")}),t))}),[r,a.registerCompanyStatus.error,t]),Object(u.useEffect)((function(){a.loginCompanyStatus.error&&(d(String(a.loginCompanyStatus.error)),setTimeout((function(){c(),d("")}),t))}),[c,a.loginCompanyStatus.error,t]),Object(u.useEffect)((function(){a.logoutCompanyStatus.error&&(d(String(a.logoutCompanyStatus.error)),setTimeout((function(){o(),d("")}),t))}),[o,a.logoutCompanyStatus.error,t]),Object(be.jsx)(be.Fragment,{children:l.length>0&&Object(be.jsx)(Ka,{message:l,type:jn.ERROR,time:n})})},ir=Object(ae.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))(Object(u.memo)(sr)),ur=function(e){var t=e.time+e.margin,n=e.time,a=e.catalogue,r=e.resetGetCatalogueInteractor,c=e.resetAddProductToCatalogueInteractor,o=e.resetAddProductsToCatalogueInteractor,s=e.resetDeleteProductFromCatalogueInteractor,i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1];return Object(u.useEffect)((function(){a.getCatalogueStatus.error&&(j(String(a.getCatalogueStatus.error)),setTimeout((function(){r(),j("")}),t))}),[r,a.getCatalogueStatus.error,t]),Object(u.useEffect)((function(){a.addProductToCatalogueStatus.error&&(j(String(a.addProductToCatalogueStatus.error)),setTimeout((function(){c(),j("")}),t))}),[c,a.addProductToCatalogueStatus.error,t]),Object(u.useEffect)((function(){a.addProductsToCatalogueStatus.error&&(j(String(a.addProductsToCatalogueStatus.error)),setTimeout((function(){o(),j("")}),t))}),[o,a.addProductsToCatalogueStatus.error,t]),Object(u.useEffect)((function(){a.deleteProductFromCatalogueStatus.error&&(j(String(a.deleteProductFromCatalogueStatus.error)),setTimeout((function(){s(),j("")}),t))}),[s,a.deleteProductFromCatalogueStatus.error,t]),Object(be.jsx)(be.Fragment,{children:d.length>0&&Object(be.jsx)(Ka,{message:d,type:jn.ERROR,time:n})})},lr=Object(ae.b)((function(e){return{catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))(Object(u.memo)(ur)),dr=function(e){var t=e.time+e.margin,n=e.time,a=e.shop,r=e.resetAddShopInteractor,c=e.resetRemoveShopInteractor,o=e.resetUpdateShopInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.addShopStatus.error&&(d(String(a.addShopStatus.error)),setTimeout((function(){r(),d("")}),t))}),[r,a.addShopStatus.error,t]),Object(u.useEffect)((function(){a.removeShopStatus.error&&(d(String(a.removeShopStatus.error)),setTimeout((function(){c(),d("")}),t))}),[c,a.removeShopStatus.error,t]),Object(u.useEffect)((function(){a.updateShopStatus.error&&(d(String(a.updateShopStatus.error)),setTimeout((function(){o(),d("")}),t))}),[o,a.updateShopStatus.error,t]),Object(be.jsx)(be.Fragment,{children:l.length>0&&Object(be.jsx)(Ka,{message:l,type:jn.ERROR,time:n})})},jr=Object(ae.b)((function(e){return{shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))(Object(u.memo)(dr)),br=function(e){var t=e.time+e.margin,n=e.time,a=e.user,r=e.resetLoginUserInteractor,c=e.resetLogoutUserInteractor,o=e.resetDeleteUserInteractor,s=e.resetRegisterUserInteractor,i=e.resetReassignUserInteractor,l=Object(u.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1];return Object(u.useEffect)((function(){a.registerUserStatus.error&&(p(String(a.registerUserStatus.error)),setTimeout((function(){s(),p("")}),t))}),[s,a.registerUserStatus.error,t]),Object(u.useEffect)((function(){a.loginUserStatus.error&&(p(String(a.loginUserStatus.error)),setTimeout((function(){r(),p("")}),t))}),[r,a.loginUserStatus.error,t]),Object(u.useEffect)((function(){a.logoutUserStatus.error&&(p(String(a.logoutUserStatus.error)),setTimeout((function(){c(),p("")}),t))}),[c,a.logoutUserStatus.error,t]),Object(u.useEffect)((function(){a.deleteUserStatus.error&&(p(String(a.deleteUserStatus.error)),setTimeout((function(){o(),p("")}),t))}),[o,a.deleteUserStatus.error,t]),Object(u.useEffect)((function(){a.reassignUserShopStatus.error&&(p(String(a.reassignUserShopStatus.error)),setTimeout((function(){i(),p("")}),t))}),[i,a.reassignUserShopStatus.error,t]),Object(be.jsx)(be.Fragment,{children:j.length>0&&Object(be.jsx)(Ka,{message:j,type:jn.ERROR,time:n})})},pr=Object(ae.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))(Object(u.memo)(br)),hr=function(e){var t=e.time,n=e.margin;return Object(be.jsxs)("div",{className:"message-alert-container",children:[Object(be.jsx)(ir,{time:t,margin:n}),Object(be.jsx)(lr,{time:t,margin:n}),Object(be.jsx)(jr,{time:t,margin:n}),Object(be.jsx)(pr,{time:t,margin:n})]})},mr=Object(u.memo)(hr),Or=Object(re.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"left"}}})),fr=function(e){var t=e.component,n=Object(h.a)(e,["component"]),a=Object(ae.c)((function(e){return e.user}));return Object(be.jsx)(m.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return"ANONYMOUS"!==a.sessionType?Object(be.jsx)(t,Object(p.a)({},e)):Object(be.jsx)(m.a,{to:"/home"})}}))},gr=function(e){var t=e.component,n=Object(h.a)(e,["component"]),a=Object(ae.c)((function(e){return e.user}));return Object(be.jsx)(m.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return"ADMINISTRATOR"===a.sessionType?Object(be.jsx)(t,Object(p.a)({},e)):Object(be.jsx)(m.a,{to:"/administration"})}}))},xr=function(){var e=Or(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Object(u.useState)(a?"open":"closed"),o=Object(b.a)(c,2),s=o[0],i=o[1];return Object(be.jsx)(O.a,{basename:"/frontend",children:Object(be.jsxs)("div",{id:"layout",children:[Object(be.jsxs)("div",{id:"left",className:s,children:[Object(be.jsx)(bt.a,{edge:"start",className:"icon ".concat(e.menuButton),color:"inherit","aria-label":"menu",onClick:function(){r(!a),i(a?"open":"closed")},children:Object(be.jsx)(Ja.a,{})}),Object(be.jsx)("div",{className:"sidebar ".concat(s),children:Object(be.jsx)("div",{className:"content",children:Object(be.jsx)($a,{})})})]}),Object(be.jsxs)("div",{id:"main",children:[Object(be.jsx)("div",{className:"header",children:Object(be.jsx)("div",{className:"\n                          title\n                          ".concat("left-"+s,"\n                      "),children:Object(be.jsx)(Ot,{})})}),Object(be.jsxs)("div",{className:"content",id:"page",children:[Object(be.jsx)(mr,{time:4e3,margin:1e3}),Object(be.jsx)(or,{time:4e3,margin:1e3}),Object(be.jsxs)(m.d,{children:[Object(be.jsx)(m.b,{path:"/",exact:!0,component:rn}),Object(be.jsx)(m.b,{path:"/home",exact:!0,component:nt}),Object(be.jsx)(m.b,{path:"/home/call",exact:!0,component:Ga}),Object(be.jsx)(m.b,{path:"/information",exact:!0,component:lt}),Object(be.jsx)(m.b,{path:"/product/:id/details",exact:!0,component:Ra}),Object(be.jsx)(m.b,{path:"/assistance",exact:!0,component:Ya}),Object(be.jsx)(fr,{path:"/administration",exact:!0,component:un}),Object(be.jsx)(fr,{path:"/administration/calls",exact:!0,component:An}),Object(be.jsx)(gr,{path:"/administration/shop",exact:!0,component:Ia}),Object(be.jsx)(gr,{path:"/administration/shop/:id",exact:!0,component:Aa}),Object(be.jsx)(gr,{path:"/administration/catalogue",exact:!0,component:ca}),Object(be.jsx)(gr,{path:"/administration/employees",exact:!0,component:fa})]})]})]})]})})},vr=function(){return Object(be.jsx)("div",{className:"container",children:Object(be.jsx)("div",{className:"App",children:Object(be.jsx)(xr,{})})})},Sr=n(138),yr=n(98),Cr=n(187),Ir=n(188),wr={key:"root",storage:n.n(Ir).a,whitelist:["company","user","shop","catalogue"]},Ur=Object(f.combineReducers)({user:ye,modal:v,catalogue:q,company:xt,shop:qt,connection:hn}),Nr=Object(Sr.a)(wr,Ur),Tr=Object(f.createStore)(Nr,Object(Cr.composeWithDevTools)(Object(f.applyMiddleware)(yr.a))),kr=Object(Sr.b)(Tr),Pr=n(190),Ar=n(189),Rr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Er(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Lr=function(e){e&&e instanceof Function&&n.e(16).then(n.bind(null,390)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},Fr=Object(Pr.a)(),Dr=document.getElementById("root"),Br=(/#!(\/.*)$/.exec(window.location.hash)||[])[1];Br&&Fr.replace(Br),j.a.render(Object(be.jsx)(ae.a,{store:Tr,children:Object(be.jsx)(Ar.a,{persistor:kr,children:Object(be.jsx)(vr,{})})}),Dr),function(e){if("serviceWorker"in navigator){if(new URL("/frontend",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/frontend","/service-worker.js");Rr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Er(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Er(t,e)}))}}(),Lr()}},[[274,14,15]]]);
//# sourceMappingURL=main.c85c4bba.chunk.js.map