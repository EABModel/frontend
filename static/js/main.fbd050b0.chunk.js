(this["webpackJsonpvirtual-assistant-frontend"]=this["webpackJsonpvirtual-assistant-frontend"]||[]).push([[0],{128:function(e,t,n){},129:function(e,t,n){},161:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},217:function(e,t,n){},245:function(e,t,n){},257:function(e,t,n){},260:function(e,t){},262:function(e,t){},274:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"showPopUpInteractor",(function(){return P})),n.d(a,"closePopUpInteractor",(function(){return k}));var r={};n.r(r),n.d(r,"getCatalogueInteractor",(function(){return J})),n.d(r,"addProductToCatalogueInteractor",(function(){return $})),n.d(r,"addProductsToCatalogueInteractor",(function(){return K})),n.d(r,"deleteProductFromCatalogueInteractor",(function(){return _})),n.d(r,"editProductFromCatalogueInteractor",(function(){return Q})),n.d(r,"resetGetCatalogueInteractor",(function(){return X})),n.d(r,"resetAddProductToCatalogueInteractor",(function(){return ee})),n.d(r,"resetAddProductsToCatalogueInteractor",(function(){return te})),n.d(r,"resetDeleteProductFromCatalogueInteractor",(function(){return ne})),n.d(r,"resetEditProductFromCatalogueInteractor",(function(){return ae})),n.d(r,"resetCatalogueInteractor",(function(){return re}));var c={};n.r(c),n.d(c,"registerUserInteractor",(function(){return Ne})),n.d(c,"loginUserInteractor",(function(){return Te})),n.d(c,"logoutUserInteractor",(function(){return Pe})),n.d(c,"deleteUserInteractor",(function(){return ke})),n.d(c,"reassignUserShopInteractor",(function(){return Ae})),n.d(c,"resetRegisterUserInteractor",(function(){return Re})),n.d(c,"resetLoginUserInteractor",(function(){return Ee})),n.d(c,"resetLogoutUserInteractor",(function(){return Fe})),n.d(c,"resetUserStatusInteractor",(function(){return Le})),n.d(c,"resetUserInteractor",(function(){return De})),n.d(c,"resetDeleteUserInteractor",(function(){return Be})),n.d(c,"resetReassignUserInteractor",(function(){return We}));var o={};n.r(o),n.d(o,"registerCompanyInteractor",(function(){return It})),n.d(o,"loginCompanyInteractor",(function(){return wt})),n.d(o,"logoutCompanyInteractor",(function(){return Ut})),n.d(o,"getCompanyUsersInteractor",(function(){return Nt})),n.d(o,"getCompanyShopsInteractor",(function(){return Tt})),n.d(o,"removeCompanyUserInteractor",(function(){return Pt})),n.d(o,"resetRegisterCompanyInteractor",(function(){return kt})),n.d(o,"resetLoginCompanyInteractor",(function(){return At})),n.d(o,"resetLogoutCompanyInteractor",(function(){return Rt})),n.d(o,"resetCompanyStatusInteractor",(function(){return Et})),n.d(o,"resetCompanyInteractor",(function(){return Ft})),n.d(o,"handleUserReassignInteractor",(function(){return Lt}));var s={};n.r(s),n.d(s,"addShopInteractor",(function(){return Yt})),n.d(s,"removeShopInteractor",(function(){return Zt})),n.d(s,"updateShopInteractor",(function(){return Jt})),n.d(s,"setShopsInteractor",(function(){return $t})),n.d(s,"resetAddShopInteractor",(function(){return Kt})),n.d(s,"resetRemoveShopInteractor",(function(){return _t})),n.d(s,"resetUpdateShopInteractor",(function(){return Qt})),n.d(s,"setShopInteractor",(function(){return Xt})),n.d(s,"resetShopStatusInteractor",(function(){return en})),n.d(s,"resetShopInteractor",(function(){return tn}));var i={};n.r(i),n.d(i,"setLocalStreamInteractor",(function(){return gn})),n.d(i,"resetLocalStreamInteractor",(function(){return xn})),n.d(i,"setRemoteStreamInteractor",(function(){return vn})),n.d(i,"resetRemoteStreamInteractor",(function(){return Sn})),n.d(i,"resetStreamConnectionInteractor",(function(){return Cn})),n.d(i,"setCallStateTrueInteractor",(function(){return yn})),n.d(i,"setCallStateFalseInteractor",(function(){return In}));var u=n(0),l=n.n(u),d=n(21),j=n.n(d),b=(n(217),n(9)),p=n(5),h=n(141),m=n(25),O=n(45),f=n(13),g=n(30),x=Object(g.a)({name:"modal",initialState:{open:!1},reducers:{showLogIn:function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!0})},closeLogIn:function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!1})}}}),v=x.reducer,S=x.actions,C=n(11),y=n.n(C),I=n(16),w=function(e,t,n,a){return function(r){return function(){var c=Object(I.a)(y.a.mark((function c(o){var s,i,u,l;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o(e()),c.prev=1,c.next=4,a(r);case 4:s=c.sent,o(t(s)),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),o(n(null===c.t0||void 0===c.t0||null===(i=c.t0.response)||void 0===i||null===(u=i.data)||void 0===u||null===(l=u.error)||void 0===l?void 0:l.message));case 11:case"end":return c.stop()}}),c,null,[[1,8]])})));return function(e){return c.apply(this,arguments)}}()}},U=function(e,t,n,a){return function(){return function(){var r=Object(I.a)(y.a.mark((function r(c){var o,s,i,u;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c(e()),r.prev=1,!a){r.next=6;break}return r.next=5,a();case 5:o=r.sent;case 6:c(t(o)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),c(n(null===r.t0||void 0===r.t0||null===(s=r.t0.response)||void 0===s||null===(i=s.data)||void 0===i||null===(u=i.error)||void 0===u?void 0:u.message));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}},N=function(e){return function(t){return function(n){n(e(t))}}},T=function(e){return function(){return function(t){t(e())}}},P=T(S.showLogIn),k=T(S.closeLogIn),A=n(33),R=n(52),E=function(e,t,n){return function(t,a){var r;return Object(p.a)(Object(p.a)({},t),{},(r={},Object(R.a)(r,n,a.payload),Object(R.a)(r,"".concat(e,"Status"),{loading:!1,success:!0,error:!1}),r))}},F=function(e,t){return function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},"".concat(t,"Status"),{loading:!0,success:!1,error:!1}))}},L=function(e,t){return function(e,n){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},"".concat(t,"Status"),{loading:!1,success:!1,error:n.payload||!0}))}},D=function(e,t){return function(n){return Object(p.a)(Object(p.a)({},n),{},Object(R.a)({},"".concat(t,"Status"),e["".concat(t,"Status")]))}},B=function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E(e,0,n),c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:F(0,e),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:L(0,e),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:D(t,e),i=e[0].toUpperCase()+e.slice(1);return a={},Object(R.a)(a,"loading".concat(i),c),Object(R.a)(a,"success".concat(i),r),Object(R.a)(a,"error".concat(i),o),Object(R.a)(a,"reset".concat(i),s),a},W={products:[],getCatalogueStatus:{loading:!1,success:!1,error:!1},addProductToCatalogueStatus:{loading:!1,success:!1,error:!1},addProductsToCatalogueStatus:{loading:!1,success:!1,error:!1},deleteProductFromCatalogueStatus:{loading:!1,success:!1,error:!1},editProductFromCatalogueStatus:{loading:!1,success:!1,error:!1}},z=Object(g.a)({name:"catalogue",initialState:W,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("getCatalogue",W,null,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{products:Object(A.a)(null===t||void 0===t?void 0:t.payload),getCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),B("addProductToCatalogue",W,null,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{products:[].concat(Object(A.a)(e.products),[t.payload]),addProductToCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),B("addProductsToCatalogue",W,null,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{products:t.payload,addProductsToCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),B("deleteProductFromCatalogue",W,null,(function(e,t){var n=e.products.filter((function(e){var n;return e.id!==(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id)}));return Object(p.a)(Object(p.a)({},e),{},{products:n,deleteProductFromCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),B("editProductFromCatalogue",W,null,(function(e,t){var n=e.products.filter((function(e){var n;return e.id!==(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id)}));return Object(p.a)(Object(p.a)({},e),{},{products:n,editProductFromCatalogueStatus:{loading:!1,success:!0,error:!1}})}))),{},{resetCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),W)}})}),q=z.reducer,M=z.actions,G=n(172),H=n.n(G).a.create({baseURL:"https://eabmodel.herokuapp.com/"}),V=function(){var e=Object(I.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Token"),e.prev=1,e.next=4,H({headers:{"Content-Type":"application/json",Token:n},method:"post",url:"/catalogue/add-single-product",data:{shopId:t.shopId,name:t.name,brand:t.brand,os:t.os,color:t.color,inches:Number(t.inches),price:Number(t.price),image:t.image}});case 4:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(I.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Token"),e.prev=1,e.next=4,H({headers:{"Content-Type":"application/json",Token:n},method:"post",url:"/catalogue/add-many-products",data:t});case 4:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Z={postProductRegister:V,getShopProducts:function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"get",url:"/catalogue/shop/".concat(t)});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),postProductsRegister:Y,postProductDelete:function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"delete",url:"/catalogue/delete-product/".concat(t)});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),putProductEdit:function(){var e=Object(I.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("Token"),e.prev=1,e.next=4,H({headers:{"Content-Type":"application/json",Token:n},method:"put",url:"/catalogue/edit-product/".concat(t.id),data:{name:t.name,brand:t.brand,os:t.os,color:t.color,inches:Number(t.inches),price:Number(t.price),image:t.image}});case 4:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},J=w(M.loadingGetCatalogue,M.successGetCatalogue,M.errorGetCatalogue,Z.getShopProducts),$=w(M.loadingAddProductToCatalogue,M.successAddProductToCatalogue,M.errorAddProductToCatalogue,Z.postProductRegister),K=w(M.loadingAddProductsToCatalogue,M.successAddProductsToCatalogue,M.errorAddProductsToCatalogue,Z.postProductsRegister),_=w(M.loadingDeleteProductFromCatalogue,M.successDeleteProductFromCatalogue,M.errorDeleteProductFromCatalogue,Z.postProductDelete),Q=w(M.loadingEditProductFromCatalogue,M.successEditProductFromCatalogue,M.errorEditProductFromCatalogue,Z.putProductEdit),X=T(M.resetGetCatalogue),ee=T(M.resetAddProductToCatalogue),te=T(M.resetAddProductsToCatalogue),ne=T(M.resetDeleteProductFromCatalogue),ae=T(M.resetEditProductFromCatalogue),re=T(M.resetCatalogue),ce=n(12),oe=n(330),se=Object(oe.a)({root:{width:320},infoContainer:{textAlign:"left"},media:{height:300}}),ie=n(332),ue=n(334),le=n(335),de=n(336),je=n(80),be=n(337),pe=n(338),he=n(1),me=function(e){var t=e.specs,n=se(),a=Object(m.g)(),r=Object(u.useCallback)((function(e){a.push("product/".concat(e,"/details"))}),[]);return Object(he.jsxs)(ie.a,{className:n.root,children:[Object(he.jsxs)(ue.a,{style:{textAlign:"left"},children:[Object(he.jsx)(le.a,{className:n.media,image:null===t||void 0===t?void 0:t.image,title:"Device"}),Object(he.jsxs)(de.a,{children:[Object(he.jsx)(je.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(he.jsx)(je.a,{variant:"subtitle1",color:"textSecondary",component:"p",children:t.brand}),Object(he.jsxs)(je.a,{variant:"subtitle2",color:"textSecondary",component:"p",children:[t.os," ",t.color]}),Object(he.jsxs)(je.a,{variant:"subtitle2",color:"textSecondary",component:"p",children:[t.inches," inches display"]})]})]}),Object(he.jsx)(be.a,{children:Object(he.jsx)(pe.a,{size:"small",color:"primary",onClick:function(){return r(t.id)},children:"Details"})})]})};me.defaultProps={specs:{id:"0",name:"Defaut Device",brand:"Default Brand",os:"Default OS",color:"Default Color",inches:5,price:0,image:"image url"}};var Oe,fe=n(385),ge=Object(oe.a)((function(e){return Object(fe.a)({root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},catalogContainer:{width:"50wh",height:"50vh",margin:"auto"},cardContainer:{margin:"5%",boxShadow:"8px 10px 19px 3px rgba(0,0,0,0.31)"}})})),xe=n(373),ve=Object(ce.b)((function(e){return{catalogue:e.catalogue}}))((function(e){var t=ge(),n=e.catalogue;return Object(he.jsx)(xe.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",m:1,p:1,bgcolor:"background.paper",children:null===n||void 0===n?void 0:n.products.map((function(e){return Object(he.jsx)(xe.a,{className:t.cardContainer,children:Object(he.jsx)(me,{specs:e})},e.id)}))})})),Se=Object(oe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"50vw",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},popUp:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"1em"},cancelIcon:{position:"absolute",top:"-10",right:"-10"},alertMessage:{textAlign:"left",color:"red",padding:0,margin:0}}}));!function(e){e.ANONYMOUS="ANONYMOUS",e.EMPLOYEE="EMPLOYEE",e.ADMINISTRATOR="ADMINISTRATOR"}(Oe||(Oe={}));var Ce={username:"defaultUser",email:"",id:"",companyId:"",shopId:"",sessionType:Oe.ANONYMOUS,loginUserStatus:{loading:!1,success:!1,error:!1},logoutUserStatus:{loading:!1,success:!1,error:!1},registerUserStatus:{loading:!1,success:!1,error:!1},deleteUserStatus:{loading:!1,success:!1,error:!1},reassignUserShopStatus:{loading:!1,success:!1,error:!1}},ye=Object(g.a)({name:"user",initialState:Ce,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("registerUser",Ce,null,(function(e){return Object(p.a)(Object(p.a)({},e),{},{registerUserStatus:{loading:!1,success:!0,error:!1}})}))),B("loginUser",Ce,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{loginUserStatus:{loading:!1,success:!0,error:!1},logoutUserStatus:{loading:!1,success:!1,error:!1}})}))),B("logoutUser",Ce,null,(function(e){return Object(p.a)(Object(p.a)(Object(p.a)({},e),Ce),{},{logoutUserStatus:{loading:!1,success:!0,error:!1}})}))),B("deleteUser",Ce,null,(function(e){return Object(p.a)(Object(p.a)({},e),{},{deleteUserStatus:{loading:!1,success:!0,error:!1}})}))),B("reassignUserShop",Ce,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{reassignUserShopStatus:{loading:!1,success:!0,error:!1}})}))),{},{resetUserStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginUserStatus:Ce.loginUserStatus,logoutUserStatus:Ce.logoutUserStatus})},resetUser:function(e){return Object(p.a)(Object(p.a)({},e),Ce)}})}),Ie=ye.reducer,we=ye.actions,Ue={getUser:function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"get",url:"/user/".concat(t)});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),postUserLogin:function(){var e=Object(I.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/user/auth",data:{email:t.email,password:t.password}});case 3:return a=e.sent,localStorage.setItem("Token",null===a||void 0===a?void 0:a.data.token),e.abrupt("return",null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.user);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),postUserRegister:function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/user/create",data:{username:t.username,email:t.email,companyId:t.companyId,shopId:t.shopId,password:t.password}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(I.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"delete",url:"/user/".concat(t)}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),reassignUserShop:function(){var e=Object(I.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"patch",url:"/user/set_shop",data:{userId:t.userId,shopId:t.shopId}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=w(we.loadingRegisterUser,we.successRegisterUser,we.errorRegisterUser,Ue.postUserRegister),Te=w(we.loadingLoginUser,we.successLoginUser,we.errorLoginUser,Ue.postUserLogin),Pe=U(we.loadingLogoutUser,we.successLogoutUser,we.errorLogoutUser,null),ke=w(we.loadingDeleteUser,we.successDeleteUser,we.errorDeleteUser,Ue.deleteUser),Ae=w(we.loadingReassignUserShop,we.successReassignUserShop,we.errorReassignUserShop,Ue.reassignUserShop),Re=T(we.resetRegisterUser),Ee=T(we.resetLoginUser),Fe=T(we.resetLogoutUser),Le=T(we.resetUserStatus),De=T(we.resetUser),Be=T(we.resetDeleteUser),We=T(we.resetReassignUserShop),ze=n(340),qe=n(339),Me=n(341),Ge=n(342),He=n(386);function Ve(){return Object(he.jsxs)(je.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(he.jsx)(qe.a,{color:"inherit",href:"https://material-ui.com/",children:"EABModel"})," ",(new Date).getFullYear(),"."]})}var Ye,Ze=Object(ce.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),a),e))}))((function(e){var t=Se(),n=Object(m.g)(),a=e.user,r=Object(u.useState)(""),c=Object(b.a)(r,2),o=c[0],s=c[1],i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1];Object(u.useEffect)((function(){a.loginUserStatus.success&&(e.resetUserStatusInteractor(),e.closePopUpInteractor(),n.push("/administration"))}),[n,e,a]);return Object(he.jsxs)(ie.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(he.jsx)("div",{className:t.cancelIcon,onClick:function(){e.closePopUp()},children:Object(he.jsx)(ze.a,{fontSize:"large",color:"secondary"})}),Object(he.jsx)(Me.a,{}),Object(he.jsxs)("div",{className:t.paper,children:[a.loginUserStatus.loading&&Object(he.jsx)(Ge.a,{}),Object(he.jsx)(je.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(he.jsxs)("div",{className:t.form,children:[Object(he.jsx)(He.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){s(e.target.value)}}),Object(he.jsx)(He.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){j(e.target.value)}}),Object(he.jsx)(pe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!(o&&d),onClick:function(){var t={email:o,password:d};e.loginUserInteractor(t)},children:"Sign In"})]})]}),Object(he.jsx)(xe.a,{mt:4,children:Object(he.jsx)(Ve,{})})]})})),Je=n(375),$e=n(347);n(245);!function(e){e.error="error",e.warning="warning",e.info="info",e.success="success"}(Ye||(Ye={}));var Ke=Object(ce.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},a),e))}))((function(e){var t=e.showPopUpInteractor,n=e.resourceName,a=e.severity,r=e.alertTitle,c=e.alertBody,o=e.hasLoginButton;return Object(he.jsx)("div",{className:"alert-container",children:Object(he.jsxs)(Je.a,{className:"alert",variant:"filled",severity:a,children:[Object(he.jsx)($e.a,{className:"alert-title",children:r}),c.map((function(e){return Object(he.jsx)("p",{className:"alert-text",children:e},e)})),o&&Object(he.jsx)("div",{className:"button-container",children:Object(he.jsxs)(pe.a,{variant:"contained",onClick:t,children:["Sign in to create ",n]})})]})})})),_e=n(348),Qe=n(175),Xe=n(179),et=n.n(Xe),tt=n(91),nt=(n(257),function(e){var t=e.idleValue,n=e.toggleIdle,a=Object(u.useState)(!1),r=Object(b.a)(a,2),c=r[0],o=r[1];Object(Qe.a)({timeout:18e4,onIdle:function(){n(!t),o(!0)},onActive:function(){n(!t),o(!1)},debounce:500});var s={from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:0}};return Object(he.jsx)(he.Fragment,{children:c&&Object(he.jsx)(tt.Spring,{from:s.from,to:s.to,children:function(e){return Object(he.jsx)(tt.animated.div,{style:e,children:Object(he.jsx)("div",{className:"player-wrapper",children:Object(he.jsx)(et.a,{className:"react-player",url:"https://www.youtube.com/watch?v=A_hNkfRS05I",playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"100%"})})})}})})}),at=l.a.memo(nt),rt=Object(ce.b)((function(e){return{modal:e.modal,company:e.company,shop:e.shop,catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},a),r),e))}))((function(e){var t=e.modal,n=e.company,a=e.shop,r=e.catalogue,c=Object(u.useState)(!1),o=Object(b.a)(c,2),s=o[0],i=o[1],l=Object(u.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],h=Object(u.useState)(!1),m=Object(b.a)(h,2),O=m[0],f=m[1];Object(u.useEffect)((function(){var e;n.registerCompanyStatus.success||0===(null===a||void 0===a||null===(e=a.shops)||void 0===e?void 0:e.length)||!(null===a||void 0===a?void 0:a.id)?i(!0):i(!1)}),[n.registerCompanyStatus,n]),Object(u.useEffect)((function(){s||e.getCatalogueInteractor(a.id)}),[e.getCatalogueInteractor,s]),Object(u.useEffect)((function(){var e;0===(null===r||void 0===r||null===(e=r.products)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[r]);return Object(he.jsxs)("div",{children:[Object(he.jsx)(at,{idleValue:O,toggleIdle:f}),!O&&Object(he.jsxs)(he.Fragment,{children:[r.getCatalogueStatus.loading&&Object(he.jsx)(_e.a,{color:"secondary"}),s&&Object(he.jsx)(Ke,{resourceName:"shop",severity:Ye.warning,alertTitle:"Create a shop or switch to one",alertBody:["It seems you are not currently in a shop, create or switch to one.","You can do this by logging in as an employee and entering th Shops Menu."],hasLoginButton:!0}),j&&Object(he.jsx)(Ke,{resourceName:"product",severity:Ye.info,alertTitle:"Add a product or products to your shop's catalogue",alertBody:["In order to display your products, add them first.","You can do that from the administrator menu."],hasLoginButton:!0}),!s&&!j&&Object(he.jsx)(ve,{}),t.open&&Object(he.jsx)(Ze,{closePopUp:function(){e.closePopUpInteractor()}})]})]})})),ct=Object(oe.a)((function(e){return{root:{width:"80%",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},textContainer:{width:"100%",margin:"1rem"},resetContainer:{padding:e.spacing(2),marginLeft:e.spacing(3)},text:{textAlign:"center"}}})),ot=n(387),st=n(349),it=n(380),ut=n(350),lt=n(193);n(128);function dt(e){switch(e){case 0:return"In the store you can see the available catalog of the products for sale, in each of the devices.";case 1:return'If the customer requires assistance to learn more about a product,  \n              he/she should click on "Details" of the product and then at the  \n              bottom of the screen click on the "Get assistance" button.';case 2:return"If assistants are available, a message will be displayed telling the customer\n              to go to the assistance tablet in the store. From here, a video call can be \n              made to an assistant who will help the customer with all his questions.";case 3:return"In case there are no assistants available, a message will be displayed \n              informing the client and then, if he/she wishes, he/she can leave his/her \n              e-mail so that an assistant can contact him/her later."}}var jt=Object(ce.b)((function(e){return{modal:e.modal}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},a),e))}))((function(e){var t=e.modal,n=ct(),a=l.a.useState(0),r=Object(b.a)(a,2),c=r[0],o=r[1],s=["Product catalog","Request assistance","Assistants available","No assistants available"],i=function(){o((function(e){return e+1}))},u=function(){o((function(e){return e-1}))};return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{className:n.root,children:[Object(he.jsx)(je.a,{variant:"h3",gutterBottom:!0,children:"Operation of the platform"}),Object(he.jsx)(je.a,{variant:"subtitle1",gutterBottom:!0,children:"Virual Assistant is a platform that offers assistance and helps customers with the purchase process virtually, through a video call. This allows that in times of pandemic our customers can buy in a safe and informed way, covering all the doubts that may arise. Here you can find information on the steps that the customer must follow."}),Object(he.jsx)(ot.a,{activeStep:c,orientation:"vertical",children:s.map((function(e,t){return Object(he.jsxs)(st.a,{children:[Object(he.jsx)(it.a,{children:e}),Object(he.jsxs)(ut.a,{children:[Object(he.jsx)("div",{className:n.textContainer,children:Object(he.jsx)(je.a,{className:n.text,children:dt(t)})}),Object(he.jsx)("div",{className:n.actionsContainer,children:Object(he.jsxs)("div",{children:[Object(he.jsx)(pe.a,{disabled:0===c,onClick:u,className:n.button,children:"Back"}),Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:i,className:n.button,children:c===s.length-1?"Finish":"Next"})]})})]})]},e)}))}),c===s.length&&Object(he.jsxs)(lt.a,{square:!0,elevation:0,className:n.resetContainer,children:[Object(he.jsx)(je.a,{children:"Now you are ready to use Virtual Assistance!"}),Object(he.jsx)(pe.a,{onClick:function(){o(0)},className:n.button,children:"Reset"})]}),t.open&&Object(he.jsx)(Ze,{closePopUp:function(){e.closePopUpInteractor()}})]}),Object(he.jsx)("div",{className:"btn-bottom-left",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})})),bt=n(351),pt=n(352),ht=n(195),mt=n(180),Ot=n.n(mt),ft=Object(oe.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"right",marginLeft:"2rem",marginRight:"2rem",fontSize:"1rem"},btn:{fontSize:"1rem"}}})),gt=Object(ce.b)((function(e){return{user:e.user,company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),a),e))}))((function(e){var t,n=e.user,a=e.company,r=Object(m.g)(),c=ft();return Object(he.jsx)(bt.a,{position:"static",className:c.root,children:Object(he.jsxs)(pt.a,{children:[Object(he.jsx)(je.a,{variant:"h6",className:c.title,children:"ANONYMOUS"===n.sessionType?"Hello Dear Customer!":"Hello ".concat(n.username,"!")}),"ANONYMOUS"===n.sessionType?Object(he.jsx)(pe.a,{className:c.btn,color:"inherit",onClick:function(){e.showPopUpInteractor()},disabled:!a.id,children:"Login"}):Object(he.jsx)(pe.a,{color:"secondary",onClick:function(){e.logoutUserInteractor(),localStorage.removeItem("Token"),r.replace("/home")},disabled:!a.id,children:"Logout"}),(null===(t=a.id)||void 0===t?void 0:t.length)>0&&Object(he.jsx)(ht.a,{color:"inherit",onClick:function(){r.replace("/information")},children:Object(he.jsx)(Ot.a,{})})]})})})),xt={id:"",name:"",email:"",shops:[],users:[],registerCompanyStatus:{loading:!1,success:!1,error:!1},loginCompanyStatus:{loading:!1,success:!1,error:!1},logoutCompanyStatus:{loading:!1,success:!1,error:!1},getCompanyUsersStatus:{loading:!1,success:!1,error:!1},getCompanyShopsStatus:{loading:!1,success:!1,error:!1}},vt=Object(g.a)({name:"company",initialState:xt,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("registerCompany",xt,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{registerCompanyStatus:{loading:!1,success:!0,error:!1}})}))),B("loginCompany",xt,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{loginCompanyStatus:{loading:!1,success:!0,error:!1}})}))),B("logoutCompany",xt,null,(function(e){return Object(p.a)(Object(p.a)(Object(p.a)({},e),xt),{},{logoutCompanyStatus:{loading:!1,success:!0,error:!1}})}))),B("getCompanyUsers",xt,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{getCompanyUsersStatus:{loading:!1,success:!0,error:!1}})}))),B("getCompanyShops",xt,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{getCompanyUsersStatus:{loading:!1,success:!0,error:!1}})}))),{},{resetCompanyStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginCompanyStatus:xt.loginCompanyStatus,logoutCompanyStatus:xt.logoutCompanyStatus})},resetCompany:function(e){return Object(p.a)(Object(p.a)({},e),xt)},removeUserCompany:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{users:e.users.filter((function(e){return e.id!==t.payload}))})},handleUserReassign:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.id===t.payload.userId?Object(p.a)(Object(p.a)({},e),{},{shopId:t.payload.shopId}):e}))})}})}),St=vt.reducer,Ct=vt.actions,yt={postCompanyLogin:function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/company/login",data:{name:t.name,password:t.password}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),postCompanyRegister:function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/company/create",data:{name:t.name,email:t.email,password:t.password}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getCompanyUsers:function(){var e=Object(I.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"get",url:"/company/".concat(t,"/users")}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCompanyShops:function(){var e=Object(I.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"get",url:"/company/".concat(t,"/shops")}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},It=w(Ct.loadingRegisterCompany,Ct.successRegisterCompany,Ct.errorRegisterCompany,yt.postCompanyRegister),wt=w(Ct.loadingLoginCompany,Ct.successLoginCompany,Ct.errorLoginCompany,yt.postCompanyLogin),Ut=U(Ct.loadingLogoutCompany,Ct.successLogoutCompany,Ct.errorLogoutCompany,null),Nt=w(Ct.loadingGetCompanyUsers,Ct.successGetCompanyUsers,Ct.errorGetCompanyUsers,yt.getCompanyUsers),Tt=w(Ct.loadingGetCompanyShops,Ct.successGetCompanyShops,Ct.errorGetCompanyShops,yt.getCompanyShops),Pt=N(Ct.removeUserCompany),kt=T(Ct.resetRegisterCompany),At=T(Ct.resetLoginCompany),Rt=T(Ct.resetLogoutCompany),Et=T(Ct.resetCompanyStatus),Ft=T(Ct.resetCompany),Lt=N(Ct.handleUserReassign),Dt=n(353),Bt=n(379),Wt=Object(ce.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))((function(e){var t=Se(),n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(""),s=Object(b.a)(o,2),i=s[0],l=s[1],d=e.company,j=e.loginCompanyInteractor;return Object(he.jsxs)(ie.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(he.jsx)(Me.a,{}),Object(he.jsxs)("div",{className:t.paper,children:[d.loginCompanyStatus.loading&&Object(he.jsx)(Ge.a,{}),Object(he.jsx)(je.a,{component:"h1",variant:"h5",children:"Company Sign in"}),Object(he.jsxs)("div",{className:t.form,children:[Object(he.jsx)(He.a,{value:r,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Company name",name:"name",autoFocus:!0,onChange:function(e){c(e.target.value)}}),Object(he.jsx)(He.a,{value:i,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){l(e.target.value)}}),Object(he.jsx)(Dt.a,{control:Object(he.jsx)(Bt.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(he.jsx)(pe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!(r&&i),onClick:function(){j({name:r,password:i}),c(""),l("")},children:"Company Sign In"})]})]}),Object(he.jsx)(pe.a,{color:"default",size:"small",onClick:e.toggleForm,children:"Don't have a company, create one"})]})})),zt=Object(oe.a)({page:{display:"flex",flexDirection:"column",alignItems:"center"},container:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",padding:"20px",width:"50%",height:"60vh",borderRadius:"8px",overflowY:"scroll"},containerList:{position:"relative",display:"flex",flexDirection:"column",padding:"20px",width:"50%",height:"60vh",borderRadius:"8px",overflowY:"scroll"},shopContainer:{position:"relative",padding:"10px",margin:"15px 0",borderRadius:"8px","box-shadow":"5px 6px 12px -4px rgba(0,0,0,0.75)"},name:{fontSize:"20px",textAlign:"left",padding:0,margin:"0 5px"},location:{fontSize:"15px",textAlign:"left",padding:0,margin:"0 5px"},buttonContainer:{position:"absolute",bottom:"12px",right:"15px"},switchFormTypeContainer:{position:"absolute",left:"50%",top:"20%",transform:"translate(-50%,-50%)"}}),qt={id:"",companyId:"",name:"",location:"",shops:[],addShopStatus:{loading:!1,success:!1,error:!1},removeShopStatus:{loading:!1,success:!1,error:!1},updateShopStatus:{loading:!1,success:!1,error:!1}},Mt=Object(g.a)({name:"shop",initialState:qt,reducers:Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},B("addShop",qt,null,(function(e,t){return Object(p.a)(Object(p.a)({},e),{},{shops:[].concat(Object(A.a)(e.shops),[t.payload]),addShopStatus:{loading:!1,success:!0,error:!1}})}))),B("removeShop",qt,null,(function(e){return Object(p.a)(Object(p.a)({},e),{},{removeShopStatus:{loading:!1,success:!0,error:!1}})}))),B("updateShop",qt,null,(function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{updateShopStatus:{loading:!1,success:!0,error:!1}})}))),{},{setShops:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{shops:t.payload})},setShop:function(e,t){return Object(p.a)(Object(p.a)({},e),t.payload)},resetShopStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{addShopStatus:qt.addShopStatus,removeShopStatus:qt.removeShopStatus,updateShopStatus:qt.updateShopStatus})},resetShop:function(e){return Object(p.a)(Object(p.a)({},e),qt)}})}),Gt=Mt.reducer,Ht=Mt.actions,Vt={postShopRegister:function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H({headers:{"Content-Type":"application/json"},method:"post",url:"/shop/create",data:{companyId:t.companyId,name:t.name,location:t.location}});case 3:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Yt=w(Ht.loadingAddShop,Ht.successAddShop,Ht.errorAddShop,Vt.postShopRegister),Zt=w(Ht.loadingRemoveShop,Ht.successRemoveShop,Ht.errorRemoveShop,null),Jt=w(Ht.loadingUpdateShop,Ht.successUpdateShop,Ht.errorUpdateShop,null),$t=N(Ht.setShops),Kt=T(Ht.resetAddShop),_t=T(Ht.resetRemoveShop),Qt=T(Ht.resetUpdateShop),Xt=N(Ht.setShop),en=T(Ht.resetShopStatus),tn=T(Ht.resetShop),nn=Object(ce.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))((function(e){var t=zt(),n=Object(m.g)(),a=e.shops,r=e.setShopInteractor,c=e.setShopsInteractor;Object(u.useEffect)((function(){0===(null===a||void 0===a?void 0:a.length)?n.replace("/home"):c(a)}),[]);return Object(he.jsxs)("div",{className:t.page,children:[Object(he.jsx)(je.a,{variant:"h2",color:"textSecondary",children:"Choose Shop"}),Object(he.jsx)("div",{className:t.containerList,children:null===a||void 0===a?void 0:a.map((function(e){return Object(he.jsxs)("div",{className:t.shopContainer,children:[Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{className:t.name,children:e.name}),Object(he.jsx)("p",{className:t.location,children:e.location})]}),Object(he.jsx)("div",{className:t.buttonContainer,children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){return function(e){r(e),n.replace("/home")}(e)},children:"Login as this Shop"})})]},e.id)}))})]})})),an=Object(ce.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))((function(e){var t=Se(),n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(""),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(u.useState)(""),j=Object(b.a)(d,2),p=j[0],h=j[1],m=Object(u.useState)(""),O=Object(b.a)(m,2),f=O[0],g=O[1],x=Object(u.useState)(""),v=Object(b.a)(x,2),S=v[0],C=v[1],y=Object(u.useState)(""),I=Object(b.a)(y,2),w=I[0],U=I[1],N=Object(u.useState)(""),T=Object(b.a)(N,2),P=T[0],k=T[1],A=e.company,R=r&&i&&!S&&p&&!w&&f&&!P;return Object(he.jsxs)(ie.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(he.jsx)(Me.a,{}),Object(he.jsxs)("div",{className:t.paper,children:[A.registerCompanyStatus.loading&&Object(he.jsx)(Ge.a,{}),Object(he.jsx)(je.a,{component:"h1",variant:"h5",children:"Company Sign Up"}),Object(he.jsxs)("div",{className:t.form,children:[Object(he.jsx)(He.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Company name",name:"name",autoFocus:!0,onChange:function(e){c(e.target.value)}}),Object(he.jsx)(He.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Company email",name:"email",onChange:function(e){var t=e.target.value;t&&!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(t)?C("This must be an email"):C(""),l(t)}}),Object(he.jsx)(je.a,{variant:"body2",className:t.alertMessage,children:S}),Object(he.jsx)(He.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){var t=e.target.value;t&&t.length<=7?U("Password must be longer than 7 characters"):U(""),h(t)}}),Object(he.jsx)(je.a,{variant:"body2",className:t.alertMessage,children:w}),Object(he.jsx)(He.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm password",type:"password",id:"confirmPassword",onChange:function(e){var t=e.target.value;k(p!==t?"Passwords don't match":""),g(t)}}),Object(he.jsx)(je.a,{variant:"body2",className:t.alertMessage,children:P}),Object(he.jsx)(pe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!R,onClick:function(){var t={name:r,email:i,password:p};e.registerCompanyInteractor(t),c(""),l(""),h(""),g("")},children:"Company Sign Up"}),A.registerCompanyStatus.error&&Object(he.jsx)(je.a,{children:"An error ocurred, probably the company already exists."})]})]}),Object(he.jsx)(pe.a,{color:"default",size:"small",onClick:e.toggleForm,children:"Already have a company, sign in instead"})]})})),rn=n(354),cn=n(378),on=(n(161),Object(ce.b)((function(e){return{company:e.company}}))((function(e){var t=e.company,n=Object(m.g)(),a=l.a.useRef(null),r=Object(u.useState)(!1),c=Object(b.a)(r,2),o=c[0],s=c[1],i=Object(u.useState)(!0),d=Object(b.a)(i,2),j=d[0],p=d[1];Object(u.useEffect)((function(){t.loginCompanyStatus.success&&s(!0),t.registerCompanyStatus.success&&n.replace("/home")}),[t.loginCompanyStatus,t.registerCompanyStatus]);var h=function(){p(!j)};return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(rn.a,{mode:"out-in",children:Object(he.jsx)(cn.a,{nodeRef:a,timeout:{enter:200,exit:200},classNames:"fade",children:j?Object(he.jsx)("div",{ref:a,children:o?Object(he.jsx)(nn,{shops:t.shops}):Object(he.jsx)(Wt,{toggleForm:h})}):Object(he.jsx)("div",{ref:a,children:Object(he.jsx)(an,{toggleForm:h})})},j?"signinIn":"signinUp")})})}))),sn=Object(oe.a)({mainContainer:{margin:"30px auto",height:"70vh",width:"70vw"},section:{position:"relative",textAlign:"left",margin:"15px 5px",padding:5},buttonContainer:{position:"absolute",right:5,bottom:5}}),un=function(e){var t=sn(),n=e.title,a=e.body,r=e.callback;return Object(he.jsxs)("div",{className:t.section,children:[Object(he.jsxs)(je.a,{variant:"h5",color:"textPrimary",children:[n," Menu"]}),Object(he.jsx)(je.a,{variant:"body1",color:"textPrimary",component:"p",children:a}),Object(he.jsx)("div",{className:t.buttonContainer,children:Object(he.jsxs)(pe.a,{variant:"contained",onClick:r,children:["Go to ",n," Menu"]})})]})},ln=Object(ce.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},o),s),c),r),e))}))((function(e){var t=Object(m.g)(),n=e.resetShopInteractor,a=e.logoutUserInteractor,r=e.resetCatalogueInteractor,c=e.logoutCompanyInteractor,o=e.resetCompanyInteractor;return Object(he.jsx)(pe.a,{variant:"outlined",color:"secondary",onClick:function(){n(),a(),r(),c(),localStorage.removeItem("Token"),o(),t.replace("/")},children:"Company Logout"})})),dn=Object(ce.b)((function(e){return{user:e.user,shop:e.shop}}))((function(e){var t=Object(m.g)(),n=sn(),a=e.user,r=e.shop;return Object(he.jsxs)("div",{children:[Object(he.jsx)(je.a,{variant:"h2",color:"textSecondary",children:"Administration Portal"}),Object(he.jsx)(je.a,{variant:"h4",color:"textSecondary",children:null===r||void 0===r?void 0:r.name}),Object(he.jsxs)("div",{className:n.mainContainer,children:[r.id&&Object(he.jsx)(un,{title:"Video Calls",body:"Menu for managing video calls from current store.",callback:function(){t.push("/administration/calls")}}),"ADMINISTRATOR"===a.sessionType&&Object(he.jsxs)(he.Fragment,{children:[r.id&&Object(he.jsx)(un,{title:"Catalogue",body:"Menu for adding, removing or updating products from the main catalogue.",callback:function(){t.push("/administration/catalogue")}}),Object(he.jsx)(un,{title:"Shop",body:"Menu for updating shops, their location, policies and other specifications.",callback:function(){t.push("/administration/shop")}}),Object(he.jsx)(un,{title:"Employee's",body:"Menu for updating employee's status and for managing store employees.",callback:function(){t.push("/administration/employees")}})]}),Object(he.jsx)(ln,{})]})]})})),jn=function(){var e=Object(I.a)(y.a.mark((function e(t){var n,a,r,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.peerConnection,a=t.webcamVideo,r=t.remoteVideo,e.next=3,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 3:return c=e.sent,o=new MediaStream,c.getTracks().forEach((function(e){n.addTrack(e,c)})),n.ontrack=function(e){e.streams[0].getTracks().forEach((function(e){o.addTrack(e)}))},a.srcObject=c,r.srcObject=o,e.abrupt("return",{localStream:c,remoteStream:o});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bn=n(103);n(275),n(276);bn.a.apps.length||bn.a.initializeApp({apiKey:"AIzaSyBQ0fiVWlaejS-GUK1ofRewPZrEMffrROY",authDomain:"eabmodel-ff034.firebaseapp.com",projectId:"eabmodel-ff034",storageBucket:"eabmodel-ff034.appspot.com",messagingSenderId:"2525715605",appId:"1:2525715605:web:40293e4addc05f1bc74f9c"});var pn,hn={firestore:bn.a.firestore(),storage:bn.a.storage(),peerConnection:new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10}),localStream:null,remoteStream:null,hangup:!1},mn=Object(g.a)({name:"connection",initialState:hn,reducers:{addLocalStream:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{localStream:t.payload})},removeLocalStream:function(e){return Object(p.a)(Object(p.a)({},e),{},{localStream:hn.localStream})},addRemoteStream:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{remoteStream:t.payload})},removeRemoteStream:function(e){return Object(p.a)(Object(p.a)({},e),{},{remoteStream:hn.remoteStream})},resetStreamConnection:function(e){return Object(p.a)(Object(p.a)({},e),{},{peerConnection:hn.peerConnection,localStream:hn.localStream,remoteStream:hn.remoteStream})},setCallStateTrue:function(e){return Object(p.a)(Object(p.a)({},e),{},{hangup:!0})},setCallStateFalse:function(e){return Object(p.a)(Object(p.a)({},e),{},{hangup:!1})}}}),On=mn.reducer,fn=mn.actions,gn=N(fn.addLocalStream),xn=T(fn.removeLocalStream),vn=N(fn.addRemoteStream),Sn=T(fn.removeRemoteStream),Cn=T(fn.resetStreamConnection),yn=T(fn.setCallStateTrue),In=T(fn.setCallStateFalse),wn=function(){var e=Object(I.a)(y.a.mark((function e(t){var n,a,r,c,o,s,i,u,l,d,j;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.firestore,a=t.shopId,r=t.callId,c=t.peerConnection,o=n.collection("shopCalls").doc(a).collection("calls").doc(r),s=o.collection("answerCandidates"),i=o.collection("offerCandidates"),c.onicecandidate=function(e){e.candidate&&s.add(e.candidate.toJSON())},e.next=7,o.get();case 7:return u=e.sent.data(),l=null===u||void 0===u?void 0:u.offer,e.next=11,c.setRemoteDescription(new RTCSessionDescription(l));case 11:return e.next=13,c.createAnswer();case 13:return d=e.sent,e.next=16,c.setLocalDescription(d);case 16:return j={type:d.type,sdp:d.sdp},e.next=19,o.update({answer:j,"status.answered":!0});case 19:i.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();c.addIceCandidate(new RTCIceCandidate(t))}}))}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=Object(ce.b)((function(e){return{connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.callId,n=e.shopId,a=e.connection,r=a.firestore,c=a.peerConnection,o=Object(u.useRef)(),s=Object(u.useRef)();Object(u.useEffect)((function(){var t={peerConnection:c,webcamVideo:o.current,remoteVideo:s.current};return e.connection.localStream&&e.connection.remoteStream||jn(t).then((function(t){var n=t.localStream,a=t.remoteStream;e.setLocalStreamInteractor(n),e.setRemoteStreamInteractor(a)})).then((function(){return i()})),function(){l(),o.current&&s.current&&(o.current.srcObject=null,s.current.srcObject=null),e.resetStreamConnectionInteractor()}}),[]);var i=function(){var e=Object(I.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn({firestore:r,shopId:n,callId:t,peerConnection:c});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=Object(u.useCallback)(Object(I.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o.current&&s.current&&(o.current.srcObject=null,s.current.srcObject=null),e.resetStreamConnectionInteractor(),console.log("This it a test console log to prevent firestore excessive requests..."),n.next=6,r.collection("shopCalls").doc(e.shopId).collection("calls").doc(t).delete();case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:return n.prev=11,e.setOnCall(null),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])}))),[]);return Object(he.jsxs)("div",{className:"employee-main-container",children:[Object(he.jsx)("video",{className:"employee-local-video-container",ref:o,autoPlay:!0,playsInline:!0,muted:!0}),Object(he.jsx)("video",{className:"employee-remote-video-container",ref:s,autoPlay:!0,playsInline:!0}),Object(he.jsx)("div",{className:"employee-button-container",children:Object(he.jsx)(pe.a,{variant:"contained",color:"secondary",onClick:l,children:"Hang up"})})]})})),Nn=n(356),Tn=n(358),Pn=(n(129),n(346)),kn=n(279),An=n(355),Rn=n(357),En=Object(ce.b)((function(e){return{connection:e.connection,shopId:e.shop.id,userId:e.user.id}}))((function(e){var t=e.connection.firestore,n=Object(u.useState)([]),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(null),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(u.useState)(!0),j=Object(b.a)(d,2),p=j[0],h=j[1],m=Object(u.useRef)([]);Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests...");var n=t.collection("shopCalls").doc(e.shopId).collection("calls").onSnapshot((function(e){e.docChanges().forEach((function(e){var t,n;"modified"===e.type&&(!(null===(t=e.doc.data().status)||void 0===t?void 0:t.answered)&&(null===(n=e.doc.data().status)||void 0===n?void 0:n.inProgress)&&(m.current.push(e.doc.id),c((function(t){return t.includes(e.doc.id)?t:[].concat(Object(A.a)(t),[e.doc.id])}))));"removed"===e.type&&(m.current=m.current.filter((function(t){return t!==e.doc.id})),c(m.current.filter((function(t){return t!==e.doc.id}))))})),h(!1)}));return function(){n()}}),[t]);var O=function(){var e=Object(I.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.current=r,!i&&l(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(he.jsxs)("div",{children:[Object(he.jsx)(je.a,{variant:"h2",gutterBottom:!0,children:"Call Requests"}),Object(he.jsxs)("div",{className:"requests-container",children:[Object(he.jsxs)(Pn.a,{className:"list",children:[0===r.length&&Object(he.jsxs)(kn.a,{className:"item",button:!0,disabled:!0,children:[Object(he.jsx)(An.a,{children:Object(he.jsx)(Nn.a,{})}),Object(he.jsx)(Rn.a,{primary:"No calls yet..."})]}),r.map((function(e,t){return Object(he.jsxs)(kn.a,{className:"item",button:!0,disabled:!!i,onClick:function(){return O(e)},children:[Object(he.jsx)(An.a,{children:Object(he.jsx)(Tn.a,{})}),Object(he.jsx)(Rn.a,{primary:"Answer client ".concat(t+1," call")})]},e)}))]}),p&&Object(he.jsx)(_e.a,{})]}),i&&Object(he.jsx)(Un,{callId:i,setOnCall:l,shopId:e.shopId}),Object(he.jsx)("div",{className:"btn-bottom-left",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})})),Fn=Object(oe.a)((function(e){return Object(fe.a)({mainContainer:{width:"80%",margin:"8vh auto auto"},heading:{fontSize:"1.1rem",flexBasis:"33.33%",flexShrink:0,textAlign:"left"},secondaryHeading:{fontSize:"0.95rem",color:e.palette.text.secondary},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},fab:{margin:e.spacing(2)}})})),Ln=n(39),Dn=n.n(Ln),Bn=n(181),Wn=n.n(Bn),zn=n(278),qn=function(e){var t=e.message,n=e.openedStateInParent,a=Object(u.useState)(!0),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(he.jsx)("div",{children:Object(he.jsx)(zn.a,{in:c,children:Object(he.jsx)(Je.a,{action:Object(he.jsx)(ht.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){o(!1),setTimeout((function(){n(!1)}),2e3)},children:Object(he.jsx)(Wn.a,{fontSize:"inherit"})}),children:t})})})},Mn=function(e){var t=!0;return e.replace(/\s/g,"").length||(t=!1),e||(t=!1),t},Gn=n(122),Hn=n.n(Gn),Vn=n(383),Yn=n(359),Zn=n(360),Jn=n(345),$n=n(381),Kn=n(374),_n=n(361),Qn=n(362),Xn=n(363),ea=n(364),ta=Object(ce.b)((function(e){return{shop:e.shop,catalogue:e.catalogue,connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.shop,s=e.catalogue,i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1],p=Object(u.useState)(""),h=Object(b.a)(p,2),m=h[0],O=h[1],f=Object(u.useState)(""),g=Object(b.a)(f,2),x=g[0],v=g[1],S=Object(u.useState)(""),C=Object(b.a)(S,2),w=C[0],U=C[1],N=Object(u.useState)(""),T=Object(b.a)(N,2),P=T[0],k=T[1],A=Object(u.useState)(""),R=Object(b.a)(A,2),E=R[0],F=R[1],L=Object(u.useState)(""),D=Object(b.a)(L,2),B=D[0],W=D[1],z=Object(u.useState)(!1),q=Object(b.a)(z,2),M=q[0],G=q[1],H=Fn();Object(u.useEffect)((function(){s.addProductToCatalogueStatus.success&&(G(!0),e.resetCatalogueInteractor())}),[s.addProductToCatalogueStatus,G,e.resetCatalogueInteractor]);var V=function(){j(""),O(""),v(""),U(""),k(""),F(""),W("")},Y=function(){var t=Object(I.a)(y.a.mark((function t(n){var a,r,c,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.files[0],t.next=3,e.connection.storage.ref("".concat(o.id,"/").concat(a.name));case 3:return r=t.sent,c=r.child(a.name),t.next=7,c.put(a);case 7:return t.next=9,c.getDownloadURL();case 9:s=t.sent,W(s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=Mn(d)&&Mn(m)&&Mn(x)&&Mn(w)&&Mn(P)&&Mn(B)&&Mn(E);return Object(he.jsxs)(Vn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(he.jsxs)(Yn.a,{expandIcon:Object(he.jsx)(Dn.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(he.jsx)(je.a,{className:H.heading,children:r}),Object(he.jsx)(je.a,{className:H.secondaryHeading,children:c})]}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:d,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",onChange:function(e){return j(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:m,variant:"standard",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",onChange:function(e){return O(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsxs)(Jn.a,{variant:"outlined",className:H.formControl,fullWidth:!0,children:[Object(he.jsx)($n.a,{id:"demo-simple-select-outlined-label",children:"OS"}),Object(he.jsxs)(Kn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:x,onChange:function(e){return function(e){v(e.target.value)}(e)},label:"Age",children:[Object(he.jsx)(_n.a,{value:"Android",children:"Android"}),Object(he.jsx)(_n.a,{value:"IOS",children:"IOS"}),Object(he.jsx)(_n.a,{value:"Windows",children:"Windows"})]})]})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:w,variant:"standard",required:!0,fullWidth:!0,id:"color",label:"Device Color",name:"color",onChange:function(e){return U(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:P,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"inches",label:"Inches",name:"inches",onChange:function(e){return k(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:E,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",onChange:function(e){return F(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsxs)("label",{htmlFor:"upload-photo",children:[Object(he.jsx)("input",{style:{display:"none"},id:"upload-photo",name:"upload-photo",type:"file",onChange:Y}),Object(he.jsxs)(Qn.a,{color:"primary",size:"small",component:"span","aria-label":"add",variant:"extended",children:[Object(he.jsx)(Hn.a,{})," Upload photo"]})]})}),Object(he.jsx)(Xn.a,{}),Object(he.jsxs)(ea.a,{children:[Object(he.jsx)(pe.a,{size:"small",onClick:function(){return V()},children:"Cancel"}),Object(he.jsx)(pe.a,{size:"small",color:"primary",disabled:!Z,onClick:function(){var t={shopId:o.id,name:d,brand:m,os:x,color:w,inches:Math.trunc(parseFloat(P)).toString(),price:E,image:B};e.addProductToCatalogueInteractor(t),V()},children:"Create Product"})]}),s.addProductToCatalogueStatus.loading&&Object(he.jsx)(_e.a,{}),M&&Object(he.jsx)(qn,{message:"Product successfully created, you can close this menu now.",openedStateInParent:G})]})})),na=n(182),aa=n(191),ra=Object(ce.b)((function(e){return{shop:e.shop,catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=Fn(),n=Object(u.useState)(null),a=Object(b.a)(n,2),r=a[0],c=a[1],o=e.shop,s=e.catalogue,i=Object(u.useState)(!1),l=Object(b.a)(i,2),d=l[0],j=l[1],p=Object(u.useState)(""),h=Object(b.a)(p,2),m=h[0],O=h[1];Object(u.useEffect)((function(){s.addProductsToCatalogueStatus.success&&j(!0)}),[s.addProductsToCatalogueStatus]);return Object(he.jsxs)(lt.a,{elevation:1,children:[Object(he.jsxs)("div",{className:"flex-container-between",children:[Object(he.jsx)(je.a,{className:t.heading,children:"Import Products from CSV"}),Object(he.jsxs)("div",{className:"flex-container-evenly",children:[Object(he.jsx)(na.a,{onDrop:function(e){c(e)},onError:function(e){O("An unexpected error ocurred: ".concat(e))},addRemoveButton:!0,children:Object(he.jsx)("span",{children:"Drop CSV file here or click to upload."})}),Object(he.jsx)(Qn.a,{color:"primary",className:t.fab,onClick:function(){var t=[];null===r||void 0===r||r.slice(1).forEach((function(e){var n={shopId:o.id,name:e.data[0],brand:e.data[1],os:e.data[2],color:e.data[3],inches:Number(e.data[4]),price:Number(e.data[5]),image:"https://firebasestorage.googleapis.com/v0/b/eabmodel-ff034.appspot.com/o/PhoneGeneric.jpeg?alt=media&token=2fc686b6-295e-4d59-9af0-db8897463b36"};(function(e){var t=!0;return Object.values(e).forEach((function(e){void 0!=e&&""!=e||(t=!1)})),t})(n)&&t.push(n)})),e.addProductsToCatalogueInteractor(t)},children:Object(he.jsx)(aa.a,{style:{fontSize:30}})})]})]}),s.addProductsToCatalogueStatus.loading&&Object(he.jsx)(_e.a,{}),d&&Object(he.jsx)(qn,{message:"Products successfully created, you can close this menu now.",openedStateInParent:j}),m]})})),ca=n(365),oa=Object(ce.b)((function(e){return{catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.catalogue,s=Object(u.useState)(!1),i=Object(b.a)(s,2),l=i[0],d=i[1],j=Fn();Object(u.useEffect)((function(){o.deleteProductFromCatalogueStatus.success&&d(!0)}),[o.deleteProductFromCatalogueStatus,d]);return Object(he.jsxs)(Vn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(he.jsxs)(Yn.a,{expandIcon:Object(he.jsx)(Dn.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(he.jsx)(je.a,{className:j.heading,children:r}),Object(he.jsx)(je.a,{className:j.secondaryHeading,children:c})]}),Object(he.jsx)(Pn.a,{dense:!0,children:o.products.map((function(t){return Object(he.jsxs)(kn.a,{button:!0,children:[Object(he.jsx)(Rn.a,{id:t.id,primary:"".concat(t.name),secondary:"Brand: ".concat(t.brand," ").concat(t.os," Color: ").concat(t.color)}),Object(he.jsx)(ca.a,{children:Object(he.jsx)(pe.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return n=t.id,void e.deleteProductFromCatalogueInteractor(n);var n},children:"Delete"})})]},t.id)}))}),Object(he.jsx)(Xn.a,{}),o.deleteProductFromCatalogueStatus.loading&&Object(he.jsx)(_e.a,{}),l&&Object(he.jsx)(qn,{message:"Product successfully deleted, you can close this menu now.",openedStateInParent:d})]})})),sa=Object(ce.b)((function(e){return{shop:e.shop,catalogue:e.catalogue,connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=e.panel,n=e.heading,a=e.summary,r=e.shop,c=e.catalogue,o=e.product,s=Object(u.useState)(!1),i=Object(b.a)(s,2),l=i[0],d=i[1],j=Object(u.useState)(o.name),p=Object(b.a)(j,2),h=p[0],m=p[1],O=Object(u.useState)(o.brand),f=Object(b.a)(O,2),g=f[0],x=f[1],v=Object(u.useState)(o.os),S=Object(b.a)(v,2),C=S[0],w=S[1],U=Object(u.useState)(o.color),N=Object(b.a)(U,2),T=N[0],P=N[1],k=Object(u.useState)(o.inches.toString()),A=Object(b.a)(k,2),R=A[0],E=A[1],F=Object(u.useState)(o.price.toString()),L=Object(b.a)(F,2),D=L[0],B=L[1],W=Object(u.useState)(o.image),z=Object(b.a)(W,2),q=z[0],M=z[1],G=Object(u.useState)(!1),H=Object(b.a)(G,2),V=H[0],Y=H[1],Z=Fn();Object(u.useEffect)((function(){c.editProductFromCatalogueStatus.success&&Y(!0)}),[c.editProductFromCatalogueStatus,Y]);var J=function(){var t=Object(I.a)(y.a.mark((function t(n){var a,c,o,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.files[0],t.next=3,e.connection.storage.ref("".concat(r.id,"/").concat(a.name));case 3:return c=t.sent,o=c.child(a.name),t.next=7,o.put(a);case 7:return t.next=9,o.getDownloadURL();case 9:s=t.sent,M(s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=Mn(h)&&Mn(g)&&Mn(C)&&Mn(T)&&Mn(R)&&Mn(q)&&Mn(D);return Object(he.jsxs)(Vn.a,{TransitionProps:{unmountOnExit:!0},expanded:l===t,onChange:function(e){return function(t,n){d(!!n&&e)}}(t),children:[Object(he.jsxs)(Yn.a,{expandIcon:Object(he.jsx)(Dn.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(he.jsx)(je.a,{className:Z.heading,children:n}),Object(he.jsx)(je.a,{className:Z.secondaryHeading,children:a})]}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:h,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",onChange:function(e){return m(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:g,variant:"standard",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",onChange:function(e){return x(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsxs)(Jn.a,{variant:"outlined",className:Z.formControl,fullWidth:!0,children:[Object(he.jsx)($n.a,{id:"demo-simple-select-outlined-label",children:"OS"}),Object(he.jsxs)(Kn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:C,onChange:function(e){return w(e.target.value)},label:"Age",children:[Object(he.jsx)(_n.a,{value:"Android",children:"Android"}),Object(he.jsx)(_n.a,{value:"IOS",children:"IOS"}),Object(he.jsx)(_n.a,{value:"Windows",children:"Windows"})]})]})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:T,variant:"standard",required:!0,fullWidth:!0,id:"color",label:"Device Color",name:"color",onChange:function(e){return P(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:R,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"inches",label:"Inches",name:"inches",onChange:function(e){return E(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:D,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",onChange:function(e){return B(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsxs)("label",{htmlFor:"upload-photo",children:[Object(he.jsx)("input",{style:{display:"none"},id:"upload-photo",name:"upload-photo",type:"file",onChange:J}),Object(he.jsxs)(Qn.a,{color:"primary",size:"small",component:"span","aria-label":"add",variant:"extended",children:[Object(he.jsx)(Hn.a,{})," Upload photo"]})]})}),Object(he.jsx)(Xn.a,{}),Object(he.jsxs)(ea.a,{children:[Object(he.jsx)(pe.a,{size:"small",onClick:function(){m(o.name),x(o.brand),w(o.os),P(o.color),E(o.inches.toString()),B(o.price.toString()),M(o.image)},children:"Cancel"}),Object(he.jsx)(pe.a,{size:"small",color:"primary",disabled:!$,onClick:function(){var t={id:o.id,shopId:r.id,name:h,brand:g,os:C,color:T,inches:Number(R),price:Number(D),image:q};e.editProductFromCatalogueInteractor(t)},children:"Edit Product"})]}),c.editProductFromCatalogueStatus.loading&&Object(he.jsx)(_e.a,{}),V&&Object(he.jsx)(qn,{message:"Product successfully edited, you can close this menu now.",openedStateInParent:Y})]})})),ia=Object(ce.b)((function(e){return{shop:e.shop,catalogue:e.catalogue,user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=Fn(),n=e.catalogue,a=Object(u.useState)(n.products),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(u.useEffect)((function(){o(n.products)}),[e.getCatalogueInteractor,n.getCatalogueStatus.success]),Object(he.jsxs)(he.Fragment,{children:[c.length?Object(he.jsx)("div",{className:t.mainContainer,children:Object(he.jsx)("h3",{children:"Edit a Product"})}):null,c.map((function(e){return Object(he.jsx)(sa,{panel:"panel1",heading:e.name,summary:"Press to edit this product",product:e},e.id)}))]})})),ua=function(){var e=Object(m.g)(),t=Fn(),n=Object(u.useState)(!1),a=Object(b.a)(n,2),r=a[0],c=a[1],o=function(e){return function(t,n){c(!!n&&e)}};return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{className:t.mainContainer,children:[Object(he.jsx)(ta,{expanded:r,handleChange:o,panel:"panel1",heading:"Create Single Product",summary:"Here you can create a product for this shop, giving it all its necesary attributes."}),Object(he.jsx)(ra,{}),Object(he.jsx)(oa,{expanded:r,handleChange:o,panel:"panel2",heading:"Delete Product",summary:"Here you can delete a product from this shop."}),Object(he.jsx)(ia,{})]}),Object(he.jsx)("div",{className:"btn-bottom-left",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){e.go(-1)},children:"Back"})})]})},la=n(369),da=n(371),ja=n(367),ba=n(368),pa=n(370),ha=n(366),ma=(n(168),Object(ce.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),o),e))}))((function(e){var t=e.user,n=e.shops,a=e.defaultId,r=e.userId,c=e.reassignUserShopInteractor,o=e.handleUserReassignInteractor,s=Object(u.useState)(a),i=Object(b.a)(s,2),l=i[0],d=i[1];Object(u.useEffect)((function(){var e={userId:r,shopId:l};t.reassignUserShopStatus.success&&o(e)}),[t.reassignUserShopStatus.success]);var j=null===n||void 0===n?void 0:n.map((function(e){return Object(he.jsx)(_n.a,{value:e.id,children:e.name},e.id)}));return Object(he.jsxs)("div",{className:"flex-container",children:[Object(he.jsxs)(Jn.a,{variant:"outlined",children:[Object(he.jsx)($n.a,{id:"demo-simple-select-outlined-label",children:"Shop"}),Object(he.jsx)(Kn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:l,onChange:function(e){d(e.target.value)},label:"shop",children:j.map((function(e){return e}))})]}),Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){var e={userId:r,shopId:l};c(e),o(e)},children:"Reassign"})]})}))),Oa=Object(ce.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),o),e))}))((function(e){var t=e.user,n=e.data,a=e.shops,r=e.deleteUserInteractor,c=e.removeCompanyUserInteractor,o=Object(u.useState)(!1),s=Object(b.a)(o,2),i=s[0],l=s[1];Object(u.useEffect)((function(){t.deleteUserStatus.success&&i&&c(n.id)}),[t.deleteUserStatus.success]);var d,j,p;return Object(he.jsxs)(ha.a,{children:[Object(he.jsx)(ja.a,{component:"th",scope:"row",children:n.username}),Object(he.jsx)(ja.a,{align:"right",children:n.sessionType}),Object(he.jsx)(ja.a,{align:"center",children:(d=n.sessionType,j=n.shopId,p=n.id,"ADMINISTRATOR"===d?void 0:Object(he.jsx)(ma,{shops:a,defaultId:j,userId:p}))}),Object(he.jsx)(ja.a,{align:"left",children:function(e){return"ADMINISTRATOR"===e?void 0:Object(he.jsx)(pe.a,{variant:"contained",color:"secondary",onClick:function(){return e=n.id,r(e),void l(!0);var e},children:"Delete"})}(n.sessionType)})]},n.username)})),fa=Object(ce.b)((function(e){return{company:e.company,user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))((function(e){var t=e.company,n=e.user,a=e.getCompanyUsersInteractor,r=e.getCompanyShopsInteractor;return Object(u.useEffect)((function(){a(t.id)}),[a,n.registerUserStatus]),Object(u.useEffect)((function(){r(t.id)}),[r]),Object(he.jsx)(lt.a,{children:Object(he.jsxs)("div",{children:[Object(he.jsx)("h1",{children:"Company's Employees"}),Object(he.jsx)(ba.a,{component:lt.a,children:Object(he.jsxs)(la.a,{"aria-label":"simple table",children:[Object(he.jsx)(pa.a,{children:Object(he.jsxs)(ha.a,{children:[Object(he.jsx)(ja.a,{children:"User"}),Object(he.jsx)(ja.a,{align:"right",children:"Type"}),Object(he.jsx)(ja.a,{align:"center",children:"Shop"}),Object(he.jsx)(ja.a,{align:"center"})]})}),Object(he.jsx)(da.a,{children:t.users.map((function(e){return Object(he.jsx)(Oa,{data:e,shops:null===t||void 0===t?void 0:t.shops},e.id)}))})]})})]})})})),ga=Object(oe.a)((function(e){return Object(fe.a)({mainContainer:{width:"80%",margin:"8vh auto auto"},heading:{fontSize:"1.1rem",flexBasis:"33.33%",flexShrink:0,textAlign:"left"},secondaryHeading:{fontSize:"0.95rem",color:e.palette.text.secondary},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},fab:{margin:e.spacing(2)},alertMessage:{textAlign:"left",color:"red",padding:0,margin:0}})})),xa=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},va=Object(ce.b)((function(e){return{shop:e.shop,company:e.company,user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.user,s=e.shop,i=e.company,l=e.registerUserInteractor,d=ga(),j=Object(u.useState)(""),p=Object(b.a)(j,2),h=p[0],m=p[1],O=Object(u.useState)(""),f=Object(b.a)(O,2),g=f[0],x=f[1],v=Object(u.useState)(""),S=Object(b.a)(v,2),C=S[0],y=S[1],I=Object(u.useState)(""),w=Object(b.a)(I,2),U=w[0],N=w[1],T=Object(u.useState)(""),P=Object(b.a)(T,2),k=P[0],A=P[1],R=Object(u.useState)(!1),E=Object(b.a)(R,2),F=E[0],L=E[1];Object(u.useEffect)((function(){o.registerUserStatus.success&&L(!0)}),[o.registerUserStatus,L]);var D=function(){m(""),x(""),y("")},B=Mn(h)&&xa(g)&&Mn(g)&&Mn(C);return Object(he.jsxs)(Vn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(he.jsxs)(Yn.a,{expandIcon:Object(he.jsx)(Dn.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(he.jsx)(je.a,{className:d.heading,children:r}),Object(he.jsx)(je.a,{className:d.secondaryHeading,children:c})]}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:h,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Username",name:"username",onChange:function(e){return m(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:g,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Email",name:"email",onChange:function(e){var t=e.target.value;t?xa(t)?N(""):N("This must be an email"):N(""),x(t)}})}),""===U?void 0:Object(he.jsx)(Je.a,{severity:"warning",children:U}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:C,variant:"standard",type:"password",required:!0,fullWidth:!0,id:"name",label:"Password",name:"password",onChange:function(e){var t=e.target.value;t&&t.length<=7?A("Password must be longer than 7 characters"):A(""),y(t)}})}),""===k?void 0:Object(he.jsx)(Je.a,{severity:"warning",children:k}),Object(he.jsx)(Xn.a,{}),Object(he.jsxs)(ea.a,{children:[Object(he.jsx)(pe.a,{size:"small",onClick:function(){return D()},children:"Cancel"}),Object(he.jsx)(pe.a,{size:"small",color:"primary",disabled:!B,onClick:function(){var e={username:h,email:g,companyId:i.id,shopId:s.id,password:C};l(e),D()},children:"Create User"})]}),o.registerUserStatus.loading&&Object(he.jsx)(_e.a,{}),F&&Object(he.jsx)(qn,{message:"Employee user successfully created, you can close this menu now.",openedStateInParent:L})]})})),Sa=function(){var e=Fn(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1];return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{className:e.mainContainer,children:[Object(he.jsx)(va,{expanded:a,handleChange:function(e){return function(t,n){r(!!n&&e)}},panel:"panel1",heading:"Create Single User",summary:"Here you can create a user for this shop, giving it all its necesary attributes."}),Object(he.jsx)(fa,{})]}),Object(he.jsx)("div",{className:"btn-bottom-left",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})},Ca=Object(ce.b)((function(e){return{company:e.company,shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.company,s=e.shop,i=e.addShopInteractor,l=Object(u.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1],h=Object(u.useState)(""),m=Object(b.a)(h,2),O=m[0],f=m[1],g=Object(u.useState)(!1),x=Object(b.a)(g,2),v=x[0],S=x[1],C=Fn();Object(u.useEffect)((function(){s.addShopStatus.success&&S(!0)}),[s.addShopStatus,S]);var y=function(){p(""),f("")};return Object(he.jsxs)(Vn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(he.jsxs)(Yn.a,{expandIcon:Object(he.jsx)(Dn.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(he.jsx)(je.a,{className:C.heading,children:r}),Object(he.jsx)(je.a,{className:C.secondaryHeading,children:c})]}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:j,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",onChange:function(e){return p(e.target.value)}})}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(He.a,{value:O,variant:"standard",required:!0,fullWidth:!0,id:"location",label:"Location",name:"location",onChange:function(e){return f(e.target.value)}})}),Object(he.jsx)(Xn.a,{}),Object(he.jsxs)(ea.a,{children:[Object(he.jsx)(pe.a,{size:"small",onClick:function(){return y()},children:"Cancel"}),Object(he.jsx)(pe.a,{size:"small",color:"primary",disabled:!(Mn(j)&&Mn(O)),onClick:function(){var e={companyId:o.id,name:j,location:O};i(e),y()},children:"Create Shop"})]}),s.addShopStatus.loading&&Object(he.jsx)(_e.a,{}),v&&Object(he.jsx)(qn,{message:"Shop successfully created, you can close this menu now.",openedStateInParent:S})]})})),ya=n(382),Ia=n(377),wa=Object(ce.b)((function(e){return{shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},s),r),e))}))((function(e){var t,n=e.expanded,a=e.handleChange,r=e.panel,c=e.heading,o=e.summary,s=e.shop,i=e.setShopInteractor,l=e.resetCatalogueInteractor,d=Object(u.useState)(!1),j=Object(b.a)(d,2),p=j[0],h=j[1],m=Object(u.useState)(null===s||void 0===s?void 0:s.id),O=Object(b.a)(m,2),f=O[0],g=O[1],x=Object(u.useState)(),v=Object(b.a)(x,2),S=v[0],C=v[1],y=Fn();return Object(he.jsxs)(Vn.a,{TransitionProps:{unmountOnExit:!0},expanded:n===r,onChange:a(r),children:[Object(he.jsxs)(Yn.a,{expandIcon:Object(he.jsx)(Dn.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(he.jsx)(je.a,{className:y.heading,children:c}),Object(he.jsx)(je.a,{className:y.secondaryHeading,children:o})]}),Object(he.jsx)(Zn.a,{children:Object(he.jsx)(Jn.a,{component:"fieldset",children:Object(he.jsx)(ya.a,{"aria-label":"shop",name:"shopChoice",value:f,onChange:function(e){var t=e.target.value;g(t);var n=s.shops.find((function(e){return e.id===t}));C(n)},children:null===(t=s.shops)||void 0===t?void 0:t.map((function(e){return Object(he.jsx)(Dt.a,{value:e.id,control:Object(he.jsx)(Ia.a,{}),label:e.name},e.id)}))})})}),Object(he.jsx)(Xn.a,{}),Object(he.jsx)(ea.a,{children:Object(he.jsx)(pe.a,{size:"small",color:"primary",disabled:s.id===f,onClick:function(){i(S),h(!0),l()},children:"Switch Shop"})}),p&&Object(he.jsx)(qn,{message:"Switched shop successfully, you can close this menu now.",openedStateInParent:h})]})})),Ua=function(e){var t=e.shop,n=Object(m.g)();return Object(he.jsxs)(kn.a,{button:!0,children:[Object(he.jsx)(Rn.a,{id:t.id,primary:"".concat(t.name),secondary:"Location: ".concat(t.location)}),Object(he.jsx)(ca.a,{children:Object(he.jsx)(pe.a,{size:"small",variant:"contained",onClick:function(){return e=t.id,void n.push("/administration/shop/".concat(e));var e},children:"View devices"})})]},t.id)},Na=Object(ce.b)((function(e){return{shop:e.shop}}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,c=e.summary,o=e.shop,s=Fn();return Object(he.jsxs)(Vn.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(he.jsxs)(Yn.a,{expandIcon:Object(he.jsx)(Dn.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(he.jsx)(je.a,{className:s.heading,children:r}),Object(he.jsx)(je.a,{className:s.secondaryHeading,children:c})]}),Object(he.jsx)(Xn.a,{}),Object(he.jsx)(Pn.a,{dense:!0,children:o.shops.map((function(e){return Object(he.jsx)(Ua,{shop:e},e.id)}))})]})})),Ta=function(){var e=Fn(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],c=function(e){return function(t,n){r(!!n&&e)}};return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)("div",{className:e.mainContainer,children:[Object(he.jsx)(Ca,{expanded:a,handleChange:c,panel:"panel1",heading:"Create Shop",summary:"Here you can create a shop, giving all its necesary attributes."}),Object(he.jsx)(wa,{expanded:a,handleChange:c,panel:"panel2",heading:"Switch Shop",summary:"Here you can change to another shop."}),Object(he.jsx)(Na,{expanded:a,handleChange:c,panel:"panel3",heading:"View Shops",summary:"Here you can find all available shops."})]}),Object(he.jsx)("div",{className:"btn-bottom-left",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})},Pa=Object(oe.a)({root:{"& > *":{borderBottom:"unset"}},title:{backgroundColor:"#3f51b5",color:"white"}}),ka=(n(169),n(185)),Aa=n.n(ka),Ra=n(184),Ea=n.n(Ra),Fa=function(e){var t=e.device,n=Object(u.useState)(!1),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Pa();return Object(he.jsxs)(l.a.Fragment,{children:[Object(he.jsxs)(ha.a,{className:o.root,children:[Object(he.jsx)(ja.a,{children:Object(he.jsx)(ht.a,{"aria-label":"expand row",size:"small",onClick:function(){return c(!r)},children:r?Object(he.jsx)(Ea.a,{}):Object(he.jsx)(Aa.a,{})})}),Object(he.jsx)(ja.a,{component:"th",scope:"row",children:t.name}),Object(he.jsx)(ja.a,{align:"right",children:t.brand}),Object(he.jsx)(ja.a,{align:"right",children:t.os})]}),Object(he.jsx)(ha.a,{children:Object(he.jsx)(ja.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(he.jsx)(zn.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(he.jsxs)(xe.a,{margin:1,children:[Object(he.jsx)(je.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Details"}),Object(he.jsxs)(la.a,{size:"small","aria-label":"purchases",children:[Object(he.jsx)(pa.a,{children:Object(he.jsxs)(ha.a,{children:[Object(he.jsx)(ja.a,{children:"Color"}),Object(he.jsx)(ja.a,{children:"Inches"}),Object(he.jsx)(ja.a,{children:"Price"})]})}),Object(he.jsx)(da.a,{children:Object(he.jsxs)(ha.a,{children:[Object(he.jsx)(ja.a,{component:"th",scope:"row",children:t.color}),Object(he.jsx)(ja.a,{children:t.inches}),Object(he.jsx)(ja.a,{children:t.price})]})})]})]})})})})]},t.id)},La=function(){var e=window.location.pathname.split("/")[4],t=Object(u.useState)([]),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Pa();return Object(u.useEffect)((function(){Z.getShopProducts(e).then(r)}),[]),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(je.a,{className:c.title,variant:"h4",children:"All devices of the shop"}),Object(he.jsx)(ba.a,{component:lt.a,children:Object(he.jsxs)(la.a,{"aria-label":"collapsible table",children:[Object(he.jsx)(pa.a,{children:Object(he.jsxs)(ha.a,{children:[Object(he.jsx)(ja.a,{}),Object(he.jsx)(ja.a,{children:"Device name"}),Object(he.jsx)(ja.a,{align:"right",children:"Brand"}),Object(he.jsx)(ja.a,{align:"right",children:"Os"})]})}),Object(he.jsx)(da.a,{children:a.map((function(e,t){return Object(he.jsx)(Fa,{device:e},t)}))})]})}),Object(he.jsx)("div",{className:"btn-bottom-left",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})},Da=Object(ce.b)((function(e){return{products:e.catalogue.products,connection:e.connection}}))((function(e){var t=e.products,n=Object(m.g)(),a=Object(u.useState)(),r=Object(b.a)(a,2),c=r[0],o=r[1],s=window.location.pathname.split("/")[3];Object(u.useEffect)((function(){if((null===c||void 0===c?void 0:c.id)!==s){var e=t.find((function(e){return e.id===s}));o(e)}}),[c]);var i=Object(u.useCallback)((function(){n.push("/home/call")}),[]);return Object(he.jsxs)("div",{className:"main-container",children:[Object(he.jsxs)("div",{className:"details-container",children:[Object(he.jsx)(je.a,{className:"title",variant:"h3",children:"Device Details"}),Object(he.jsxs)("div",{className:"detail",children:[Object(he.jsx)(je.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Name:"}),Object(he.jsx)(je.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.name})]}),Object(he.jsxs)("div",{className:"detail",children:[Object(he.jsx)(je.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Brand:"}),Object(he.jsx)(je.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.brand})]}),Object(he.jsxs)("div",{className:"detail",children:[Object(he.jsx)(je.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Color:"}),Object(he.jsx)(je.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.color})]}),Object(he.jsxs)("div",{className:"detail",children:[Object(he.jsx)(je.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Screen Inches:"}),Object(he.jsx)(je.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.inches})]}),Object(he.jsxs)("div",{className:"detail",children:[Object(he.jsx)(je.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Operative System:"}),Object(he.jsx)(je.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===c||void 0===c?void 0:c.os})]}),Object(he.jsxs)("div",{className:"detail",children:[Object(he.jsx)(je.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Price:"}),Object(he.jsxs)(je.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:[null===c||void 0===c?void 0:c.price," CLP"]})]}),Object(he.jsx)("div",{className:"customer-button-container",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:i,children:"Get Assistance"})})]}),Object(he.jsx)("div",{className:"photo-container",children:Object(he.jsx)("img",{className:"image",src:null===c||void 0===c?void 0:c.image,alt:"Product"})}),Object(he.jsx)("div",{className:"btn-bottom-left",children:Object(he.jsx)(pe.a,{variant:"contained",color:"primary",onClick:function(){n.go(-1)},children:"Back"})})]})})),Ba=Object(oe.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},root:{display:"flex",alignItems:"center"}}})),Wa={postCallRegister:function(){var e=Object(I.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"post",url:"/calls/new-call",data:{employeeId:t.employeeId,shopId:t.shopId,rating:t.rating,date:t.date}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addRating:function(){var e=Object(I.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({headers:{"Content-Type":"application/json"},method:"put",url:"/calls/".concat(n),data:{rating:t}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},za=n(388),qa=n(125),Ma=n.n(qa),Ga=n(376),Ha=n(372),Va=n(280),Ya=Object(ce.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=Ba(),n=e.callId,a=Object(u.useState)(),r=Object(b.a)(a,2),c=r[0],o=r[1],s=Object(u.useState)(),i=Object(b.a)(s,2),d=i[0],j=i[1],p=Object(u.useState)(),h=Object(b.a)(p,2),m=h[0],O=h[1],f=l.a.useState(!0),g=Object(b.a)(f,2),x=g[0],v=g[1],S=function(){v(!1)},C=function(){o(null),j(null),O(null),e.setCallStateFalseInteractor(),S()},w="undefined"!==typeof c&&"undefined"!==typeof d&&"undefined"!==typeof m,U=function(){var t=Object(I.a)(y.a.mark((function t(){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=.4*c+.25*d+.35*m,t.next=3,Wa.addRating(a,n);case 3:e.setCallStateFalseInteractor(),C(),S(),e.sendSurvey();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(he.jsx)("div",{children:Object(he.jsx)(Ga.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:x,onClose:S,closeAfterTransition:!0,BackdropComponent:Ha.a,BackdropProps:{timeout:500},children:Object(he.jsx)(Va.a,{in:x,children:Object(he.jsxs)("div",{className:t.paper,children:[Object(he.jsx)("h2",{id:"transition-modal-title",children:"Tell us your experience!"}),Object(he.jsxs)(xe.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(he.jsx)(je.a,{component:"legend",children:"Was the assistant able to solve all your doubts?"}),Object(he.jsx)(za.a,{name:"question-one",defaultValue:.5,precision:.5,emptyIcon:Object(he.jsx)(Ma.a,{fontSize:"inherit"}),onChange:function(e,t){o(t)}})]}),Object(he.jsxs)(xe.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(he.jsx)(je.a,{component:"legend",children:"Was the assistant\xb4s disposition adequate?"}),Object(he.jsx)(za.a,{name:"question-two",defaultValue:.5,precision:.5,emptyIcon:Object(he.jsx)(Ma.a,{fontSize:"inherit"}),onChange:function(e,t){j(t)}})]}),Object(he.jsxs)(xe.a,{component:"fieldset",mb:3,borderColor:"transparent",children:[Object(he.jsx)(je.a,{component:"legend",children:"The response time to the video call was.."}),Object(he.jsx)(za.a,{name:"question-three",defaultValue:.5,precision:.5,emptyIcon:Object(he.jsx)(Ma.a,{fontSize:"inherit"}),onChange:function(e,t){O(t)}})]}),Object(he.jsx)(Xn.a,{}),Object(he.jsxs)(ea.a,{children:[Object(he.jsx)(pe.a,{onClick:function(){return C()},children:"No thanks"}),Object(he.jsx)(pe.a,{color:"primary",disabled:!w,onClick:U,children:"Done"})]})]})})})})})),Za=Object(ce.b)((function(e){return{connection:e.connection,shopId:e.shop.id,userId:e.user.id}}))((function(e){var t=Object(m.g)(),n=e.connection.firestore,a=Object(u.useState)(null),r=Object(b.a)(a,2),c=r[0],o=r[1],s=Object(u.useState)(!1),i=Object(b.a)(s,2),l=i[0],d=i[1],j=Object(u.useRef)(void 0).current;Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests..."),n.collection("shopCalls").doc(e.shopId).set({updatedAt:new Date});var t={answered:!1,inProgress:!1,date:new Date};p().then((function(a){n.collection("shopCalls").doc(e.shopId).collection("calls").doc(a.id).set({status:t}),j=a.id,o(j)}))}),[]),Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests...");var t=n.collection("shopCalls").doc(e.shopId).collection("calls").onSnapshot((function(e){e.docChanges().forEach((function(e){"removed"===e.type&&e.doc.id===j&&d(!0)}))}));return function(){t()}}),[n]);var p=function(){var t=Object(I.a)(y.a.mark((function t(){var n,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={employeeId:e.userId,shopId:e.shopId,rating:null,date:new Date},t.next=3,Wa.postCallRegister(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l?Object(he.jsx)(Ya,{callId:c,sendSurvey:function(){j=null,d(!1),t.go(-1)}}):Object(he.jsxs)("div",{className:"go-to-tablet-screen",children:[Object(he.jsx)("h1",{children:"An assistant will take care of you"}),Object(he.jsx)("p",{children:"Please, go to the nearest assistance tablet \ud83d\ude01"})]})})),Ja=function(){var e=Object(I.a)(y.a.mark((function e(t){var n,a,r,c,o,s,i,u,l,d,j;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.firestore,r=t.shopId,c=t.peerConnection,o=t.setIsOnCall,s=a.collection("shopCalls").doc(r).collection("calls").doc(n),i=null===s||void 0===s?void 0:s.collection("offerCandidates"),u=null===s||void 0===s?void 0:s.collection("answerCandidates"),o(!0),c.onicecandidate=function(e){e.candidate&&i.add(e.candidate.toJSON())},e.next=8,c.createOffer();case 8:return l=e.sent,e.next=11,c.setLocalDescription(l);case 11:return d={sdp:l.sdp,type:l.type},j={answered:!1,inProgress:!0,date:new Date},e.next=15,s.set({offer:d,status:j});case 15:return s.onSnapshot((function(e){var t=e.data();if(!c.currentRemoteDescription&&(null===t||void 0===t?void 0:t.answer)){var n=new RTCSessionDescription(t.answer);c.setRemoteDescription(n)}})),u.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=new RTCIceCandidate(e.doc.data());c.addIceCandidate(t)}}))})),e.abrupt("return",s.id);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$a=Object(ce.b)((function(e){return{connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.connection,n=t.firestore,a=t.peerConnection,r=Object(u.useRef)(),c=Object(u.useRef)(),o=Object(u.useState)(!1),s=Object(b.a)(o,2),i=s[0],l=s[1],d=Object(u.useRef)().current,j=function(){var t=Object(I.a)(y.a.mark((function t(r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ja({id:r,firestore:n,shopId:e.shopId,peerConnection:a,setIsOnCall:l});case 2:d=t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(I.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.prev=1,t.next=4,n.collection("shopCalls").doc(e.shopId).collection("calls").doc(d).delete();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:return t.prev=9,e.hangupCall(),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){var t={peerConnection:a,webcamVideo:r.current,remoteVideo:c.current};return jn(t).then((function(t){var n=t.localStream,a=t.remoteStream;e.setLocalStreamInteractor(n),e.setRemoteStreamInteractor(a)})).then((function(){return j(e.currentCallId)})),function(){r.current&&c.current&&(r.current.srcObject=null,c.current.srcObject=null),e.resetStreamConnectionInteractor()}}),[i]),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h1",{children:"Getting Assistance"}),Object(he.jsx)("div",{className:"customer-call-container",children:Object(he.jsxs)("div",{className:"customer-main-container",children:[Object(he.jsx)("video",{className:"local-video-container",ref:r,autoPlay:!0,playsInline:!0,muted:!0}),Object(he.jsx)("video",{className:"remote-video-container",ref:c,autoPlay:!0,playsInline:!0}),Object(he.jsx)("div",{className:"customer-button-container",children:Object(he.jsx)(pe.a,{size:"small",variant:"contained",color:"secondary",disabled:!i,onClick:p,children:"Hang up"})})]})})]})})),Ka=Object(ce.b)((function(e){return{connection:e.connection,shopId:e.shop.id}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.connection.firestore,n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],c=a[1],o=Object(u.useState)(!1),s=Object(b.a)(o,2),i=s[0],l=s[1];return Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests...");var n=t.collection("shopCalls").doc(e.shopId).collection("calls").onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&(e.doc.data().status.inProgress||r||(c(e.doc.id),l(!0))),"removed"===e.type&&window.location.reload()}))}));return function(){n()}}),[t]),Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(je.a,{component:"h1",variant:"h3",children:"Assistance Tablet"}),i&&Object(he.jsx)($a,{shopId:e.shopId,currentCallId:r,hangupCall:function(){c(""),l(!1)}})]})})),_a=n(186),Qa=n.n(_a),Xa=(n(170),Object(ce.b)((function(e){return{user:e.user,company:e.company,shopId:e.shop.id}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},c),a),e))}))((function(e){var t=e.user,n=e.company,a=e.shopId,r=Object(m.g)();return Object(he.jsxs)("div",{className:"options",children:[n.id&&Object(he.jsx)(pe.a,{color:"inherit",onClick:function(){r.replace("/home")},children:"Home"}),a.length>0&&Object(he.jsx)(pe.a,{color:"inherit",onClick:function(){r.push("/assistance")},children:"Assistance Tablet"}),"ANONYMOUS"!==t.sessionType&&Object(he.jsx)(pe.a,{color:"inherit",onClick:function(){r.replace("/administration")},children:"Administration"})]})})));!function(e){e.SUCCESS="success",e.ERROR="error"}(pn||(pn={}));var er=function(e){var t=e.message,n=e.type,a=e.time,r=Object(u.useRef)(null).current,c=Object(u.useState)(!0),o=Object(b.a)(c,2),s=o[0],i=o[1],l=Object(tt.useTransition)(s,{from:{y:-100,opacity:0,margin:"4px 0",boxShadow:"5px 6px 12px -4px rgba(0,0,0,0.75)"},enter:{y:0,opacity:1,margin:"4px 0",boxShadow:"5px 8px 15px -8px rgba(0,0,0,0.9)"},leave:{y:-100,opacity:0,margin:"4px 0",boxShadow:"5px 6px 12px -4px rgba(0,0,0,0.75)"}});Object(u.useEffect)((function(){clearTimeout(r),r=setTimeout((function(){i(!1)}),a)}),[]);var d=function(){clearTimeout(r),i(!1)};return Object(he.jsx)(he.Fragment,{children:l((function(e,a){return a?Object(he.jsx)(tt.animated.div,{style:e,children:Object(he.jsx)(Je.a,{severity:n,onClose:d,children:t})}):""}))})},tr=function(e){var t=e.time+e.margin,n=e.time,a=e.company,r=e.resetRegisterCompanyInteractor,c=e.resetLoginCompanyInteractor,o=e.resetLogoutCompanyInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.registerCompanyStatus.success&&(d("Company created successfully"),setTimeout((function(){r(),d("")}),t))}),[r,a.registerCompanyStatus.success,t]),Object(u.useEffect)((function(){a.loginCompanyStatus.success&&(d("Successfull company login"),setTimeout((function(){c(),d("")}),t))}),[c,a.loginCompanyStatus.success,t]),Object(u.useEffect)((function(){a.logoutCompanyStatus.success&&(d("Successfull company logout"),setTimeout((function(){o(),d("")}),t))}),[o,a.logoutCompanyStatus.success,t]),Object(he.jsx)(he.Fragment,{children:l.length>0&&Object(he.jsx)(er,{message:l,type:pn.SUCCESS,time:n})})},nr=Object(ce.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))(Object(u.memo)(tr)),ar=function(e){var t=e.time+e.margin,n=e.time,a=e.catalogue,r=e.resetAddProductToCatalogueInteractor,c=e.resetAddProductsToCatalogueInteractor,o=e.resetDeleteProductFromCatalogueInteractor,s=e.resetEditProductFromCatalogueInteractor,i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1];return Object(u.useEffect)((function(){a.addProductToCatalogueStatus.success&&(j("Product created successfully"),setTimeout((function(){r(),j("")}),t))}),[r,a.addProductToCatalogueStatus.success,t]),Object(u.useEffect)((function(){a.addProductsToCatalogueStatus.success&&(j("List of products created successfully"),setTimeout((function(){c(),j("")}),t))}),[c,a.addProductsToCatalogueStatus.success,t]),Object(u.useEffect)((function(){a.deleteProductFromCatalogueStatus.success&&(j("Product deleted successfully"),setTimeout((function(){o(),j("")}),t))}),[o,a.deleteProductFromCatalogueStatus.success,t]),Object(u.useEffect)((function(){a.editProductFromCatalogueStatus.success&&(j("Product edited successfully"),setTimeout((function(){s(),j("")}),t))}),[s,a.editProductFromCatalogueStatus.success,t]),Object(he.jsx)(he.Fragment,{children:d.length>0&&Object(he.jsx)(er,{message:d,type:pn.SUCCESS,time:n})})},rr=Object(ce.b)((function(e){return{catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))(Object(u.memo)(ar)),cr=function(e){var t=e.time+e.margin,n=e.time,a=e.shop,r=e.resetAddShopInteractor,c=e.resetRemoveShopInteractor,o=e.resetUpdateShopInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.addShopStatus.success&&(d("Shop created successfully"),setTimeout((function(){r(),d("")}),t))}),[r,a.addShopStatus.success,t]),Object(u.useEffect)((function(){a.removeShopStatus.success&&(d("Shop deleted successfully"),setTimeout((function(){c(),d("")}),t))}),[c,a.removeShopStatus.success,t]),Object(u.useEffect)((function(){a.updateShopStatus.success&&(d("Shop updated successfully"),setTimeout((function(){o(),d("")}),t))}),[o,a.updateShopStatus.success,t]),Object(he.jsx)(he.Fragment,{children:l.length>0&&Object(he.jsx)(er,{message:l,type:pn.SUCCESS,time:n})})},or=Object(ce.b)((function(e){return{shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))(Object(u.memo)(cr)),sr=function(e){var t=e.time+e.margin,n=e.time,a=e.user,r=e.resetLoginUserInteractor,c=e.resetLogoutUserInteractor,o=e.resetDeleteUserInteractor,s=e.resetRegisterUserInteractor,i=e.resetReassignUserInteractor,l=Object(u.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1];return Object(u.useEffect)((function(){a.registerUserStatus.success&&(p("Successfull user register"),setTimeout((function(){s(),p("")}),t))}),[s,a.registerUserStatus.success,t]),Object(u.useEffect)((function(){a.loginUserStatus.success&&(p("Successfull user login"),setTimeout((function(){r(),p("")}),t))}),[r,a.loginUserStatus.success,t]),Object(u.useEffect)((function(){a.logoutUserStatus.success&&(p("Successfull user logout"),setTimeout((function(){c(),p("")}),t))}),[c,a.logoutUserStatus.success,t]),Object(u.useEffect)((function(){a.deleteUserStatus.success&&(p("Successfull user delete"),setTimeout((function(){o(),p("")}),t))}),[o,a.deleteUserStatus.success,t]),Object(u.useEffect)((function(){a.reassignUserShopStatus.success&&(p("Succesfull reasignation of user to another shop"),setTimeout((function(){i(),p("")}),t))}),[i,a.reassignUserShopStatus.success,t]),Object(he.jsx)(he.Fragment,{children:j.length>0&&Object(he.jsx)(er,{message:j,type:pn.SUCCESS,time:n})})},ir=Object(ce.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))(Object(u.memo)(sr)),ur=(n(171),function(e){var t=e.time,n=e.margin;return Object(he.jsxs)("div",{className:"message-alert-container",children:[Object(he.jsx)(nr,{time:t,margin:n}),Object(he.jsx)(rr,{time:t,margin:n}),Object(he.jsx)(or,{time:t,margin:n}),Object(he.jsx)(ir,{time:t,margin:n})]})}),lr=Object(u.memo)(ur),dr=function(e){var t=e.time+e.margin,n=e.time,a=e.company,r=e.resetRegisterCompanyInteractor,c=e.resetLoginCompanyInteractor,o=e.resetLogoutCompanyInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.registerCompanyStatus.error&&(d(String(a.registerCompanyStatus.error)),setTimeout((function(){r(),d("")}),t))}),[r,a.registerCompanyStatus.error,t]),Object(u.useEffect)((function(){a.loginCompanyStatus.error&&(d(String(a.loginCompanyStatus.error)),setTimeout((function(){c(),d("")}),t))}),[c,a.loginCompanyStatus.error,t]),Object(u.useEffect)((function(){a.logoutCompanyStatus.error&&(d(String(a.logoutCompanyStatus.error)),setTimeout((function(){o(),d("")}),t))}),[o,a.logoutCompanyStatus.error,t]),Object(he.jsx)(he.Fragment,{children:l.length>0&&Object(he.jsx)(er,{message:l,type:pn.ERROR,time:n})})},jr=Object(ce.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},o),e))}))(Object(u.memo)(dr)),br=function(e){var t=e.time+e.margin,n=e.time,a=e.catalogue,r=e.resetGetCatalogueInteractor,c=e.resetAddProductToCatalogueInteractor,o=e.resetAddProductsToCatalogueInteractor,s=e.resetDeleteProductFromCatalogueInteractor,i=e.resetEditProductFromCatalogueInteractor,l=Object(u.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1];return Object(u.useEffect)((function(){a.getCatalogueStatus.error&&(p(String(a.getCatalogueStatus.error)),setTimeout((function(){r(),p("")}),t))}),[r,a.getCatalogueStatus.error,t]),Object(u.useEffect)((function(){a.addProductToCatalogueStatus.error&&(p(String(a.addProductToCatalogueStatus.error)),setTimeout((function(){c(),p("")}),t))}),[c,a.addProductToCatalogueStatus.error,t]),Object(u.useEffect)((function(){a.addProductsToCatalogueStatus.error&&(p(String(a.addProductsToCatalogueStatus.error)),setTimeout((function(){o(),p("")}),t))}),[o,a.addProductsToCatalogueStatus.error,t]),Object(u.useEffect)((function(){a.deleteProductFromCatalogueStatus.error&&(p(String(a.deleteProductFromCatalogueStatus.error)),setTimeout((function(){s(),p("")}),t))}),[s,a.deleteProductFromCatalogueStatus.error,t]),Object(u.useEffect)((function(){a.editProductFromCatalogueStatus.error&&(p(String(a.editProductFromCatalogueStatus.error)),setTimeout((function(){i(),p("")}),t))}),[i,a.editProductFromCatalogueStatus.error,t]),Object(he.jsx)(he.Fragment,{children:j.length>0&&Object(he.jsx)(er,{message:j,type:pn.ERROR,time:n})})},pr=Object(ce.b)((function(e){return{catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))(Object(u.memo)(br)),hr=function(e){var t=e.time+e.margin,n=e.time,a=e.shop,r=e.resetAddShopInteractor,c=e.resetRemoveShopInteractor,o=e.resetUpdateShopInteractor,s=Object(u.useState)(""),i=Object(b.a)(s,2),l=i[0],d=i[1];return Object(u.useEffect)((function(){a.addShopStatus.error&&(d(String(a.addShopStatus.error)),setTimeout((function(){r(),d("")}),t))}),[r,a.addShopStatus.error,t]),Object(u.useEffect)((function(){a.removeShopStatus.error&&(d(String(a.removeShopStatus.error)),setTimeout((function(){c(),d("")}),t))}),[c,a.removeShopStatus.error,t]),Object(u.useEffect)((function(){a.updateShopStatus.error&&(d(String(a.updateShopStatus.error)),setTimeout((function(){o(),d("")}),t))}),[o,a.updateShopStatus.error,t]),Object(he.jsx)(he.Fragment,{children:l.length>0&&Object(he.jsx)(er,{message:l,type:pn.ERROR,time:n})})},mr=Object(ce.b)((function(e){return{shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))(Object(u.memo)(hr)),Or=function(e){var t=e.time+e.margin,n=e.time,a=e.user,r=e.resetLoginUserInteractor,c=e.resetLogoutUserInteractor,o=e.resetDeleteUserInteractor,s=e.resetRegisterUserInteractor,i=e.resetReassignUserInteractor,l=Object(u.useState)(""),d=Object(b.a)(l,2),j=d[0],p=d[1];return Object(u.useEffect)((function(){a.registerUserStatus.error&&(p(String(a.registerUserStatus.error)),setTimeout((function(){s(),p("")}),t))}),[s,a.registerUserStatus.error,t]),Object(u.useEffect)((function(){a.loginUserStatus.error&&(p(String(a.loginUserStatus.error)),setTimeout((function(){r(),p("")}),t))}),[r,a.loginUserStatus.error,t]),Object(u.useEffect)((function(){a.logoutUserStatus.error&&(p(String(a.logoutUserStatus.error)),setTimeout((function(){c(),p("")}),t))}),[c,a.logoutUserStatus.error,t]),Object(u.useEffect)((function(){a.deleteUserStatus.error&&(p(String(a.deleteUserStatus.error)),setTimeout((function(){o(),p("")}),t))}),[o,a.deleteUserStatus.error,t]),Object(u.useEffect)((function(){a.reassignUserShopStatus.error&&(p(String(a.reassignUserShopStatus.error)),setTimeout((function(){i(),p("")}),t))}),[i,a.reassignUserShopStatus.error,t]),Object(he.jsx)(he.Fragment,{children:j.length>0&&Object(he.jsx)(er,{message:j,type:pn.ERROR,time:n})})},fr=Object(ce.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))(Object(u.memo)(Or)),gr=function(e){var t=e.time,n=e.margin;return Object(he.jsxs)("div",{className:"message-alert-container",children:[Object(he.jsx)(jr,{time:t,margin:n}),Object(he.jsx)(pr,{time:t,margin:n}),Object(he.jsx)(mr,{time:t,margin:n}),Object(he.jsx)(fr,{time:t,margin:n})]})},xr=Object(u.memo)(gr),vr=Object(oe.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"left"}}})),Sr=function(e){var t=e.component,n=Object(h.a)(e,["component"]),a=Object(ce.c)((function(e){return e.user}));return Object(he.jsx)(m.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return"ANONYMOUS"!==a.sessionType?Object(he.jsx)(t,Object(p.a)({},e)):Object(he.jsx)(m.a,{to:"/home"})}}))},Cr=function(e){var t=e.component,n=Object(h.a)(e,["component"]),a=Object(ce.c)((function(e){return e.user}));return Object(he.jsx)(m.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return"ADMINISTRATOR"===a.sessionType?Object(he.jsx)(t,Object(p.a)({},e)):Object(he.jsx)(m.a,{to:"/administration"})}}))},yr=function(){var e=vr(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],c=Object(u.useState)(a?"open":"closed"),o=Object(b.a)(c,2),s=o[0],i=o[1];return Object(he.jsx)(O.a,{basename:"/frontend",children:Object(he.jsxs)("div",{id:"layout",children:[Object(he.jsxs)("div",{id:"left",className:s,children:[Object(he.jsx)(ht.a,{edge:"start",className:"icon ".concat(e.menuButton),color:"inherit","aria-label":"menu",onClick:function(){r(!a),i(a?"open":"closed")},children:Object(he.jsx)(Qa.a,{})}),Object(he.jsx)("div",{className:"sidebar ".concat(s),children:Object(he.jsx)("div",{className:"content",children:Object(he.jsx)(Xa,{})})})]}),Object(he.jsxs)("div",{id:"main",children:[Object(he.jsx)("div",{className:"header",children:Object(he.jsx)("div",{className:"\n                          title\n                          ".concat("left-"+s,"\n                      "),children:Object(he.jsx)(gt,{})})}),Object(he.jsxs)("div",{className:"content",id:"page",children:[Object(he.jsx)(xr,{time:4e3,margin:1e3}),Object(he.jsx)(lr,{time:4e3,margin:1e3}),Object(he.jsxs)(m.d,{children:[Object(he.jsx)(m.b,{path:"/",exact:!0,component:on}),Object(he.jsx)(m.b,{path:"/home",exact:!0,component:rt}),Object(he.jsx)(m.b,{path:"/home/call",exact:!0,component:Za}),Object(he.jsx)(m.b,{path:"/information",exact:!0,component:jt}),Object(he.jsx)(m.b,{path:"/product/:id/details",exact:!0,component:Da}),Object(he.jsx)(m.b,{path:"/assistance",exact:!0,component:Ka}),Object(he.jsx)(Sr,{path:"/administration",exact:!0,component:dn}),Object(he.jsx)(Sr,{path:"/administration/calls",exact:!0,component:En}),Object(he.jsx)(Cr,{path:"/administration/shop",exact:!0,component:Ta}),Object(he.jsx)(Cr,{path:"/administration/shop/:id",exact:!0,component:La}),Object(he.jsx)(Cr,{path:"/administration/catalogue",exact:!0,component:ua}),Object(he.jsx)(Cr,{path:"/administration/employees",exact:!0,component:Sa})]})]})]})]})})},Ir=function(){return Object(he.jsx)("div",{className:"container",children:Object(he.jsx)("div",{className:"App",children:Object(he.jsx)(yr,{})})})},wr=n(139),Ur=n(98),Nr=n(187),Tr=n(188),Pr={key:"root",storage:n.n(Tr).a,whitelist:["company","user","shop","catalogue"]},kr=Object(f.combineReducers)({user:Ie,modal:v,catalogue:q,company:St,shop:Gt,connection:On}),Ar=Object(wr.a)(Pr,kr),Rr=Object(f.createStore)(Ar,Object(Nr.composeWithDevTools)(Object(f.applyMiddleware)(Ur.a))),Er=Object(wr.b)(Rr),Fr=n(190),Lr=n(189),Dr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Br(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Wr=function(e){e&&e instanceof Function&&n.e(16).then(n.bind(null,390)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},zr=Object(Fr.a)(),qr=document.getElementById("root"),Mr=(/#!(\/.*)$/.exec(window.location.hash)||[])[1];Mr&&zr.replace(Mr),j.a.render(Object(he.jsx)(ce.a,{store:Rr,children:Object(he.jsx)(Lr.a,{persistor:Er,children:Object(he.jsx)(Ir,{})})}),qr),function(e){if("serviceWorker"in navigator){if(new URL("/frontend",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/frontend","/service-worker.js");Dr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Br(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Br(t,e)}))}}(),Wr()}},[[274,14,15]]]);
//# sourceMappingURL=main.fbd050b0.chunk.js.map