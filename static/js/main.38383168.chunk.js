(this["webpackJsonpvirtual-assistant-frontend"]=this["webpackJsonpvirtual-assistant-frontend"]||[]).push([[0],{151:function(e,t,n){},152:function(e,t,n){},159:function(e,t,n){},194:function(e,t,n){},218:function(e,t,n){},230:function(e,t,n){},233:function(e,t){},235:function(e,t){},245:function(e,t,n){},246:function(e,t,n){},249:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"showPopUpInteractor",(function(){return C})),n.d(a,"closePopUpInteractor",(function(){return y}));var r={};n.r(r),n.d(r,"getCatalogueInteractor",(function(){return M})),n.d(r,"addProductToCatalogueInteractor",(function(){return z})),n.d(r,"addProductsToCatalogueInteractor",(function(){return K})),n.d(r,"removeProductFromCatalogueInteractor",(function(){return q})),n.d(r,"deleteProductFromCatalogueInteractor",(function(){return G})),n.d(r,"resetCatalogueInteractor",(function(){return V}));var o={};n.r(o),n.d(o,"loginUserInteractor",(function(){return he})),n.d(o,"logoutUserInteractor",(function(){return fe})),n.d(o,"resetUserStatusInteractor",(function(){return ge})),n.d(o,"resetUserInteractor",(function(){return ve}));var c={};n.r(c),n.d(c,"registerCompanyInteractor",(function(){return Qe})),n.d(c,"loginCompanyInteractor",(function(){return Xe})),n.d(c,"logoutCompanyInteractor",(function(){return et})),n.d(c,"resetCompanyStatusInteractor",(function(){return tt})),n.d(c,"resetCompanyInteractor",(function(){return nt}));var s={};n.r(s),n.d(s,"setShopInteractor",(function(){return lt})),n.d(s,"addShopInteractor",(function(){return dt})),n.d(s,"removeShopInteractor",(function(){return jt})),n.d(s,"updateShopInteractor",(function(){return bt})),n.d(s,"resetShopStatusInteractor",(function(){return pt})),n.d(s,"resetShopInteractor",(function(){return mt}));var i={};n.r(i),n.d(i,"setLocalStreamInteractor",(function(){return Et})),n.d(i,"resetLocalStreamInteractor",(function(){return kt})),n.d(i,"setRemoteStreamInteractor",(function(){return Ut})),n.d(i,"resetRemoteStreamInteractor",(function(){return Dt})),n.d(i,"resetStreamConnectionInteractor",(function(){return Lt}));var u=n(0),l=n.n(u),d=n(19),j=n.n(d),b=(n(194),n(10)),p=n(5),m=n(131),O=n(25),h=n(41),f=n(15),g=n(35),v=Object(g.a)({name:"modal",initialState:{open:!1},reducers:{showLogIn:function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!0})},closeLogIn:function(e){return Object(p.a)(Object(p.a)({},e),{},{open:!1})}}}),x=v.reducer,S=v.actions,C=function(){return function(e){e(S.showLogIn())}},y=function(){return function(e){e(S.closeLogIn())}},w=n(36),P={products:[],getCatalogueStatus:{loading:!1,success:!1,error:!1},addProductToCatalogue:{loading:!1,success:!1,error:!1},removeProductFromCatalogue:{loading:!1,success:!1,error:!1},addProductsToCatalogue:{loading:!1,success:!1,error:!1},removeProductsFromCatalogue:{loading:!1,success:!1,error:!1},deleteProductFromCatalogue:{loading:!1,success:!1,error:!1}},I=Object(g.a)({name:"catalogue",initialState:P,reducers:{loadingGetCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),{},{getCatalogueStatus:{loading:!0,success:!1,error:!1}})},successGetCatalogue:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{products:Object(w.a)(null===t||void 0===t?void 0:t.payload),getCatalogueStatus:{loading:!1,success:!0,error:!1}})},errorGetCatalogue:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{getCatalogueStatus:{loading:!1,success:!1,error:t.payload||!0}})},loadingAddProductToCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),{},{addProductToCatalogue:{loading:!0,success:!1,error:!1}})},successAddProductToCatalogue:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{products:[].concat(Object(w.a)(e.products),[t.payload]),addProductToCatalogue:{loading:!1,success:!0,error:!1}})},errorAddProductToCatalogue:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{addProductToCatalogue:{loading:!1,success:!1,error:t.payload||!0}})},loadingAddProductsToCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),{},{addProductsToCatalogue:{loading:!0,success:!1,error:!1}})},successAddProductsToCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),{},{addProductsToCatalogue:{loading:!1,success:!0,error:!1}})},errorAddProductsToCatalogue:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{addProductsToCatalogue:{loading:!1,success:!1,error:t.payload||!0}})},loadingRemoveProductFromCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),{},{removeProductFromCatalogue:{loading:!0,success:!1,error:!1}})},successRemoveProductFromCatalogue:function(e,t){var n=e.products.indexOf(t.payload);return n>-1&&e.products.splice(n,1),Object(p.a)(Object(p.a)({},e),{},{removeProductFromCatalogue:{loading:!1,success:!0,error:!1}})},errorRemoveProductFromCatalogue:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{removeProductFromCatalogue:{loading:!1,success:!1,error:t.payload||!0}})},loadingDeleteProductFromCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),{},{deleteProductFromCatalogue:{loading:!0,success:!1,error:!1}})},successDeleteProductFromCatalogue:function(e,t){var n=e.products.filter((function(e){var n;return e.id!==(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.id)}));return Object(p.a)(Object(p.a)({},e),{},{products:n,deleteProductFromCatalogue:{loading:!1,success:!0,error:!1}})},errorDeleteProductFromCatalogue:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{deleteProductFromCatalogue:{loading:!1,success:!1,error:t.payload||!0}})},resetCatalogue:function(e){return Object(p.a)(Object(p.a)({},e),P)}}}),N=I.reducer,T=I.actions,A=n(12),R=n.n(A),E=n(17),k=n(160),U=n.n(k).a.create({baseURL:"https://eabmodel.herokuapp.com/"}),D=function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"post",url:"/catalogue/add-single-product",data:{shopId:t.shopId,name:t.name,brand:t.brand,os:t.os,color:t.color,inches:t.inches,price:t.price}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"post",url:"/catalogue/add-many-products",data:t}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={postProductRegister:D,getShopProducts:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"get",url:"/catalogue/shop/".concat(t)}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postProductsRegister:L,postProductDelete:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"delete",url:"/catalogue/delete-product/".concat(t)}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(e,t,n,a){return function(r){return function(){var o=Object(E.a)(R.a.mark((function o(c){return R.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:c(e());try{setTimeout(Object(E.a)(R.a.mark((function e(){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(r);case 2:n=e.sent,c(t(n));case 4:case"end":return e.stop()}}),e)}))),1500)}catch(s){c(n(s))}case 2:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}},W=function(e,t,n,a){return function(){return function(){var r=Object(E.a)(R.a.mark((function r(o){var c;return R.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o(e()),r.prev=1,!a){r.next=6;break}return r.next=5,a();case 5:c=r.sent;case 6:o(t(c)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),o(n(r.t0));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}},B=function(e){return function(t){return function(n){n(e(t))}}},H=function(e){return function(){return function(t){t(e())}}},M=F(T.loadingGetCatalogue,T.successGetCatalogue,T.errorGetCatalogue,_.getShopProducts),z=F(T.loadingAddProductToCatalogue,T.successAddProductToCatalogue,T.errorAddProductToCatalogue,_.postProductRegister),K=F(T.loadingAddProductsToCatalogue,T.successAddProductsToCatalogue,T.errorAddProductsToCatalogue,_.postProductsRegister),q=F(T.loadingRemoveProductFromCatalogue,T.successRemoveProductFromCatalogue,T.errorRemoveProductFromCatalogue,null),G=F(T.loadingDeleteProductFromCatalogue,T.successDeleteProductFromCatalogue,T.errorDeleteProductFromCatalogue,_.postProductDelete),V=function(){return function(e){e(T.resetCatalogue())}},Y=n(14),J=n(295),$=Object(J.a)({root:{maxWidth:345},infoContainer:{textAlign:"left"},media:{height:140}}),Z=n(297),Q=n(299),X=n(300),ee=n(301),te=n(71),ne=n(302),ae=n(252),re=n(1),oe=function(e){var t=e.specs,n=$(),a=Object(O.g)(),r=Object(u.useCallback)((function(e){a.push("product/".concat(e,"/details"))}),[]);return Object(re.jsxs)(Z.a,{className:n.root,children:[Object(re.jsxs)(Q.a,{style:{textAlign:"left"},children:[Object(re.jsx)(X.a,{className:n.media,image:"CHANGE-LATER",title:"Device"}),Object(re.jsxs)(ee.a,{children:[Object(re.jsx)(te.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(re.jsx)(te.a,{variant:"subtitle1",color:"textSecondary",component:"p",children:t.brand}),Object(re.jsxs)(te.a,{variant:"subtitle2",color:"textSecondary",component:"p",children:[t.os," ",t.color]}),Object(re.jsxs)(te.a,{variant:"subtitle2",color:"textSecondary",component:"p",children:[t.inches," inches display"]}),Object(re.jsx)(te.a,{variant:"body2",color:"textSecondary",component:"p",children:"These phones are really good, buy them now."})]})]}),Object(re.jsxs)(ne.a,{children:[Object(re.jsx)(ae.a,{size:"small",color:"primary",children:"Buy"}),Object(re.jsx)(ae.a,{size:"small",color:"primary",onClick:function(){return r(t.id)},children:"Details"})]})]})};oe.defaultProps={specs:{id:"0",name:"Defaut Device",brand:"Default Brand",os:"Default OS",color:"Default Color",inches:5,price:0}};var ce,se=n(337),ie=Object(J.a)((function(e){return Object(se.a)({root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},catalogContainer:{width:"50wh",height:"50vh",margin:"auto"},cardContainer:{margin:"5%",boxShadow:"8px 10px 19px 3px rgba(0,0,0,0.31)"}})})),ue=n(331),le=Object(Y.b)((function(e){return{catalogue:e.catalogue}}))((function(e){var t=ie(),n=e.catalogue;return Object(re.jsx)(ue.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",m:1,p:1,bgcolor:"background.paper",children:null===n||void 0===n?void 0:n.products.map((function(e){return Object(re.jsx)(ue.a,{className:t.cardContainer,children:Object(re.jsx)(oe,{specs:e})},e.id)}))})})),de=Object(J.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"50vw",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},popUp:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"1em"},cancelIcon:{position:"absolute",top:"-10",right:"-10"},alertMessage:{textAlign:"left",color:"red",padding:0,margin:0}}}));!function(e){e.ANONYMOUS="ANONYMOUS",e.EMPLOYEE="EMPLOYEE",e.ADMINISTRATOR="ADMINISTRATOR"}(ce||(ce={}));var je={username:"defaultUser",email:"",id:"",sessionType:ce.ANONYMOUS,loginUserStatus:{loading:!1,success:!1,error:!1},logoutUserStatus:{loading:!1,success:!1,error:!1}},be=Object(g.a)({name:"user",initialState:je,reducers:{loadingLoginUser:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginUserStatus:{loading:!0,success:!1,error:!1}})},successLoginUser:function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{loginUserStatus:{loading:!1,success:!0,error:!1},logoutUserStatus:{loading:!1,success:!1,error:!1}})},errorLoginUser:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{loginUserStatus:{loading:!1,success:!1,error:t.payload||!0}})},loadingLogoutUser:function(e){return Object(p.a)(Object(p.a)({},e),{},{logoutUserStatus:{loading:!0,success:!1,error:!1}})},successLogoutUser:function(e){return Object(p.a)(Object(p.a)(Object(p.a)({},e),je),{},{logoutUserStatus:{loading:!1,success:!0,error:!1}})},errorLogoutUser:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{logoutUserStatus:{loading:!1,success:!1,error:t.payload||!0}})},resetUserStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginUserStatus:je.loginUserStatus,logoutUserStatus:je.logoutUserStatus})},resetUser:function(e){return Object(p.a)(Object(p.a)({},e),je)}}}),pe=be.reducer,me=be.actions,Oe={getUser:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"get",url:"/user/".concat(t)}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postUserLogin:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"post",url:"/user/auth",data:{email:t.email,password:t.password}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postUserRegister:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"post",url:"/user/create",data:{username:t.username,email:t.email,password:t.password,confirmPassword:t.confirmPassword}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},he=F(me.loadingLoginUser,me.successLoginUser,me.errorLoginUser,Oe.postUserLogin),fe=W(me.loadingLogoutUser,me.successLogoutUser,me.errorLogoutUser,null),ge=function(){return function(e){e(me.resetUserStatus())}},ve=function(){return function(e){e(me.resetUser())}},xe=n(304),Se=n(303),Ce=n(305),ye=n(306),we=n(335),Pe=n(311),Ie=n(333),Ne=n(312);function Te(){return Object(re.jsxs)(te.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(re.jsx)(Se.a,{color:"inherit",href:"https://material-ui.com/",children:"EABModel"})," ",(new Date).getFullYear(),"."]})}var Ae,Re=Object(Y.b)((function(e){return{user:e.user}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},o),a),e))}))((function(e){var t=de(),n=Object(O.g)(),a=e.user,r=Object(u.useState)(""),o=Object(b.a)(r,2),c=o[0],s=o[1],i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1];Object(u.useEffect)((function(){a.loginUserStatus.success&&(e.resetUserStatusInteractor(),e.closePopUpInteractor(),n.push("/administration"))}),[n,e,a]);return Object(re.jsxs)(Z.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(re.jsx)("div",{className:t.cancelIcon,onClick:function(){e.closePopUp()},children:Object(re.jsx)(xe.a,{fontSize:"large",color:"secondary"})}),Object(re.jsx)(Ce.a,{}),Object(re.jsxs)("div",{className:t.paper,children:[a.loginUserStatus.loading&&Object(re.jsx)(ye.a,{}),Object(re.jsx)(te.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(re.jsxs)("div",{className:t.form,children:[Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){s(e.target.value)}}),Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){j(e.target.value)}}),Object(re.jsx)(Pe.a,{control:Object(re.jsx)(Ie.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(re.jsx)(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!(c&&d),onClick:function(){var t={email:c,password:d};e.loginUserInteractor(t)},children:"Sign In"}),Object(re.jsxs)(Ne.a,{container:!0,children:[Object(re.jsx)(Ne.a,{item:!0,xs:!0,children:Object(re.jsx)(Se.a,{href:"#",variant:"body2",children:"\xbfForgot password?"})}),Object(re.jsx)(Ne.a,{item:!0,xs:!0,children:Object(re.jsx)(Se.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(re.jsx)(ue.a,{mt:4,children:Object(re.jsx)(Te,{})})]})})),Ee=n(332),ke=n(313);n(218);!function(e){e.error="error",e.warning="warning",e.info="info",e.success="success"}(Ae||(Ae={}));var Ue=Object(Y.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},a),e))}))((function(e){var t=e.showPopUpInteractor,n=e.resourceName,a=e.severity,r=e.alertTitle,o=e.alertBody,c=e.hasLoginButton;return Object(re.jsx)("div",{className:"alert-container",children:Object(re.jsxs)(Ee.a,{className:"alert",variant:"filled",severity:a,children:[Object(re.jsx)(ke.a,{className:"alert-title",children:r}),o.map((function(e){return Object(re.jsx)("p",{className:"alert-text",children:e},e)})),c&&Object(re.jsx)("div",{className:"button-container",children:Object(re.jsxs)(ae.a,{variant:"contained",onClick:t,children:["Sign in to create ",n]})})]})})})),De=n(314),Le=n(162),_e=n(166),Fe=n.n(_e),We=n(127),Be=(n(230),function(e){var t=e.idleValue,n=e.toggleIdle,a=Object(u.useState)(!1),r=Object(b.a)(a,2),o=r[0],c=r[1];Object(Le.a)({timeout:18e4,onIdle:function(){n(!t),c(!0)},onActive:function(){n(!t),c(!1)},debounce:500});var s={from:{opacity:0,marginTop:-500},to:{opacity:1,marginTop:0}};return Object(re.jsx)(re.Fragment,{children:o&&Object(re.jsx)(We.Spring,{from:s.from,to:s.to,children:function(e){return Object(re.jsx)(We.animated.div,{style:e,children:Object(re.jsx)("div",{className:"player-wrapper",children:Object(re.jsx)(Fe.a,{className:"react-player",url:"https://www.youtube.com/watch?v=ivukpkSMoYQ",playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"100%"})})})}})})}),He=l.a.memo(Be),Me=Object(Y.b)((function(e){return{modal:e.modal,company:e.company,shop:e.shop,catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},a),r),e))}))((function(e){var t=e.modal,n=e.company,a=e.shop,r=e.catalogue,o=Object(u.useState)(!1),c=Object(b.a)(o,2),s=c[0],i=c[1],l=Object(u.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],m=Object(u.useState)(!1),O=Object(b.a)(m,2),h=O[0],f=O[1];Object(u.useEffect)((function(){var e;n.registerCompanyStatus.success||0===(null===n||void 0===n||null===(e=n.shops)||void 0===e?void 0:e.length)?i(!0):i(!1)}),[n.registerCompanyStatus,n]),Object(u.useEffect)((function(){e.getCatalogueInteractor(a.id)}),[e.getCatalogueInteractor]),Object(u.useEffect)((function(){var e;0===(null===r||void 0===r||null===(e=r.products)||void 0===e?void 0:e.length)?p(!0):p(!1)}),[r]);return Object(re.jsxs)("div",{children:[Object(re.jsx)(He,{idleValue:h,toggleIdle:f}),!h&&Object(re.jsxs)(re.Fragment,{children:[r.getCatalogueStatus.loading&&Object(re.jsx)(De.a,{color:"secondary"}),s&&Object(re.jsx)(Ue,{resourceName:"shop",severity:Ae.warning,alertTitle:"Create a shop",alertBody:["It seems you don't have any shops, create one.","If you already created one, logout your company and sign in as that shop."],hasLoginButton:!0}),j&&Object(re.jsx)(Ue,{resourceName:"product",severity:Ae.info,alertTitle:"Add a product or products to your shop's catalogue",alertBody:["In order to display your products, add them first.","You can do that from the administrator menu."],hasLoginButton:!0}),!s&&!j&&Object(re.jsx)(le,{}),t.open&&Object(re.jsx)(Re,{closePopUp:function(){e.closePopUpInteractor()}})]})]})})),ze=n(315),Ke=n(316),qe=Object(J.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"right",marginLeft:"2rem",marginRight:"2rem",fontSize:"1rem"},btn:{fontSize:"2rem"}}})),Ge=Object(Y.b)((function(e){return{user:e.user,company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},o),a),e))}))((function(e){var t=e.user,n=e.company,a=Object(O.g)(),r=qe();return Object(re.jsx)(ze.a,{position:"static",className:r.root,children:Object(re.jsxs)(Ke.a,{children:[Object(re.jsx)(te.a,{variant:"h6",className:r.title,children:"ANONYMOUS"===t.sessionType?"Hello Dear Customer!":"Hello ".concat(t.username,"!")}),"ANONYMOUS"===t.sessionType?Object(re.jsx)(ae.a,{className:r.btn,color:"inherit",onClick:function(){e.showPopUpInteractor()},disabled:!n.id,children:"Login"}):Object(re.jsx)(ae.a,{color:"secondary",onClick:function(){e.logoutUserInteractor(),a.replace("/home")},disabled:!n.id,children:"Logout"})]})})})),Ve={id:"",name:"",email:"",shops:[],registerCompanyStatus:{loading:!1,success:!1,error:!1},loginCompanyStatus:{loading:!1,success:!1,error:!1},logoutCompanyStatus:{loading:!1,success:!1,error:!1}},Ye=Object(g.a)({name:"company",initialState:Ve,reducers:{loadingRegisterCompany:function(e){return Object(p.a)(Object(p.a)({},e),{},{registerCompanyStatus:{loading:!0,success:!1,error:!1}})},successRegisterCompany:function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{registerCompanyStatus:{loading:!1,success:!0,error:!1}})},errorRegisterCompany:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{registerCompanyStatus:{loading:!1,success:!1,error:t.payload||!0}})},loadingLoginCompany:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginCompanyStatus:{loading:!0,success:!1,error:!1}})},successLoginCompany:function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{loginCompanyStatus:{loading:!1,success:!0,error:!1}})},errorLoginCompany:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{loginCompanyStatus:{loading:!1,success:!1,error:t.payload||!0}})},loadingLogoutCompany:function(e){return Object(p.a)(Object(p.a)({},e),{},{logoutCompanyStatus:{loading:!0,success:!1,error:!1}})},successLogoutCompany:function(e){return Object(p.a)(Object(p.a)(Object(p.a)({},e),Ve),{},{logoutCompanyStatus:{loading:!1,success:!0,error:!1}})},errorLogoutCompany:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{logoutCompanyStatus:{loading:!1,success:!1,error:t.payload||!0}})},resetCompanyStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{loginCompanyStatus:Ve.loginCompanyStatus,logoutCompanyStatus:Ve.logoutCompanyStatus})},resetCompany:function(e){return Object(p.a)(Object(p.a)({},e),Ve)}}}),Je=Ye.reducer,$e=Ye.actions,Ze={postCompanyLogin:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"post",url:"/company/login",data:{name:t.name,password:t.password}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw console.log(e),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postCompanyRegister:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"post",url:"/company/create",data:{name:t.name,email:t.email,password:t.password}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw console.log(e),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Qe=F($e.loadingRegisterCompany,$e.successRegisterCompany,$e.errorRegisterCompany,Ze.postCompanyRegister),Xe=F($e.loadingLoginCompany,$e.successLoginCompany,$e.errorLoginCompany,Ze.postCompanyLogin),et=W($e.loadingLogoutCompany,$e.successLogoutCompany,$e.errorLogoutCompany,null),tt=function(){return function(e){e($e.resetCompanyStatus())}},nt=function(){return function(e){e($e.resetCompany())}},at=Object(Y.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))((function(e){var t=de(),n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],o=a[1],c=Object(u.useState)(""),s=Object(b.a)(c,2),i=s[0],l=s[1],d=e.company;return Object(re.jsxs)(Z.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(re.jsx)(Ce.a,{}),Object(re.jsxs)("div",{className:t.paper,children:[d.loginCompanyStatus.loading&&Object(re.jsx)(ye.a,{}),Object(re.jsx)(te.a,{component:"h1",variant:"h5",children:"Company Sign in"}),Object(re.jsxs)("div",{className:t.form,children:[Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Company name",name:"name",autoFocus:!0,onChange:function(e){o(e.target.value)}}),Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){l(e.target.value)}}),Object(re.jsx)(Pe.a,{control:Object(re.jsx)(Ie.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(re.jsx)(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!(r&&i),onClick:function(){var t={name:r,password:i};e.loginCompanyInteractor(t)},children:"Company Sign In"})]})]}),Object(re.jsx)(ae.a,{color:"default",size:"small",onClick:e.toggleForm,children:"Don't have a company, create one"})]})})),rt=Object(J.a)({page:{display:"flex",flexDirection:"column",alignItems:"center"},container:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",padding:"20px",width:"50%",height:"60vh",borderRadius:"8px",overflowY:"scroll"},containerList:{position:"relative",display:"flex",flexDirection:"column",padding:"20px",width:"50%",height:"60vh",borderRadius:"8px",overflowY:"scroll"},shopContainer:{position:"relative",padding:"10px",margin:"15px 0",borderRadius:"8px","box-shadow":"5px 6px 12px -4px rgba(0,0,0,0.75)"},name:{fontSize:"20px",textAlign:"left",padding:0,margin:"0 5px"},location:{fontSize:"15px",textAlign:"left",padding:0,margin:"0 5px"},buttonContainer:{position:"absolute",bottom:"12px",right:"15px"},switchFormTypeContainer:{position:"absolute",left:"50%",top:"20%",transform:"translate(-50%,-50%)"}}),ot={id:"",companyId:"",name:"",location:"",addShopStatus:{loading:!1,success:!1,error:!1},removeShopStatus:{loading:!1,success:!1,error:!1},updateShopStatus:{loading:!1,success:!1,error:!1}},ct=Object(g.a)({name:"shop",initialState:ot,reducers:{setShop:function(e,t){return Object(p.a)(Object(p.a)({},e),t.payload)},loadingAddShop:function(e){return Object(p.a)(Object(p.a)({},e),{},{addShopStatus:{loading:!0,success:!1,error:!1}})},successAddShop:function(e){return Object(p.a)(Object(p.a)({},e),{},{addShopStatus:{loading:!1,success:!0,error:!1}})},errorAddShop:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{addShopStatus:{loading:!1,success:!1,error:t.payload||!0}})},loadingRemoveShop:function(e){return Object(p.a)(Object(p.a)({},e),{},{removeShopStatus:{loading:!0,success:!1,error:!1}})},successRemoveShop:function(e){return Object(p.a)(Object(p.a)({},e),{},{removeShopStatus:{loading:!1,success:!0,error:!1}})},errorRemoveShop:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{removeShopStatus:{loading:!1,success:!1,error:t.payload||!0}})},loadingUpdateShop:function(e){return Object(p.a)(Object(p.a)({},e),{},{updateShopStatus:{loading:!0,success:!1,error:!1}})},successUpdateShop:function(e,t){return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.payload),{},{updateShopStatus:{loading:!1,success:!0,error:!1}})},errorUpdateShop:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{updateShopStatus:{loading:!1,success:!1,error:t.payload||!0}})},resetShopStatus:function(e){return Object(p.a)(Object(p.a)({},e),{},{addShopStatus:ot.addShopStatus,removeShopStatus:ot.removeShopStatus,updateShopStatus:ot.updateShopStatus})},resetShop:function(e){return Object(p.a)(Object(p.a)({},e),ot)}}}),st=ct.reducer,it=ct.actions,ut={postShopRegister:function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({headers:{"Content-Type":"application/json"},method:"post",url:"/shop/create",data:{companyId:t.companyId,name:t.name,location:t.location}}).then((function(e){return null===e||void 0===e?void 0:e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},lt=function(e){return function(t){t(it.setShop(e))}},dt=F(it.loadingAddShop,it.successAddShop,it.errorAddShop,ut.postShopRegister),jt=F(it.loadingRemoveShop,it.successRemoveShop,it.errorRemoveShop,null),bt=F(it.loadingUpdateShop,it.successUpdateShop,it.errorUpdateShop,null),pt=function(){return function(e){e(it.resetShopStatus())}},mt=function(){return function(e){e(it.resetShop())}},Ot=Object(Y.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))((function(e){var t=rt(),n=Object(O.g)(),a=e.shops;Object(u.useEffect)((function(){0===(null===a||void 0===a?void 0:a.length)&&n.replace("/home")}),[]);return Object(re.jsxs)("div",{className:t.page,children:[Object(re.jsx)(te.a,{variant:"h2",color:"textSecondary",children:"Choose Shop"}),Object(re.jsx)("div",{className:t.containerList,children:null===a||void 0===a?void 0:a.map((function(a){return Object(re.jsxs)("div",{className:t.shopContainer,children:[Object(re.jsxs)("div",{children:[Object(re.jsx)("p",{className:t.name,children:a.name}),Object(re.jsx)("p",{className:t.location,children:a.location})]}),Object(re.jsx)("div",{className:t.buttonContainer,children:Object(re.jsx)(ae.a,{variant:"contained",color:"primary",onClick:function(){return function(t){e.setShopInteractor(t),n.replace("/home")}(a)},children:"Login as this Shop"})})]},a.id)}))})]})})),ht=Object(Y.b)((function(e){return{company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},c),e))}))((function(e){var t=de(),n=Object(u.useState)(""),a=Object(b.a)(n,2),r=a[0],o=a[1],c=Object(u.useState)(""),s=Object(b.a)(c,2),i=s[0],l=s[1],d=Object(u.useState)(""),j=Object(b.a)(d,2),p=j[0],m=j[1],O=Object(u.useState)(""),h=Object(b.a)(O,2),f=h[0],g=h[1],v=Object(u.useState)(""),x=Object(b.a)(v,2),S=x[0],C=x[1],y=Object(u.useState)(""),w=Object(b.a)(y,2),P=w[0],I=w[1],N=Object(u.useState)(""),T=Object(b.a)(N,2),A=T[0],R=T[1],E=e.company,k=r&&i&&!S&&p&&!P&&f&&!A;return Object(re.jsxs)(Z.a,{className:t.popUp,component:"main",variant:"outlined",children:[Object(re.jsx)(Ce.a,{}),Object(re.jsxs)("div",{className:t.paper,children:[E.registerCompanyStatus.loading&&Object(re.jsx)(ye.a,{}),Object(re.jsx)(te.a,{component:"h1",variant:"h5",children:"Company Sign Up"}),Object(re.jsxs)("div",{className:t.form,children:[Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Company name",name:"name",autoFocus:!0,onChange:function(e){o(e.target.value)}}),Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Company email",name:"email",onChange:function(e){var t=e.target.value;t&&!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(t)?C("This must be an email"):C(""),l(t)}}),Object(re.jsx)(te.a,{variant:"body2",className:t.alertMessage,children:S}),Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){var t=e.target.value;t&&t.length<=7?I("Password must be longer than 7 characters"):I(""),m(t)}}),Object(re.jsx)(te.a,{variant:"body2",className:t.alertMessage,children:P}),Object(re.jsx)(we.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm password",type:"password",id:"confirmPassword",onChange:function(e){var t=e.target.value;R(p!==t?"Passwords don't match":""),g(t)}}),Object(re.jsx)(te.a,{variant:"body2",className:t.alertMessage,children:A}),Object(re.jsx)(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!k,onClick:function(){var t={name:r,email:i,password:p};e.registerCompanyInteractor(t),o(""),l(""),m(""),g("")},children:"Company Sign Up"}),E.registerCompanyStatus.error&&Object(re.jsx)(te.a,{children:"An error ocurred, probably the company already exists."})]})]}),Object(re.jsx)(ae.a,{color:"default",size:"small",onClick:e.toggleForm,children:"Already have a company, sign in instead"})]})})),ft=n(317),gt=n(334),vt=(n(151),Object(Y.b)((function(e){return{company:e.company}}))((function(e){var t=e.company,n=Object(O.g)(),a=l.a.useRef(null),r=Object(u.useState)(!1),o=Object(b.a)(r,2),c=o[0],s=o[1],i=Object(u.useState)(!0),d=Object(b.a)(i,2),j=d[0],p=d[1];Object(u.useEffect)((function(){t.loginCompanyStatus.success&&s(!0),t.registerCompanyStatus.success&&n.replace("/home")}),[t.loginCompanyStatus,t.registerCompanyStatus]);var m=function(){p(!j)};return Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(ft.a,{mode:"out-in",children:Object(re.jsx)(gt.a,{nodeRef:a,timeout:{enter:200,exit:200},classNames:"fade",children:j?Object(re.jsx)("div",{ref:a,children:c?Object(re.jsx)(Ot,{shops:t.shops}):Object(re.jsx)(at,{toggleForm:m})}):Object(re.jsx)("div",{ref:a,children:Object(re.jsx)(ht,{toggleForm:m})})},j?"signinIn":"signinUp")})})}))),xt=Object(J.a)({mainContainer:{margin:"30px auto",height:"70vh",width:"70vw"},section:{position:"relative",textAlign:"left",margin:"15px 5px",padding:5},buttonContainer:{position:"absolute",right:5,bottom:5}}),St=function(e){var t=xt(),n=e.title,a=e.body,r=e.callback;return Object(re.jsxs)("div",{className:t.section,children:[Object(re.jsxs)(te.a,{variant:"h5",color:"textPrimary",children:[n," Menu"]}),Object(re.jsx)(te.a,{variant:"body1",color:"textPrimary",component:"p",children:a}),Object(re.jsx)("div",{className:t.buttonContainer,children:Object(re.jsxs)(ae.a,{variant:"contained",onClick:r,children:["Go to ",n," Menu"]})})]})},Ct=Object(Y.b)(null,(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},c),s),o),r),e))}))((function(e){var t=Object(O.g)();return Object(re.jsx)(ae.a,{variant:"outlined",color:"secondary",onClick:function(){e.resetShopInteractor(),e.logoutUserInteractor(),e.resetCatalogueInteractor(),e.logoutCompanyInteractor(),t.replace("/")},children:"Company Logout"})})),yt=Object(Y.b)((function(e){return{user:e.user}}))((function(e){var t=Object(O.g)(),n=xt(),a=e.user;return Object(re.jsxs)("div",{children:[Object(re.jsx)(te.a,{variant:"h2",color:"textSecondary",children:"Administration Portal"}),Object(re.jsxs)("div",{className:n.mainContainer,children:[Object(re.jsx)(St,{title:"Video Calls",body:"Menu for managing video calls from current store.",callback:function(){t.push("/administration/calls")}}),Object(re.jsx)(St,{title:"Catalogue",body:"Menu for adding, removing or updating products from the main catalogue.",callback:function(){t.push("/administration/catalogue")}}),Object(re.jsx)(St,{title:"Shop",body:"Menu for updating shops, their location, policies and other specifications.",callback:function(){t.push("/administration/shop")}}),"ADMINISTRATOR"===a.sessionType&&Object(re.jsx)(St,{title:"Employee's",body:"Menu for updating employee's status and for managing store employees.",callback:function(){t.push("/administration/employees")}}),Object(re.jsx)(Ct,{})]})]})})),wt=function(){var e=Object(E.a)(R.a.mark((function e(t){var n,a,r,o,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.peerConnection,a=t.webcamVideo,r=t.remoteVideo,e.next=3,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 3:return o=e.sent,c=new MediaStream,o.getTracks().forEach((function(e){n.addTrack(e,o)})),n.ontrack=function(e){e.streams[0].getTracks().forEach((function(e){c.addTrack(e)}))},a.srcObject=o,r.srcObject=c,e.abrupt("return",{localStream:o,remoteStream:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=n(111),It=(n(250),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ID});Pt.a.apps.length||Pt.a.initializeApp(It);var Nt={firestore:Pt.a.firestore(),peerConnection:new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10}),localStream:null,remoteStream:null},Tt=Object(g.a)({name:"connection",initialState:Nt,reducers:{addLocalStream:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{localStream:t.payload})},removeLocalStream:function(e){return Object(p.a)(Object(p.a)({},e),{},{localStream:Nt.localStream})},addRemoteStream:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{remoteStream:t.payload})},removeRemoteStream:function(e){return Object(p.a)(Object(p.a)({},e),{},{remoteStream:Nt.remoteStream})},resetStreamConnection:function(e){return Object(p.a)(Object(p.a)({},e),{},{peerConnection:Nt.peerConnection,localStream:Nt.localStream,remoteStream:Nt.remoteStream})}}}),At=Tt.reducer,Rt=Tt.actions,Et=B(Rt.addLocalStream),kt=H(Rt.removeLocalStream),Ut=B(Rt.addRemoteStream),Dt=H(Rt.removeRemoteStream),Lt=H(Rt.resetStreamConnection),_t=Object(Y.b)((function(e){return{connection:e.connection}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.callId,n=e.shopId,a=e.connection,r=a.firestore,o=a.peerConnection,c=Object(u.useRef)(),s=Object(u.useRef)();Object(u.useEffect)((function(){var t={peerConnection:o,webcamVideo:c.current,remoteVideo:s.current};return e.connection.localStream&&e.connection.remoteStream||wt(t).then((function(t){var n=t.localStream,a=t.remoteStream;e.setLocalStreamInteractor(n),e.setRemoteStreamInteractor(a)})),i(),function(){l(),c.current&&s.current&&(c.current.srcObject=null,s.current.srcObject=null),e.resetStreamConnectionInteractor()}}),[]);var i=Object(u.useCallback)(Object(E.a)(R.a.mark((function e(){var a,c,s,i,u,l,d;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.collection("shopCalls").doc(n).collection("calls").doc(t),c=a.collection("answerCandidates"),s=a.collection("offerCandidates"),o.onicecandidate=function(e){e.candidate&&c.add(e.candidate.toJSON())},e.next=6,a.get();case 6:return i=e.sent.data(),u=null===i||void 0===i?void 0:i.offer,e.next=10,o.setRemoteDescription(new RTCSessionDescription(u));case 10:return e.next=12,o.createAnswer();case 12:return l=e.sent,e.next=15,o.setLocalDescription(l);case 15:return d={type:l.type,sdp:l.sdp},e.next=18,a.update({answer:d,"status.answered":!0});case 18:s.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();o.addIceCandidate(new RTCIceCandidate(t))}}))}));case 19:case"end":return e.stop()}}),e)}))),[]),l=Object(u.useCallback)(Object(E.a)(R.a.mark((function n(){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("This it a test console log to prevent firestore excessive requests..."),n.next=4,r.collection("shopCalls").doc(e.shopId).collection("calls").doc(t).delete();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:return n.prev=9,e.setOnCall(null),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])}))),[]);return Object(re.jsxs)("div",{className:"employee-main-container",children:[Object(re.jsx)("video",{className:"employee-local-video-container",ref:c,autoPlay:!0,playsInline:!0}),Object(re.jsx)("video",{className:"employee-remote-video-container",ref:s,autoPlay:!0,playsInline:!0}),Object(re.jsx)("div",{className:"employee-button-container",children:Object(re.jsx)(ae.a,{variant:"contained",color:"secondary",onClick:l,children:"Hangup"})})]})})),Ft=n(310),Wt=n(254),Bt=n(318),Ht=n(320),Mt=n(319),zt=(n(152),Object(Y.b)((function(e){return{connection:e.connection,shopId:e.shop.id}}))((function(e){var t=e.connection.firestore,n=Object(u.useState)([]),a=Object(b.a)(n,2),r=a[0],o=a[1],c=Object(u.useState)(null),s=Object(b.a)(c,2),i=s[0],l=s[1],d=Object(u.useState)(!0),j=Object(b.a)(d,2),p=j[0],m=j[1],O=Object(u.useRef)([]);Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests...");var n=t.collection("shopCalls").doc(e.shopId).collection("calls").onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&(O.current.push(e.doc.id),o((function(t){return[].concat(Object(w.a)(t),[e.doc.id])}))),"modified"!==e.type&&"removed"!==e.type||(O.current=O.current.filter((function(t){return t!==e.doc.id})),o(O.current.filter((function(t){return t!==e.doc.id}))))})),m(!1)}));return function(){n()}}),[t]);var h=function(){var e=Object(E.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.current=r,!i&&l(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(re.jsxs)("div",{children:[Object(re.jsx)(te.a,{variant:"h2",gutterBottom:!0,children:"Call Requests"}),Object(re.jsxs)("div",{className:"requests-container",children:[Object(re.jsx)(Ft.a,{className:"list",children:r.map((function(e,t){return Object(re.jsxs)(Wt.a,{className:"item",button:!0,disabled:!!i,onClick:function(){return h(e)},children:[Object(re.jsx)(Bt.a,{children:Object(re.jsx)(Mt.a,{})}),Object(re.jsx)(Ht.a,{primary:"Answer client ".concat(t+1," call")})]},e)}))}),p&&Object(re.jsx)(De.a,{})]}),i&&Object(re.jsx)(_t,{callId:i,setOnCall:l,shopId:e.shopId})]})}))),Kt=Object(J.a)((function(e){return Object(se.a)({mainContainer:{width:"80%",margin:"8vh auto auto"},heading:{fontSize:"1.1rem",flexBasis:"33.33%",flexShrink:0,textAlign:"left"},secondaryHeading:{fontSize:"0.95rem",color:e.palette.text.secondary},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},fab:{margin:e.spacing(2)}})})),qt=n(82),Gt=n.n(qt),Vt=n(167),Yt=n.n(Vt),Jt=n(321),$t=n(253),Zt=function(e){var t=e.message,n=e.openedStateInParent,a=Object(u.useState)(!0),r=Object(b.a)(a,2),o=r[0],c=r[1];return Object(re.jsx)("div",{children:Object(re.jsx)(Jt.a,{in:o,children:Object(re.jsx)(Ee.a,{action:Object(re.jsx)($t.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(!1),setTimeout((function(){n(!1)}),2e3)},children:Object(re.jsx)(Yt.a,{fontSize:"inherit"})}),children:t})})})},Qt=function(e){var t=!0;return e.replace(/\s/g,"").length||(t=!1),e||(t=!1),t},Xt=n(336),en=n(322),tn=n(323),nn=n(309),an=n(339),rn=n(330),on=n(324),cn=n(325),sn=n(326),un=Object(Y.b)((function(e){return{shop:e.shop,catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,o=e.summary,c=e.shop,s=e.catalogue,i=Object(u.useState)(""),l=Object(b.a)(i,2),d=l[0],j=l[1],p=Object(u.useState)(""),m=Object(b.a)(p,2),O=m[0],h=m[1],f=Object(u.useState)(""),g=Object(b.a)(f,2),v=g[0],x=g[1],S=Object(u.useState)(""),C=Object(b.a)(S,2),y=C[0],w=C[1],P=Object(u.useState)(""),I=Object(b.a)(P,2),N=I[0],T=I[1],A=Object(u.useState)(""),R=Object(b.a)(A,2),E=R[0],k=R[1],U=Object(u.useState)(!1),D=Object(b.a)(U,2),L=D[0],_=D[1],F=Kt();Object(u.useEffect)((function(){s.addProductToCatalogue.success&&(_(!0),e.resetCatalogueInteractor())}),[s.addProductToCatalogue,_,e.resetCatalogueInteractor]);var W=function(){j(""),h(""),x(""),w(""),T(""),k("")},B=Qt(d)&&Qt(O)&&Qt(v)&&Qt(y)&&Qt(N)&&Qt(E);return Object(re.jsxs)(Xt.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(re.jsxs)(en.a,{expandIcon:Object(re.jsx)(Gt.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(re.jsx)(te.a,{className:F.heading,children:r}),Object(re.jsx)(te.a,{className:F.secondaryHeading,children:o})]}),Object(re.jsx)(tn.a,{children:Object(re.jsx)(we.a,{value:d,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",onChange:function(e){return j(e.target.value)}})}),Object(re.jsx)(tn.a,{children:Object(re.jsx)(we.a,{value:O,variant:"standard",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",onChange:function(e){return h(e.target.value)}})}),Object(re.jsx)(tn.a,{children:Object(re.jsxs)(nn.a,{variant:"outlined",className:F.formControl,fullWidth:!0,children:[Object(re.jsx)(an.a,{id:"demo-simple-select-outlined-label",children:"OS"}),Object(re.jsxs)(rn.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:v,onChange:function(e){return function(e){x(e.target.value)}(e)},label:"Age",children:[Object(re.jsx)(on.a,{value:"Android",children:"Android"}),Object(re.jsx)(on.a,{value:"IOS",children:"IOS"}),Object(re.jsx)(on.a,{value:"Windows",children:"Windows"})]})]})}),Object(re.jsx)(tn.a,{children:Object(re.jsx)(we.a,{value:y,variant:"standard",required:!0,fullWidth:!0,id:"color",label:"Device Color",name:"color",onChange:function(e){return w(e.target.value)}})}),Object(re.jsx)(tn.a,{children:Object(re.jsx)(we.a,{value:N,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"inches",label:"Inches",name:"inches",onChange:function(e){return T(e.target.value)}})}),Object(re.jsx)(tn.a,{children:Object(re.jsx)(we.a,{value:E,variant:"standard",type:"number",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",onChange:function(e){return k(e.target.value)}})}),Object(re.jsx)(cn.a,{}),Object(re.jsxs)(sn.a,{children:[Object(re.jsx)(ae.a,{size:"small",onClick:function(){return W()},children:"Cancel"}),Object(re.jsx)(ae.a,{size:"small",color:"primary",disabled:!B,onClick:function(){var t={shopId:c.id,name:d,brand:O,os:v,color:y,inches:N,price:E};e.addProductToCatalogueInteractor(t),W()},children:"Create Product"})]}),s.addProductToCatalogue.loading&&Object(re.jsx)(De.a,{}),L&&Object(re.jsx)(Zt,{message:"Product successfully created, you can close this menu now.",openedStateInParent:_})]})})),ln=n(177),dn=n(327),jn=n(168),bn=n(175),pn=Object(Y.b)((function(e){return{shop:e.shop,catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=Kt(),n=Object(u.useState)(null),a=Object(b.a)(n,2),r=a[0],o=a[1],c=e.shop,s=e.catalogue,i=Object(u.useState)(!1),l=Object(b.a)(i,2),d=l[0],j=l[1],p=Object(u.useState)(""),m=Object(b.a)(p,2),O=m[0],h=m[1];Object(u.useEffect)((function(){s.addProductsToCatalogue.success&&(j(!0),e.resetCatalogueInteractor())}),[s.addProductsToCatalogue,e.resetCatalogueInteractor]);return Object(re.jsxs)(ln.a,{elevation:1,children:[Object(re.jsxs)("div",{className:"flex-container-between",children:[Object(re.jsx)(te.a,{className:t.heading,children:"Import Products from CSV"}),Object(re.jsxs)("div",{className:"flex-container-evenly",children:[Object(re.jsx)(jn.a,{onDrop:function(e){o(e)},onError:function(e){h("An unexpected error ocurred: ".concat(e))},addRemoveButton:!0,children:Object(re.jsx)("span",{children:"Drop CSV file here or click to upload."})}),Object(re.jsx)(dn.a,{color:"primary",className:t.fab,onClick:function(){var t=[];null===r||void 0===r||r.slice(1).forEach((function(e){var n={shopId:c.id,name:e.data[0],brand:e.data[1],os:e.data[2],color:e.data[3],inches:e.data[4],price:e.data[5]};(function(e){var t=!0;return Object.values(e).forEach((function(e){void 0!=e&&""!=e||(t=!1)})),t})(n)&&t.push(n)})),e.addProductsToCatalogueInteractor(t)},children:Object(re.jsx)(bn.a,{style:{fontSize:30}})})]})]}),s.addProductsToCatalogue.loading&&Object(re.jsx)(De.a,{}),d&&Object(re.jsx)(Zt,{message:"Products successfully created, you can close this menu now.",openedStateInParent:j}),O]})})),mn=n(328),On=Object(Y.b)((function(e){return{catalogue:e.catalogue}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},r),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,o=e.summary,c=e.catalogue,s=Object(u.useState)(!1),i=Object(b.a)(s,2),l=i[0],d=i[1],j=Kt();Object(u.useEffect)((function(){c.deleteProductFromCatalogue.success&&d(!0)}),[c.deleteProductFromCatalogue,d]);return Object(re.jsxs)(Xt.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(re.jsxs)(en.a,{expandIcon:Object(re.jsx)(Gt.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(re.jsx)(te.a,{className:j.heading,children:r}),Object(re.jsx)(te.a,{className:j.secondaryHeading,children:o})]}),Object(re.jsx)(Ft.a,{dense:!0,children:c.products.map((function(t){return Object(re.jsxs)(Wt.a,{button:!0,children:[Object(re.jsx)(Ht.a,{id:t.id,primary:"".concat(t.name),secondary:"Brand: ".concat(t.brand," ").concat(t.os," Color: ").concat(t.color)}),Object(re.jsx)(mn.a,{children:Object(re.jsx)(ae.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return n=t.id,void e.deleteProductFromCatalogueInteractor(n);var n},children:"Delete"})})]},t.id)}))}),Object(re.jsx)(cn.a,{}),c.deleteProductFromCatalogue.loading&&Object(re.jsx)(De.a,{}),l&&Object(re.jsx)(Zt,{message:"Product successfully deleted, you can close this menu now.",openedStateInParent:d})]})})),hn=(n(245),function(){var e=Object(O.g)(),t=Kt(),n=Object(u.useState)(!1),a=Object(b.a)(n,2),r=a[0],o=a[1],c=function(e){return function(t,n){o(!!n&&e)}};return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{className:t.mainContainer,children:[Object(re.jsx)(un,{expanded:r,handleChange:c,panel:"panel1",heading:"Create Single Product",summary:"Here you can create a product for this shop, giving all its necesary attributes."}),Object(re.jsx)(pn,{}),Object(re.jsx)(On,{expanded:r,handleChange:c,panel:"panel2",heading:"Delete Product",summary:"Here you can delete a product from this shop."})]}),Object(re.jsx)("div",{className:"btn-bottom-left",children:Object(re.jsx)(ae.a,{variant:"contained",color:"primary",onClick:function(){e.go(-1)},children:"Back"})})]})}),fn=function(){return Object(re.jsx)("div",{children:Object(re.jsx)("p",{children:"Employees Menu"})})},gn=Object(Y.b)((function(e){return{company:e.company,shop:e.shop}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},s),e))}))((function(e){var t=e.expanded,n=e.handleChange,a=e.panel,r=e.heading,o=e.summary,c=e.company,s=e.shop,i=e.addShopInteractor,l=e.resetShopStatusInteractor,d=Object(u.useState)(""),j=Object(b.a)(d,2),p=j[0],m=j[1],O=Object(u.useState)(""),h=Object(b.a)(O,2),f=h[0],g=h[1],v=Object(u.useState)(!1),x=Object(b.a)(v,2),S=x[0],C=x[1],y=Kt();Object(u.useEffect)((function(){s.addShopStatus.success&&(C(!0),l())}),[s.addShopStatus,C,l]);var w=function(){m(""),g("")};return Object(re.jsxs)(Xt.a,{TransitionProps:{unmountOnExit:!0},expanded:t===a,onChange:n(a),children:[Object(re.jsxs)(en.a,{expandIcon:Object(re.jsx)(Gt.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(re.jsx)(te.a,{className:y.heading,children:r}),Object(re.jsx)(te.a,{className:y.secondaryHeading,children:o})]}),Object(re.jsx)(tn.a,{children:Object(re.jsx)(we.a,{value:p,variant:"standard",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",onChange:function(e){return m(e.target.value)}})}),Object(re.jsx)(tn.a,{children:Object(re.jsx)(we.a,{value:f,variant:"standard",required:!0,fullWidth:!0,id:"location",label:"Location",name:"location",onChange:function(e){return g(e.target.value)}})}),Object(re.jsx)(cn.a,{}),Object(re.jsxs)(sn.a,{children:[Object(re.jsx)(ae.a,{size:"small",onClick:function(){return w()},children:"Cancel"}),Object(re.jsx)(ae.a,{size:"small",color:"primary",disabled:!(Qt(p)&&Qt(f)),onClick:function(){var e={companyId:c.id,name:p,location:f};i(e),w()},children:"Create Shop"})]}),s.addShopStatus.loading&&Object(re.jsx)(De.a,{}),S&&Object(re.jsx)(Zt,{message:"Shop successfully created, you can close this menu now.",openedStateInParent:C})]})})),vn=function(){var e=Kt(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1];return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:e.mainContainer,children:Object(re.jsx)(gn,{expanded:a,handleChange:function(e){return function(t,n){r(!!n&&e)}},panel:"panel1",heading:"Create Shop",summary:"Here you can create a shop, giving all its necesary attributes."})}),Object(re.jsx)("div",{className:"btn-bottom-left",children:Object(re.jsx)(ae.a,{variant:"contained",color:"primary",onClick:function(){history.go(-1)},children:"Back"})})]})},xn=(n(246),Object(Y.b)((function(e){return{products:e.catalogue.products}}))((function(e){var t=e.products,n=Object(O.g)(),a=Object(u.useState)(),r=Object(b.a)(a,2),o=r[0],c=r[1],s=window.location.pathname.split("/")[3];Object(u.useEffect)((function(){if((null===o||void 0===o?void 0:o.id)!==s){var e=t.find((function(e){return e.id===s}));c(e)}}),[o]);var i=Object(u.useCallback)((function(){n.push("/home/call")}),[]);return Object(re.jsxs)("div",{className:"main-container",children:[Object(re.jsxs)("div",{className:"details-container",children:[Object(re.jsx)(te.a,{className:"title",variant:"h3",children:"Device Details"}),Object(re.jsxs)("div",{className:"detail",children:[Object(re.jsx)(te.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Name:"}),Object(re.jsx)(te.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===o||void 0===o?void 0:o.name})]}),Object(re.jsxs)("div",{className:"detail",children:[Object(re.jsx)(te.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Brand:"}),Object(re.jsx)(te.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===o||void 0===o?void 0:o.brand})]}),Object(re.jsxs)("div",{className:"detail",children:[Object(re.jsx)(te.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Color:"}),Object(re.jsx)(te.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===o||void 0===o?void 0:o.color})]}),Object(re.jsxs)("div",{className:"detail",children:[Object(re.jsx)(te.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Screen Inches:"}),Object(re.jsx)(te.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===o||void 0===o?void 0:o.inches})]}),Object(re.jsxs)("div",{className:"detail",children:[Object(re.jsx)(te.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Operative System:"}),Object(re.jsx)(te.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:null===o||void 0===o?void 0:o.os})]}),Object(re.jsxs)("div",{className:"detail",children:[Object(re.jsx)(te.a,{className:"detail-label",variant:"h5",gutterBottom:!0,children:"Price:"}),Object(re.jsxs)(te.a,{className:"detail-body",variant:"h6",gutterBottom:!0,children:[null===o||void 0===o?void 0:o.price," CLP"]})]}),Object(re.jsx)(ae.a,{size:"small",onClick:function(){return i()},children:"Get Assistance"})]}),Object(re.jsx)("div",{className:"photo-container"})]})}))),Sn=n(329),Cn=Object(Y.b)((function(e){return{connection:e.connection,shopId:e.shop.id}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)({},i),e))}))((function(e){var t=e.connection,n=t.firestore,a=t.peerConnection,r=Object(O.g)(),o=Object(u.useRef)(),c=Object(u.useRef)(),s=Object(u.useRef)(),i=Object(u.useState)(!1),l=Object(b.a)(i,2),d=l[0],j=l[1],p=Object(u.useState)(!1),m=Object(b.a)(p,2),h=m[0],f=m[1];Object(u.useEffect)((function(){console.log("This it a test console log to prevent firestore excessive requests..."),n.collection("shopCalls").doc(e.shopId).set({updatedAt:new Date});var t={peerConnection:a,webcamVideo:o.current,remoteVideo:c.current};return wt(t).then((function(t){var n=t.localStream,a=t.remoteStream;e.setLocalStreamInteractor(n),e.setRemoteStreamInteractor(a)})),function(){o.current&&c.current&&(o.current.srcObject=null,c.current.srcObject=null),e.resetStreamConnectionInteractor()}}),[]);var g=function(){var t=Object(E.a)(R.a.mark((function t(){var r,o,c,i,u,l;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.collection("shopCalls").doc(e.shopId).collection("calls").doc(),o=null===r||void 0===r?void 0:r.collection("offerCandidates"),c=null===r||void 0===r?void 0:r.collection("answerCandidates"),s.current=r.id,f(!0),j(!0),a.onicecandidate=function(e){e.candidate&&o.add(e.candidate.toJSON())},t.next=9,a.createOffer();case 9:return i=t.sent,t.next=12,a.setLocalDescription(i);case 12:return u={sdp:i.sdp,type:i.type},l={answered:!1,date:new Date},t.next=16,r.set({offer:u,status:l});case 16:r.onSnapshot((function(e){var t=e.data();if(!a.currentRemoteDescription&&(null===t||void 0===t?void 0:t.answer)){var n=new RTCSessionDescription(t.answer);a.setRemoteDescription(n)}})),c.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=new RTCIceCandidate(e.doc.data());a.addIceCandidate(t),f(!1)}}))}));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=Object(u.useCallback)(Object(E.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!1),t.prev=1,t.next=4,n.collection("shopCalls").doc(e.shopId).collection("calls").doc(s.current).delete();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:return t.prev=9,r.go(-1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])}))),[]);return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{className:"customer-main-container",children:[Object(re.jsx)("video",{className:"local-video-container",ref:o,autoPlay:!0,playsInline:!0}),Object(re.jsx)("video",{className:"remote-video-container",ref:c,autoPlay:!0,playsInline:!0}),Object(re.jsx)("div",{className:"customer-button-container",children:Object(re.jsxs)(Sn.a,{orientation:"vertical",color:"primary","aria-label":"vertical contained primary button group",variant:"contained",children:[Object(re.jsx)(ae.a,{size:"small",variant:"contained",color:"primary",disabled:d,onClick:g,children:"Call Assistant"}),Object(re.jsx)(ae.a,{size:"small",variant:"contained",color:"secondary",disabled:!d,onClick:v,children:"Hangup"})]})})]}),h&&Object(re.jsx)(De.a,{})]})})),yn=function(){return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("h1",{children:"Getting Assistance"}),Object(re.jsx)("div",{className:"customer-call-container",children:Object(re.jsx)(Cn,{})})]})},wn=n(170),Pn=n.n(wn),In=(n(159),Object(Y.b)((function(e){return{user:e.user,company:e.company}}),(function(e){return Object(p.a)({},Object(f.bindActionCreators)(Object(p.a)(Object(p.a)({},o),a),e))}))((function(e){var t=e.user,n=e.company,a=Object(O.g)();return Object(re.jsxs)("div",{className:"options",children:[n.id&&Object(re.jsx)(ae.a,{color:"inherit",onClick:function(){a.replace("/home")},children:"Home"}),"ANONYMOUS"!==t.sessionType&&Object(re.jsx)(ae.a,{color:"inherit",onClick:function(){a.replace("/administration")},children:"Administration"})]})}))),Nn=Object(J.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"left"}}})),Tn=function(e){var t=e.component,n=Object(m.a)(e,["component"]),a=Object(Y.c)((function(e){return e.user}));return Object(re.jsx)(O.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return"ANONYMOUS"!==a.sessionType?Object(re.jsx)(t,Object(p.a)({},e)):Object(re.jsx)(O.a,{to:"/home"})}}))},An=function(e){var t=e.component,n=Object(m.a)(e,["component"]),a=Object(Y.c)((function(e){return e.user}));return Object(re.jsx)(O.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){return"ADMINISTRATOR"===a.sessionType?Object(re.jsx)(t,Object(p.a)({},e)):Object(re.jsx)(O.a,{to:"/administration"})}}))},Rn=function(){var e=Nn(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],o=Object(u.useState)(a?"open":"closed"),c=Object(b.a)(o,2),s=c[0],i=c[1];return Object(re.jsx)(h.a,{basename:"/frontend",children:Object(re.jsxs)("div",{id:"layout",children:[Object(re.jsxs)("div",{id:"left",className:s,children:[Object(re.jsx)($t.a,{edge:"start",className:"icon ".concat(e.menuButton),color:"inherit","aria-label":"menu",onClick:function(){r(!a),i(a?"open":"closed")},children:Object(re.jsx)(Pn.a,{})}),Object(re.jsx)("div",{className:"sidebar ".concat(s),children:Object(re.jsx)("div",{className:"content",children:Object(re.jsx)(In,{})})})]}),Object(re.jsxs)("div",{id:"main",children:[Object(re.jsx)("div",{className:"header",children:Object(re.jsx)("div",{className:"\n                          title\n                          ".concat("left-"+s,"\n                      "),children:Object(re.jsx)(Ge,{})})}),Object(re.jsx)("div",{className:"content",id:"page",children:Object(re.jsxs)(O.d,{children:[Object(re.jsx)(O.b,{path:"/",exact:!0,component:vt}),Object(re.jsx)(O.b,{path:"/home",exact:!0,component:Me}),Object(re.jsx)(O.b,{path:"/home/call",exact:!0,component:yn}),Object(re.jsx)(O.b,{path:"/product/:id/details",exact:!0,component:xn}),Object(re.jsx)(Tn,{path:"/administration",exact:!0,component:yt}),Object(re.jsx)(Tn,{path:"/administration/calls",exact:!0,component:zt}),Object(re.jsx)(Tn,{path:"/administration/catalogue",exact:!0,component:hn}),Object(re.jsx)(Tn,{path:"/administration/shop",exact:!0,component:vn}),Object(re.jsx)(An,{path:"/administration/employees",exact:!0,component:fn})]})})]})]})})},En=function(){return Object(re.jsx)("div",{className:"container",children:Object(re.jsx)("div",{className:"App",children:Object(re.jsx)(Rn,{})})})},kn=n(129),Un=n(90),Dn=n(171),Ln=n(172),_n={key:"root",storage:n.n(Ln).a,whitelist:["company","user","shop","catalogue"]},Fn=Object(f.combineReducers)({user:pe,modal:x,catalogue:N,company:Je,shop:st,connection:At}),Wn=Object(kn.a)(_n,Fn),Bn=Object(f.createStore)(Wn,Object(Dn.composeWithDevTools)(Object(f.applyMiddleware)(Un.a))),Hn=Object(kn.b)(Bn),Mn=n(174),zn=n(173),Kn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Gn=function(e){e&&e instanceof Function&&n.e(16).then(n.bind(null,341)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))},Vn=Object(Mn.a)(),Yn=document.getElementById("root"),Jn=(/#!(\/.*)$/.exec(window.location.hash)||[])[1];Jn&&Vn.replace(Jn),j.a.render(Object(re.jsx)(Y.a,{store:Bn,children:Object(re.jsx)(zn.a,{persistor:Hn,children:Object(re.jsx)(En,{})})}),Yn),function(e){if("serviceWorker"in navigator){if(new URL("/frontend",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/frontend","/service-worker.js");Kn?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):qn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):qn(t,e)}))}}(),Gn()}},[[249,14,15]]]);
//# sourceMappingURL=main.38383168.chunk.js.map