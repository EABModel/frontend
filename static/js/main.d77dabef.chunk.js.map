{"version":3,"sources":["redux/slices/modalSlice.ts","redux/interactors/modalInteractors.ts","redux/slices/catalogueSlice.ts","services/config.ts","services/catalogueServices.ts","redux/interactors/base.ts","redux/interactors/catalogueInteractors.ts","styles/CatalogueCardStyles.ts","components/HomeComponents/CatalogueCard.tsx","redux/types/UserTypes.ts","styles/CatalogueStyles.ts","components/HomeComponents/Catalogue.tsx","styles/LogInStyles.ts","redux/slices/userSlice.ts","services/userServices.ts","redux/interactors/userInteractors.ts","components/NavbarComponents/UserLogin.tsx","components/HomeComponents/ShowHomeAlert.tsx","components/HomeComponents/IdleVideoPlayer.tsx","screens/Home.tsx","styles/NavBarStyles.ts","navigation/NavBar.tsx","redux/slices/companySlice.ts","services/companyServices.ts","redux/interactors/companyInteractors.ts","components/CompanyAuthComponents/CompanyLoginForm.tsx","styles/CompanyAuthStyles.ts","redux/slices/shopSlice.ts","services/shopServices.ts","redux/interactors/shopInteractors.ts","components/CompanyAuthComponents/ShopsList.tsx","components/CompanyAuthComponents/CompanyRegisterForm.tsx","screens/CompanyAuth.tsx","styles/AdministrationPortalStyles.ts","components/AdministrationPortalComponents/MenuSection.tsx","components/AdministrationPortalComponents/CompanyLogout.tsx","screens/AdministrationPortal.tsx","utils/videoHelpers/setMediaSources.ts","services/firebase/config.ts","redux/slices/connectionSlice.ts","services/webRTC/config.ts","redux/interactors/connectionInteractors.ts","utils/videoHelpers/takeCall.ts","components/CallsMenuComponents/EmployeeVideoChat.tsx","screens/CallsMenu.tsx","styles/AccordionMenuStyles.ts","components/GeneralUseComponents/DissmissibleSuccessAlert.tsx","utils/globalHelpers/verifyString.ts","components/CatalogueMenu/ProductRegister.tsx","components/CatalogueMenu/ProductRegisterCSV.tsx","components/CatalogueMenu/ProductDelete.tsx","screens/CatalogueMenu.tsx","screens/EmployeesMenu.tsx","components/ShopMenuComponents/ShopRegister.tsx","screens/ShopMenu.tsx","screens/ProductDetails.tsx","utils/videoHelpers/beginCall.ts","components/CustomerCallScreenComponents/CustomerVideoChat.tsx","screens/CustomerCallScreen.tsx","navigation/SidebarOptions.tsx","navigation/Routes.tsx","App.tsx","redux/store.ts","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["modal","createSlice","name","initialState","open","reducers","showLogIn","state","closeLogIn","modalReducer","reducer","modalActions","actions","showPopUpInteractor","dispatch","closePopUpInteractor","products","getCatalogueStatus","loading","success","error","addProductToCatalogue","addProductsToCatalogue","deleteProductFromCatalogue","catalogueSlice","loadingGetCatalogue","successGetCatalogue","action","payload","errorGetCatalogue","loadingAddProductToCatalogue","successAddProductToCatalogue","errorAddProductToCatalogue","loadingAddProductsToCatalogue","successAddProductsToCatalogue","errorAddProductsToCatalogue","loadingDeleteProductFromCatalogue","successDeleteProductFromCatalogue","newArray","filter","product","id","errorDeleteProductFromCatalogue","resetCatalogue","catalogueReducer","catalogueActions","axiosBaseInstance","axios","create","baseURL","postProductRegister","authFields","a","headers","method","url","data","shopId","brand","os","color","inches","price","then","response","catch","postProductsRegister","catalogueService","getShopProducts","postProductDelete","productId","buildInteractor","loadingAction","successAction","errorAction","request","params","buildInteractorNoParams","buildInteractorDirectAction","buildInteractorDirectActionNoParams","getCatalogueInteractor","catalogueServices","addProductToCatalogueInteractor","addProductsToCatalogueInteractor","deleteProductFromCatalogueInteractor","resetCatalogueInteractor","useStyles","makeStyles","root","maxWidth","infoContainer","textAlign","media","height","CatalogueCard","specs","styles","UseStyles","history","useHistory","goToDetails","useCallback","push","Card","className","CardActionArea","style","CardMedia","image","title","CardContent","Typography","gutterBottom","variant","component","CardActions","Button","size","onClick","defaultProps","Session","theme","createStyles","flexGrow","paper","padding","spacing","palette","text","secondary","catalogContainer","width","margin","cardContainer","boxShadow","connect","catalogue","props","classes","Box","display","flexWrap","justifyContent","m","p","bgcolor","map","marginTop","flexDirection","alignItems","avatar","backgroundColor","main","form","submit","popUp","position","top","left","transform","cancelIcon","right","alertMessage","username","email","sessionType","ANONYMOUS","loginUserStatus","logoutUserStatus","userSlice","loadingLoginUser","successLoginUser","errorLoginUser","loadingLogoutUser","successLogoutUser","errorLogoutUser","resetUserStatus","resetUser","userReducer","userActions","usersService","getUser","userId","console","log","postUserLogin","password","postUserRegister","confirmPassword","loginUserInteractor","userServices","logoutUserInteractor","resetUserStatusInteractor","resetUserInteractor","Copyright","align","Link","href","Date","getFullYear","Severity","user","bindActionCreators","userInteractors","modalInteractors","useState","setEmail","setPassword","useEffect","closePopUp","Cancel","fontSize","CssBaseline","CircularProgress","TextField","required","fullWidth","label","autoComplete","autoFocus","onChange","event","target","value","type","FormControlLabel","control","Checkbox","disabled","Grid","container","item","xs","mt","resourceName","severity","alertTitle","alertBody","hasLoginButton","Alert","AlertTitle","message","IdleHandler","idleValue","toggleIdle","videoShowing","setVideoShowing","useIdleTimer","timeout","onIdle","onActive","debounce","springProps","from","opacity","to","div","playing","loop","muted","controls","IdleVideoPlayer","React","memo","company","shop","catalogueInteractors","showCreateShopMessage","setShowCreateShopMessage","showCreateProductMessage","setShowCreateProductMessage","isIdle","setIsIdle","registerCompanyStatus","shops","length","LinearProgress","warning","info","menuButton","marginRight","marginLeft","btn","AppBar","Toolbar","replace","loginCompanyStatus","logoutCompanyStatus","companySlice","loadingRegisterCompany","successRegisterCompany","errorRegisterCompany","loadingLoginCompany","successLoginCompany","errorLoginCompany","loadingLogoutCompany","successLogoutCompany","errorLogoutCompany","resetCompanyStatus","resetCompany","companyReducer","companyActions","companyServices","postCompanyLogin","postCompanyRegister","registerCompanyInteractor","loginCompanyInteractor","logoutCompanyInteractor","resetCompanyStatusInteractor","resetCompanyInteractor","companyInteractors","setName","toggleForm","page","borderRadius","overflowY","containerList","shopContainer","location","buttonContainer","bottom","switchFormTypeContainer","companyId","addShopStatus","removeShopStatus","updateShopStatus","shopSlice","setShop","loadingAddShop","successAddShop","errorAddShop","loadingRemoveShop","successRemoveShop","errorRemoveShop","loadingUpdateShop","successUpdateShop","errorUpdateShop","resetShopStatus","resetShop","shopReducer","shopActions","shopServices","postShopRegister","setShopInteractor","addShopInteractor","removeShopInteractor","updateShopInteractor","resetShopStatusInteractor","resetShopInteractor","shopInteractors","login","setConfirmPassword","emailError","setEmailError","passwordError","setPasswordError","confirmPasswordError","setConfirmPasswordError","registerCondition","test","String","toLowerCase","validateEmail","nodeRef","useRef","showShops","setShowShops","isSigninIn","setIsSigningIn","SwitchTransition","mode","CSSTransition","enter","exit","classNames","ref","ShopsList","mainContainer","section","MenuSection","body","callback","CompanyLogout","setSources","peerConnection","webcamVideo","remoteVideo","navigator","mediaDevices","getUserMedia","video","audio","localStream","remoteStream","MediaStream","getTracks","forEach","track","addTrack","ontrack","streams","srcObject","firebase","apps","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","RTCPeerConnection","iceServers","urls","iceCandidatePoolSize","connection","addLocalStream","removeLocalStream","addRemoteStream","removeRemoteStream","resetStreamConnection","connectionReducer","connectionActions","setLocalStreamInteractor","resetLocalStreamInteractor","setRemoteStreamInteractor","resetRemoteStreamInteractor","resetStreamConnectionInteractor","takeCall","callId","callDocument","collection","doc","answerCandidates","offerCandidates","onicecandidate","candidate","add","toJSON","get","callData","offerDescription","offer","setRemoteDescription","RTCSessionDescription","createAnswer","answerDescription","setLocalDescription","answer","sdp","update","onSnapshot","snapshot","docChanges","change","addIceCandidate","RTCIceCandidate","connectionInteractors","current","answerCall","hangupCall","delete","setOnCall","autoPlay","playsInline","requests","setRequests","onCall","setLoading","refRequests","unsubscribe","status","answered","oldArray","requestId","List","ListItem","button","ListItemIcon","Assistant","ListItemText","primary","index","VideoCall","heading","flexBasis","flexShrink","secondaryHeading","formControl","minWidth","fab","DissmisibleSuccessAlert","openedStateInParent","setOpen","Collapse","in","IconButton","aria-label","setTimeout","verifyString","admissible","expanded","handleChange","panel","summary","setBrand","setOS","setColor","setInches","setPrice","showSuccessMessage","setShowSuccessMessage","handleCancelCreate","fieldsVerified","Accordion","TransitionProps","unmountOnExit","AccordionSummary","expandIcon","aria-controls","AccordionDetails","FormControl","InputLabel","Select","labelId","handleOS","MenuItem","Divider","AccordionActions","productAuthFields","Math","trunc","parseFloat","toString","csvData","setData","showErrorMessage","setShowErrorMessage","Paper","elevation","onDrop","onError","err","addRemoveButton","Fab","slice","dataRow","validated","Object","values","undefined","isValid","dense","ListItemSecondaryAction","CatalogueMenu","setExpanded","isExpanded","go","EmployeesMenu","shopName","setShopName","shopLocation","setShopLocation","shopAuthFields","ShopMenu","setProduct","window","pathname","split","filteredProduct","find","elem","goToCallScreen","beginCall","setCalling","setIsOnCall","callsDocument","createOffer","date","set","currentRemoteDescription","callInput","isOnCall","calling","updatedAt","startCall","ButtonGroup","orientation","CustomerCall","EmployeeRoute","Component","rest","useSelector","render","AdministratorRoute","Routes","leftOpen","setLeftOpen","isOpen","basename","edge","path","exact","CompanyAuth","Home","CustomerCallScreen","ProductDetails","AdministrationPortal","CallsMenu","App","persistConfig","key","storage","whitelist","RootReducer","combineReducers","RootReducerPersistor","persistReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","storePersistor","persistStore","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createBrowserHistory","document","getElementById","exec","hash","ReactDOM","persistor","URL","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.d77dabef.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { PopUpState } from '../types/ModalTypes';\n\nconst initialState: PopUpState = {\n  open: false,\n};\n\nconst modal = createSlice({\n  name: 'modal',\n  initialState,\n  reducers: {\n    showLogIn: (state: PopUpState) => {\n      return {\n        ...state,\n        open: true,\n      };\n    },\n    closeLogIn: (state: PopUpState) => {\n      return {\n        ...state,\n        open: false,\n      };\n    },\n  },\n});\n\nexport const modalReducer = modal.reducer;\nexport const modalActions = modal.actions;\n","import { modalActions } from '../slices/modalSlice';\nimport { Action } from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RootState } from '../store';\n\nexport const showPopUpInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(modalActions.showLogIn());\n  };\n};\n\nexport const closePopUpInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(modalActions.closeLogIn());\n  };\n};\n","import { CatalogueState } from '../types/CatalogueTypes';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState: CatalogueState = {\n  products: [],\n  getCatalogueStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  addProductToCatalogue: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  addProductsToCatalogue: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  deleteProductFromCatalogue: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n};\n\nconst catalogueSlice = createSlice({\n  name: 'catalogue',\n  initialState,\n  reducers: {\n    loadingGetCatalogue: (state: CatalogueState) => {\n      return {\n        ...state,\n        getCatalogueStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successGetCatalogue: (state: CatalogueState, action) => {\n      return {\n        ...state,\n        products: [...action?.payload],\n        getCatalogueStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorGetCatalogue: (state: CatalogueState, action) => {\n      return {\n        ...state,\n        getCatalogueStatus: {\n          loading: false,\n          success: false,\n          error: action.payload || true,\n        },\n      };\n    },\n    loadingAddProductToCatalogue: (state: CatalogueState) => {\n      return {\n        ...state,\n        addProductToCatalogue: { loading: true, success: false, error: false },\n      };\n    },\n    successAddProductToCatalogue: (state: CatalogueState, action) => {\n      return {\n        ...state,\n        products: [...state.products, action.payload],\n        addProductToCatalogue: {\n          loading: false,\n          success: true,\n          error: false,\n        },\n      };\n    },\n    errorAddProductToCatalogue: (state: CatalogueState, action) => {\n      return {\n        ...state,\n        addProductToCatalogue: {\n          loading: false,\n          success: false,\n          error: action.payload || true,\n        },\n      };\n    },\n    loadingAddProductsToCatalogue: (state: CatalogueState) => {\n      return {\n        ...state,\n        addProductsToCatalogue: { loading: true, success: false, error: false },\n      };\n    },\n    successAddProductsToCatalogue: (state: CatalogueState) => {\n      return {\n        ...state,\n        addProductsToCatalogue: {\n          loading: false,\n          success: true,\n          error: false,\n        },\n      };\n    },\n    errorAddProductsToCatalogue: (state: CatalogueState, action) => {\n      return {\n        ...state,\n        addProductsToCatalogue: {\n          loading: false,\n          success: false,\n          error: action.payload || true,\n        },\n      };\n    },\n    loadingDeleteProductFromCatalogue: (state: CatalogueState) => {\n      return {\n        ...state,\n        deleteProductFromCatalogue: { loading: true, success: false, error: false },\n      };\n    },\n    successDeleteProductFromCatalogue: (state: CatalogueState, action) => {\n      const newArray = state.products.filter((product) => product.id !== action?.payload?.id);\n      return {\n        ...state,\n        products: newArray,\n        deleteProductFromCatalogue: {\n          loading: false,\n          success: true,\n          error: false,\n        },\n      };\n    },\n    errorDeleteProductFromCatalogue: (state: CatalogueState, action) => {\n      return {\n        ...state,\n        deleteProductFromCatalogue: {\n          loading: false,\n          success: false,\n          error: action.payload || true,\n        },\n      };\n    },\n    resetCatalogue: (state: CatalogueState) => {\n      return {\n        ...state,\n        ...initialState,\n      };\n    },\n  },\n});\n\nexport const catalogueReducer = catalogueSlice.reducer;\nexport const catalogueActions = catalogueSlice.actions;\n","import axios from 'axios';\n\nconst developmentURL = 'http://localhost';\nconst productionURL = 'https://eabmodel.herokuapp.com/';\n\nexport const axiosBaseInstance = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? productionURL : developmentURL,\n});\n","import { AxiosResponse } from 'axios';\nimport { ProductPostFields, Product } from '../redux/types/CatalogueTypes';\nimport { axiosBaseInstance } from './config';\n\nconst postProductRegister = async (authFields: ProductPostFields): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'post',\n    url: '/catalogue/add-single-product',\n    data: {\n      shopId: authFields.shopId,\n      name: authFields.name,\n      brand: authFields.brand,\n      os: authFields.os,\n      color: authFields.color,\n      inches: authFields.inches,\n      price: authFields.price,\n    },\n  })\n    .then((response: AxiosResponse<Record<string, never>>) => {\n      // Recieves an empty object to avoid changing shop state\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      // TODO: Implement logging functionality for future purposes\n      throw error;\n    });\n};\n\nconst postProductsRegister = async (products: ProductPostFields[]): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'post',\n    url: '/catalogue/add-many-products',\n    data: products,\n  })\n    .then((response: AxiosResponse<Record<string, never>>) => {\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      throw error;\n    });\n};\n\nconst getShopProducts = async (shopId: string): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'get',\n    url: `/catalogue/shop/${shopId}`,\n  })\n    .then((response: AxiosResponse<Product[]>) => {\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      // TODO: Implement logging functionality for future purposes\n      throw error;\n    });\n};\n\nconst postProductDelete = async (productId: string): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'delete',\n    url: `/catalogue/delete-product/${productId}`,\n  })\n    .then((response: AxiosResponse<any>) => {\n      // Recieves an empty object to avoid changing shop state\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      // TODO: Implement logging functionality for future purposes\n      throw error;\n    });\n};\n\nconst catalogueService = {\n  postProductRegister,\n  getShopProducts,\n  postProductsRegister,\n  postProductDelete,\n};\n\nexport default catalogueService;\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { ActionCreatorWithoutPayload, ActionCreatorWithPayload } from '@reduxjs/toolkit';\n\nexport const buildInteractor =\n  (\n    loadingAction: ActionCreatorWithoutPayload,\n    successAction: ActionCreatorWithPayload<any>,\n    errorAction: ActionCreatorWithPayload<any>,\n    request: ((args: any) => Promise<any>) | null,\n  ) =>\n  (params: any) => {\n    return async function (dispatch: any) {\n      dispatch(loadingAction());\n      try {\n        const response = await request!(params);\n        dispatch(successAction(response));\n      } catch (error) {\n        dispatch(errorAction(error));\n      }\n    };\n  };\n\nexport const buildInteractorNoParams =\n  (\n    loadingAction: ActionCreatorWithoutPayload,\n    successAction: ActionCreatorWithPayload<any>,\n    errorAction: ActionCreatorWithPayload<any>,\n    request: (() => Promise<any>) | null,\n  ) =>\n  () => {\n    return async function (dispatch: any) {\n      dispatch(loadingAction());\n      try {\n        let response: any;\n        if (request) {\n          response = await request!();\n        }\n        dispatch(successAction(response));\n      } catch (error) {\n        dispatch(errorAction(error));\n      }\n    };\n  };\n\nexport const buildInteractorDirectAction = (request: ActionCreatorWithPayload<any>) => (params: any) => {\n  return (dispatch: any) => {\n    dispatch(request(params));\n  };\n};\n\nexport const buildInteractorDirectActionNoParams = (request: ActionCreatorWithoutPayload) => () => {\n  return (dispatch: any) => {\n    dispatch(request());\n  };\n};\n","import { catalogueActions } from '../slices/catalogueSlice';\nimport catalogueServices from '../../services/catalogueServices';\nimport { buildInteractor } from './base';\nimport { Action } from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RootState } from '../store';\n\nexport const getCatalogueInteractor = buildInteractor(\n  catalogueActions.loadingGetCatalogue,\n  catalogueActions.successGetCatalogue,\n  catalogueActions.errorGetCatalogue,\n  catalogueServices.getShopProducts,\n);\n\nexport const addProductToCatalogueInteractor = buildInteractor(\n  catalogueActions.loadingAddProductToCatalogue,\n  catalogueActions.successAddProductToCatalogue,\n  catalogueActions.errorAddProductToCatalogue,\n  catalogueServices.postProductRegister,\n);\n\nexport const addProductsToCatalogueInteractor = buildInteractor(\n  catalogueActions.loadingAddProductsToCatalogue,\n  catalogueActions.successAddProductsToCatalogue,\n  catalogueActions.errorAddProductsToCatalogue,\n  catalogueServices.postProductsRegister,\n);\n\nexport const deleteProductFromCatalogueInteractor = buildInteractor(\n  catalogueActions.loadingDeleteProductFromCatalogue,\n  catalogueActions.successDeleteProductFromCatalogue,\n  catalogueActions.errorDeleteProductFromCatalogue,\n  catalogueServices.postProductDelete,\n);\n\nexport const resetCatalogueInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(catalogueActions.resetCatalogue());\n  };\n};\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 345,\n  },\n  infoContainer: {\n    textAlign: 'left',\n  },\n  media: {\n    height: 140,\n  },\n});\n\nexport default useStyles;\n","import React, { FC, useCallback } from 'react';\nimport UseStyles from '../../styles/CatalogueCardStyles';\nimport { useHistory } from 'react-router-dom';\nimport { Card, CardActionArea, CardActions, CardContent, CardMedia, Button, Typography } from '@material-ui/core';\n\ninterface Props {\n  specs: {\n    id: string;\n    name: string;\n    brand: string;\n    os: string;\n    color: string;\n    inches: number;\n    price: number;\n  };\n}\n\nexport const CatalogueCard: FC<Props> = ({ specs }: Props) => {\n  const styles = UseStyles();\n  const history = useHistory();\n\n  const goToDetails = useCallback((productId: string) => {\n    history.push(`product/${productId}/details`);\n  }, []);\n\n  return (\n    <Card className={styles.root}>\n      <CardActionArea style={{ textAlign: 'left' }}>\n        <CardMedia className={styles.media} image=\"CHANGE-LATER\" title=\"Device\" />\n        <CardContent>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {specs.name}\n          </Typography>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\n            {specs.brand}\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" component=\"p\">\n            {specs.os} {specs.color}\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" component=\"p\">\n            {specs.inches} inches display\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            These phones are really good, buy them now.\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        <Button size=\"small\" color=\"primary\">\n          Buy\n        </Button>\n        <Button size=\"small\" color=\"primary\" onClick={() => goToDetails(specs.id)}>\n          Details\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nCatalogueCard.defaultProps = {\n  specs: {\n    id: '0',\n    name: 'Defaut Device',\n    brand: 'Default Brand',\n    os: 'Default OS',\n    color: 'Default Color',\n    inches: 5,\n    price: 0,\n  },\n};\n","export interface UserState {\n  id: string;\n  username: string;\n  email: string;\n  sessionType: Session;\n  loginUserStatus: {\n    loading: boolean;\n    success: boolean;\n    error: boolean;\n  };\n  logoutUserStatus: {\n    loading: boolean;\n    success: boolean;\n    error: boolean;\n  };\n}\n\nexport interface PostUserFields {\n  username: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n}\n\nexport interface UserAuthFields {\n  email: string;\n  password: string;\n}\n\nexport enum Session {\n  ANONYMOUS = 'ANONYMOUS',\n  EMPLOYEE = 'EMPLOYEE',\n  ADMINISTRATOR = 'ADMINISTRATOR',\n}\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(1),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n    },\n    catalogContainer: {\n      width: '50wh',\n      height: '50vh',\n      margin: 'auto',\n    },\n    cardContainer: {\n      margin: '5%',\n      boxShadow: '8px 10px 19px 3px rgba(0,0,0,0.31)',\n    },\n  }),\n);\n\nexport default useStyles;\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../redux/store';\nimport { CatalogueState, Product } from '../../redux/types/CatalogueTypes';\nimport { CatalogueCard } from './CatalogueCard';\nimport UseStyles from '../../styles/CatalogueStyles';\nimport Box from '@material-ui/core/Box';\n\ninterface StateProps {\n  catalogue: CatalogueState;\n}\n\ntype Props = StateProps;\n\nconst Catalogue: FC<Props> = (props: Props) => {\n  const classes = UseStyles();\n  const { catalogue } = props;\n  return (\n    <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-evenly\" m={1} p={1} bgcolor=\"background.paper\">\n      {catalogue?.products.map((product: Product) => (\n        <Box className={classes.cardContainer} key={product.id}>\n          <CatalogueCard specs={product} />\n        </Box>\n      ))}\n    </Box>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    catalogue: state.catalogue,\n  };\n};\n\nexport default connect(mapStateToProps)(Catalogue);\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '50vw',\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  popUp: {\n    position: 'fixed',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: '1em',\n  },\n  cancelIcon: {\n    position: 'absolute',\n    top: '-10',\n    right: '-10',\n  },\n  alertMessage: {\n    textAlign: 'left',\n    color: 'red',\n    padding: 0,\n    margin: 0,\n  },\n}));\n\nexport default useStyles;\n","import { UserState, Session } from '../types/UserTypes';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState: UserState = {\n  username: 'defaultUser',\n  email: '',\n  id: '',\n  sessionType: Session.ANONYMOUS,\n  loginUserStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  logoutUserStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    loadingLoginUser: (state: UserState) => {\n      return {\n        ...state,\n        loginUserStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successLoginUser: (state: UserState, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        loginUserStatus: {\n          loading: false,\n          success: true,\n          error: false,\n        },\n        logoutUserStatus: { loading: false, success: false, error: false },\n      };\n    },\n    errorLoginUser: (state: UserState, action) => {\n      return {\n        ...state,\n        loginUserStatus: {\n          loading: false,\n          success: false,\n          error: action.payload || true,\n        },\n      };\n    },\n    loadingLogoutUser: (state: UserState) => {\n      return {\n        ...state,\n        logoutUserStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successLogoutUser: (state: UserState) => {\n      return {\n        ...state,\n        ...initialState,\n        logoutUserStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorLogoutUser: (state: UserState, action) => {\n      return {\n        ...state,\n        logoutUserStatus: {\n          loading: false,\n          success: false,\n          error: action.payload || true,\n        },\n      };\n    },\n    resetUserStatus: (state: UserState) => {\n      return {\n        ...state,\n        loginUserStatus: initialState.loginUserStatus,\n        logoutUserStatus: initialState.logoutUserStatus,\n      };\n    },\n    resetUser: (state: UserState) => {\n      return {\n        ...state,\n        ...initialState,\n      };\n    },\n  },\n});\n\nexport const userReducer = userSlice.reducer;\nexport const userActions = userSlice.actions;\n","import { AxiosResponse } from 'axios';\nimport { PostUserFields, UserAuthFields } from '../redux/types/UserTypes';\nimport { axiosBaseInstance } from './config';\n\nconst getUser = async (userId: string): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'get',\n    url: `/user/${userId}`,\n  })\n    .then((response: AxiosResponse<any>) => {\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      console.log(error);\n    });\n};\n\nconst postUserLogin = async (authFields: UserAuthFields): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'post',\n    url: '/user/auth',\n    data: {\n      email: authFields.email,\n      password: authFields.password,\n    },\n  })\n    .then((response: AxiosResponse<any>) => {\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      // TODO: Implement logging functionality for future purposes\n      throw error;\n    });\n};\n\nconst postUserRegister = async (authFields: PostUserFields): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'post',\n    url: '/user/create',\n    data: {\n      username: authFields.username,\n      email: authFields.email,\n      password: authFields.password,\n      confirmPassword: authFields.confirmPassword,\n    },\n  })\n    .then((response: AxiosResponse<any>) => {\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      // TODO: Implement logging functionality for future purposes\n      throw error;\n    });\n};\n\nconst usersService = {\n  getUser,\n  postUserLogin,\n  postUserRegister,\n};\n\nexport default usersService;\n","import { userActions } from '../slices/userSlice';\nimport userServices from '../../services/userServices';\nimport { Action } from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RootState } from '../store';\nimport { buildInteractor, buildInteractorNoParams } from './base';\n\nexport const loginUserInteractor = buildInteractor(\n  userActions.loadingLoginUser,\n  userActions.successLoginUser,\n  userActions.errorLoginUser,\n  userServices.postUserLogin,\n);\n\nexport const logoutUserInteractor = buildInteractorNoParams(\n  userActions.loadingLogoutUser,\n  userActions.successLogoutUser,\n  userActions.errorLogoutUser,\n  null,\n);\n\nexport const resetUserStatusInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(userActions.resetUserStatus());\n  };\n};\n\nexport const resetUserInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(userActions.resetUser());\n  };\n};\n","import React, { FC, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport UseStyles from '../../styles/LogInStyles';\nimport { bindActionCreators } from 'redux';\nimport { RootState } from '../../redux/store';\nimport { connect } from 'react-redux';\nimport { UserState, UserAuthFields } from '../../redux/types/UserTypes';\nimport * as userInteractors from '../../redux/interactors/userInteractors';\nimport * as modalInteractors from '../../redux/interactors/modalInteractors';\nimport { Cancel } from '@material-ui/icons';\nimport {\n  Button,\n  CssBaseline,\n  TextField,\n  FormControlLabel,\n  Checkbox,\n  Link,\n  Grid,\n  Box,\n  Typography,\n  Card,\n  CircularProgress,\n} from '@material-ui/core';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        EABModel\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\ninterface StateProps {\n  user: UserState;\n}\n\ninterface DispatchProps {\n  loginUserInteractor: typeof userInteractors.loginUserInteractor;\n  resetUserStatusInteractor: typeof userInteractors.resetUserStatusInteractor;\n  closePopUpInteractor: typeof modalInteractors.closePopUpInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  closePopUp: () => void;\n}\n\nconst UserLogin: FC<Props> = (props: Props) => {\n  const styles = UseStyles();\n  const history = useHistory();\n  const { user } = props;\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    if (user.loginUserStatus.success) {\n      props.resetUserStatusInteractor();\n      props.closePopUpInteractor();\n      history.push('/administration');\n    }\n  }, [history, props, user]);\n\n  const closePopUp = (): void => {\n    props.closePopUp();\n  };\n\n  const onEmailChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setEmail(event.target.value);\n  };\n\n  const onPasswordChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setPassword(event.target.value);\n  };\n\n  const handleSubmit = (): void => {\n    const authFields: UserAuthFields = {\n      email,\n      password,\n    };\n    props.loginUserInteractor(authFields);\n  };\n\n  return (\n    <Card className={styles.popUp} component=\"main\" variant=\"outlined\">\n      <div className={styles.cancelIcon} onClick={closePopUp}>\n        <Cancel fontSize=\"large\" color=\"secondary\" />\n      </div>\n      <CssBaseline />\n      <div className={styles.paper}>\n        {user.loginUserStatus.loading && <CircularProgress />}\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <div className={styles.form}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            onChange={onEmailChange}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onChange={onPasswordChange}\n          />\n          <FormControlLabel control={<Checkbox value=\"remember\" color=\"primary\" />} label=\"Remember me\" />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={styles.submit}\n            disabled={!(email && password)}\n            onClick={handleSubmit}>\n            Sign In\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Don&apos;t have an account? Sign Up\n              </Link>\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n      <Box mt={4}>\n        <Copyright />\n      </Box>\n    </Card>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    user: state.user,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...userInteractors,\n      ...modalInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLogin);\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as modalInteractors from '../../redux/interactors/modalInteractors';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { Button } from '@material-ui/core';\nimport '../../styles/css/homeStyles.scss';\n\nexport enum Severity {\n  error = 'error',\n  warning = 'warning',\n  info = 'info',\n  success = 'success',\n}\n\ninterface DispatchProps {\n  showPopUpInteractor: typeof modalInteractors.showPopUpInteractor;\n}\n\ninterface Props extends DispatchProps {\n  resourceName: string;\n  severity: any;\n  alertTitle: string;\n  alertBody: string[];\n  hasLoginButton: boolean;\n}\n\nconst HomeAlert: FC<Props> = (props: Props) => {\n  const { showPopUpInteractor, resourceName, severity, alertTitle, alertBody, hasLoginButton } = props;\n  return (\n    <div className=\"alert-container\">\n      <Alert className=\"alert\" variant=\"filled\" severity={severity}>\n        <AlertTitle className=\"alert-title\">{alertTitle}</AlertTitle>\n        {alertBody.map((message) => (\n          <p key={message} className=\"alert-text\">\n            {message}\n          </p>\n        ))}\n        {hasLoginButton && (\n          <div className=\"button-container\">\n            <Button variant=\"contained\" onClick={showPopUpInteractor}>\n              Sign in to create {resourceName}\n            </Button>\n          </div>\n        )}\n      </Alert>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...modalInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(null, mapDispatchToProps)(HomeAlert);\n","import React, { FC, useState } from 'react';\nimport { useIdleTimer } from 'react-idle-timer';\nimport ReactPlayer from 'react-player/lazy';\nimport { Spring, animated } from 'react-spring';\nimport '../../styles/css/videoPlayer.scss';\n\ninterface Props {\n  idleValue: boolean;\n  toggleIdle: any;\n}\n\nconst IdleHandler: FC<Props> = (props: Props) => {\n  const { idleValue, toggleIdle } = props;\n  const [videoShowing, setVideoShowing] = useState(false);\n  const handleOnIdle = () => {\n    toggleIdle(!idleValue);\n    setVideoShowing(true);\n  };\n\n  const handleOnActive = () => {\n    toggleIdle(!idleValue);\n    setVideoShowing(false);\n  };\n\n  useIdleTimer({\n    timeout: 1000 * 60 * 3, // 3 minutes idle time\n    onIdle: handleOnIdle,\n    onActive: handleOnActive,\n    debounce: 500,\n  });\n\n  const springProps = {\n    from: {\n      opacity: 0,\n      marginTop: -500,\n    },\n    to: {\n      opacity: 1,\n      marginTop: 0,\n    },\n  };\n  // useSpring hook didn't work\n  return (\n    <>\n      {videoShowing && (\n        <Spring from={springProps.from} to={springProps.to}>\n          {(props) => (\n            <animated.div style={props}>\n              <div className=\"player-wrapper\">\n                <ReactPlayer\n                  className=\"react-player\"\n                  url=\"https://www.youtube.com/watch?v=ivukpkSMoYQ\"\n                  playing\n                  loop\n                  muted // It's imposible to autoplay an unmuted video because of chrome policies\n                  controls\n                  width=\"100%\"\n                  height=\"100%\"\n                />\n              </div>\n            </animated.div>\n          )}\n        </Spring>\n      )}\n    </>\n  );\n};\n\n// React.memo memoitized this component so it's not rendered every time the parent re renders\n// It's a good implementation for improving performance\nconst IdleVideoPlayer = React.memo(IdleHandler);\n\nexport default IdleVideoPlayer;\n","import React, { FC, useEffect, useState } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { RootState } from '../redux/store';\nimport { PopUpState } from '../redux/types/ModalTypes';\nimport { CompanyState } from '../redux/types/CompanyTypes';\nimport { ShopState } from '../redux/types/ShopTypes';\nimport { CatalogueState } from '../redux/types/CatalogueTypes';\nimport * as modalInteractors from '../redux/interactors/modalInteractors';\nimport * as catalogueInteractors from '../redux/interactors/catalogueInteractors';\nimport Catalogue from '../components/HomeComponents/Catalogue';\nimport Login from '../components/NavbarComponents/UserLogin';\nimport HomeAlert from '../components/HomeComponents/ShowHomeAlert';\nimport { Severity } from '../components/HomeComponents/ShowHomeAlert';\nimport { connect } from 'react-redux';\nimport { LinearProgress } from '@material-ui/core';\nimport IdleVideoPlayer from '../components/HomeComponents/IdleVideoPlayer';\n\ninterface StateProps {\n  modal: PopUpState;\n  company: CompanyState;\n  shop: ShopState;\n  catalogue: CatalogueState;\n}\n\ninterface DispatchProps {\n  closePopUpInteractor: typeof modalInteractors.closePopUpInteractor;\n  getCatalogueInteractor: typeof catalogueInteractors.getCatalogueInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  // extra props you want to add\n}\n\nconst Home: FC<Props> = (props: Props) => {\n  const { modal, company, shop, catalogue } = props;\n  const [showCreateShopMessage, setShowCreateShopMessage] = useState(false);\n  const [showCreateProductMessage, setShowCreateProductMessage] = useState(false);\n  const [isIdle, setIsIdle] = useState(false);\n\n  useEffect(() => {\n    // If just registered or has no shops\n    if (company.registerCompanyStatus.success || company?.shops?.length === 0) {\n      setShowCreateShopMessage(true);\n    } else {\n      setShowCreateShopMessage(false);\n    }\n  }, [company.registerCompanyStatus, company]);\n\n  useEffect(() => {\n    props.getCatalogueInteractor(shop.id);\n  }, [props.getCatalogueInteractor]);\n\n  useEffect(() => {\n    // If shop has no products, show create product message\n    if (catalogue?.products?.length === 0) {\n      setShowCreateProductMessage(true);\n    } else {\n      setShowCreateProductMessage(false);\n    }\n  }, [catalogue]);\n\n  const closeModal = (): void => {\n    props.closePopUpInteractor();\n  };\n\n  return (\n    <div>\n      <IdleVideoPlayer idleValue={isIdle} toggleIdle={setIsIdle} />\n      {!isIdle && (\n        <>\n          {catalogue.getCatalogueStatus.loading && <LinearProgress color=\"secondary\" />}\n          {showCreateShopMessage && (\n            <HomeAlert\n              resourceName={'shop'}\n              severity={Severity.warning}\n              alertTitle={'Create a shop'}\n              alertBody={[\n                \"It seems you don't have any shops, create one.\",\n                'If you already created one, logout your company and sign in as that shop.',\n              ]}\n              hasLoginButton={true}\n            />\n          )}\n          {showCreateProductMessage && (\n            <HomeAlert\n              resourceName={'product'}\n              severity={Severity.info}\n              alertTitle={\"Add a product or products to your shop's catalogue\"}\n              alertBody={[\n                'In order to display your products, add them first.',\n                'You can do that from the administrator menu.',\n              ]}\n              hasLoginButton={true}\n            />\n          )}\n          {!showCreateShopMessage && !showCreateProductMessage && <Catalogue />}\n          {modal.open && <Login closePopUp={closeModal} />}\n        </>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    modal: state.modal,\n    company: state.company,\n    shop: state.shop,\n    catalogue: state.catalogue,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...modalInteractors,\n      ...catalogueInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'right',\n    marginLeft: '2rem',\n    marginRight: '2rem',\n    fontSize: '1rem',\n  },\n  btn: {\n    fontSize: '1rem',\n  },\n}));\n","import React, { FC } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { RootState } from '../redux/store';\nimport { UserState } from '../redux/types/UserTypes';\nimport { CompanyState } from '../redux/types/CompanyTypes';\nimport * as userInteractors from '../redux/interactors/userInteractors';\nimport * as modalInteractors from '../redux/interactors/modalInteractors';\nimport { AppBar, Button, Toolbar, Typography } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { useStyles } from '../styles/NavBarStyles';\n\ninterface StateProps {\n  user: UserState;\n  company: CompanyState;\n}\n\ninterface DispatchProps {\n  logoutUserInteractor: typeof userInteractors.logoutUserInteractor;\n  showPopUpInteractor: typeof modalInteractors.showPopUpInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  // extra props you want to add\n}\n\nconst NavBar: FC<Props> = (props: Props) => {\n  const { user, company } = props;\n  const history = useHistory();\n  const styles = useStyles();\n\n  const openPopUp = (): void => {\n    props.showPopUpInteractor();\n  };\n\n  const logOut = (): void => {\n    props.logoutUserInteractor();\n    history.replace('/home');\n  };\n\n  return (\n    <AppBar position=\"static\" className={styles.root}>\n      <Toolbar>\n        <Typography variant=\"h6\" className={styles.title}>\n          {user.sessionType === 'ANONYMOUS' ? `Hello Dear Customer!` : `Hello ${user.username}!`}\n        </Typography>\n        {user.sessionType === 'ANONYMOUS' ? (\n          <Button className={styles.btn} color=\"inherit\" onClick={openPopUp} disabled={!company.id}>\n            Login\n          </Button>\n        ) : (\n          <Button color=\"secondary\" onClick={logOut} disabled={!company.id}>\n            Logout\n          </Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    user: state.user,\n    company: state.company,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...userInteractors,\n      ...modalInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);\n","import { CompanyState } from '../types/CompanyTypes';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState: CompanyState = {\n  id: '',\n  name: '',\n  email: '',\n  shops: [],\n  registerCompanyStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  loginCompanyStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  logoutCompanyStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n};\n\nconst companySlice = createSlice({\n  name: 'company',\n  initialState,\n  reducers: {\n    loadingRegisterCompany: (state: CompanyState) => {\n      return {\n        ...state,\n        registerCompanyStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successRegisterCompany: (state: CompanyState, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        registerCompanyStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorRegisterCompany: (state: CompanyState, action) => {\n      return {\n        ...state,\n        registerCompanyStatus: { loading: false, success: false, error: action.payload || true },\n      };\n    },\n    loadingLoginCompany: (state: CompanyState) => {\n      return {\n        ...state,\n        loginCompanyStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successLoginCompany: (state: CompanyState, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        loginCompanyStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorLoginCompany: (state: CompanyState, action) => {\n      return {\n        ...state,\n        loginCompanyStatus: { loading: false, success: false, error: action.payload || true },\n      };\n    },\n    loadingLogoutCompany: (state: CompanyState) => {\n      return {\n        ...state,\n        logoutCompanyStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successLogoutCompany: (state: CompanyState) => {\n      return {\n        ...state,\n        ...initialState,\n        logoutCompanyStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorLogoutCompany: (state: CompanyState, action) => {\n      return {\n        ...state,\n        logoutCompanyStatus: { loading: false, success: false, error: action.payload || true },\n      };\n    },\n    resetCompanyStatus: (state: CompanyState) => {\n      return {\n        ...state,\n        loginCompanyStatus: initialState.loginCompanyStatus,\n        logoutCompanyStatus: initialState.logoutCompanyStatus,\n      };\n    },\n    resetCompany: (state: CompanyState) => {\n      return {\n        ...state,\n        ...initialState,\n      };\n    },\n  },\n});\n\nexport const companyReducer = companySlice.reducer;\nexport const companyActions = companySlice.actions;\n","import { AxiosResponse } from 'axios';\nimport { PostCompanyFields, RegisterCompanyFields, CompanyBackendState } from '../redux/types/CompanyTypes';\nimport { axiosBaseInstance } from './config';\n\nconst postCompanyLogin = async (authFields: PostCompanyFields): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'post',\n    url: '/company/login',\n    data: {\n      name: authFields.name,\n      password: authFields.password,\n    },\n  })\n    .then((response: AxiosResponse<CompanyBackendState>) => {\n      return response?.data;\n    })\n    .catch((error: any) => {\n      // TODO: Implement logging functionality for future purposes\n      // TOFIX: always get Error: Network Error, cors must be enabled on api, not nginx\n      console.log(error);\n      throw error;\n    });\n};\n\nconst postCompanyRegister = async (authFields: RegisterCompanyFields): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'post',\n    url: '/company/create',\n    data: {\n      name: authFields.name,\n      email: authFields.email,\n      password: authFields.password,\n    },\n  })\n    .then((response: AxiosResponse<CompanyBackendState>) => {\n      return response?.data;\n    })\n    .catch((error: any) => {\n      // TODO: Implement logging functionality for future purposes\n      // TOFIX: always get Error: Network Error, cors must be enabled on api, not nginx\n      console.log(error);\n      throw error;\n    });\n};\n\nconst companyServices = {\n  postCompanyLogin,\n  postCompanyRegister,\n};\n\nexport default companyServices;\n","import { companyActions } from '../slices/companySlice';\nimport companyServices from '../../services/companyServices';\nimport { Action } from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RootState } from '../store';\nimport { buildInteractor, buildInteractorNoParams } from './base';\n\nexport const registerCompanyInteractor = buildInteractor(\n  companyActions.loadingRegisterCompany,\n  companyActions.successRegisterCompany,\n  companyActions.errorRegisterCompany,\n  companyServices.postCompanyRegister,\n);\n\nexport const loginCompanyInteractor = buildInteractor(\n  companyActions.loadingLoginCompany,\n  companyActions.successLoginCompany,\n  companyActions.errorLoginCompany,\n  companyServices.postCompanyLogin,\n);\n\nexport const logoutCompanyInteractor = buildInteractorNoParams(\n  companyActions.loadingLogoutCompany,\n  companyActions.successLogoutCompany,\n  companyActions.errorLogoutCompany,\n  null,\n);\n\nexport const resetCompanyStatusInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(companyActions.resetCompanyStatus());\n  };\n};\n\nexport const resetCompanyInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(companyActions.resetCompany());\n  };\n};\n","import React, { FC, useState } from 'react';\nimport UseStyles from '../../styles/LogInStyles';\nimport { bindActionCreators } from 'redux';\nimport { RootState } from '../../redux/store';\nimport { connect } from 'react-redux';\nimport { CompanyState, PostCompanyFields } from '../../redux/types/CompanyTypes';\nimport * as companyInteractors from '../../redux/interactors/companyInteractors';\nimport {\n  Button,\n  CssBaseline,\n  TextField,\n  FormControlLabel,\n  Checkbox,\n  Typography,\n  Card,\n  CircularProgress,\n} from '@material-ui/core';\n\ninterface StateProps {\n  company: CompanyState;\n}\n\ninterface DispatchProps {\n  loginCompanyInteractor: typeof companyInteractors.loginCompanyInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  toggleForm: () => void;\n}\n\nconst CompanyLoginForm: FC<Props> = (props: Props) => {\n  const styles = UseStyles();\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const { company } = props;\n\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setName(event.target.value);\n  };\n\n  const onPasswordChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setPassword(event.target.value);\n  };\n\n  const handleSubmit = (): void => {\n    const authFields: PostCompanyFields = {\n      name,\n      password,\n    };\n    props.loginCompanyInteractor(authFields);\n  };\n\n  return (\n    <Card className={styles.popUp} component=\"main\" variant=\"outlined\">\n      <CssBaseline />\n      <div className={styles.paper}>\n        {company.loginCompanyStatus.loading && <CircularProgress />}\n        <Typography component=\"h1\" variant=\"h5\">\n          Company Sign in\n        </Typography>\n        <div className={styles.form}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name\"\n            label=\"Company name\"\n            name=\"name\"\n            autoFocus\n            onChange={onNameChange}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            onChange={onPasswordChange}\n          />\n          <FormControlLabel control={<Checkbox value=\"remember\" color=\"primary\" />} label=\"Remember me\" />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={styles.submit}\n            disabled={!(name && password)}\n            onClick={handleSubmit}>\n            Company Sign In\n          </Button>\n        </div>\n      </div>\n      <Button color=\"default\" size=\"small\" onClick={props.toggleForm}>\n        Don&apos;t have a company, create one\n      </Button>\n    </Card>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    company: state.company,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...companyInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CompanyLoginForm);\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  page: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  container: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    transform: 'translate(-50%,-50%)',\n    padding: '20px',\n    width: '50%',\n    height: '60vh',\n    borderRadius: '8px',\n    overflowY: 'scroll',\n  },\n  containerList: {\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '20px',\n    width: '50%',\n    height: '60vh',\n    borderRadius: '8px',\n    overflowY: 'scroll',\n  },\n  shopContainer: {\n    position: 'relative',\n    padding: '10px',\n    margin: '15px 0',\n    borderRadius: '8px',\n    'box-shadow': '5px 6px 12px -4px rgba(0,0,0,0.75)',\n  },\n  name: {\n    fontSize: '20px',\n    textAlign: 'left',\n    padding: 0,\n    margin: '0 5px',\n  },\n  location: {\n    fontSize: '15px',\n    textAlign: 'left',\n    padding: 0,\n    margin: '0 5px',\n  },\n  buttonContainer: {\n    position: 'absolute',\n    bottom: '12px',\n    right: '15px',\n  },\n  switchFormTypeContainer: {\n    position: 'absolute',\n    left: '50%',\n    top: '20%',\n    transform: 'translate(-50%,-50%)',\n  },\n});\n\nexport default useStyles;\n","import { ShopState } from '../types/ShopTypes';\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState: ShopState = {\n  id: '',\n  companyId: '',\n  name: '',\n  location: '',\n  addShopStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  removeShopStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n  updateShopStatus: {\n    loading: false,\n    success: false,\n    error: false,\n  },\n};\n\nconst shopSlice = createSlice({\n  name: 'shop',\n  initialState,\n  reducers: {\n    setShop: (state: ShopState, action) => {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    },\n    loadingAddShop: (state: ShopState) => {\n      return {\n        ...state,\n        addShopStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successAddShop: (state: ShopState) => {\n      return {\n        ...state,\n        addShopStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorAddShop: (state: ShopState, action) => {\n      return {\n        ...state,\n        addShopStatus: { loading: false, success: false, error: action.payload || true },\n      };\n    },\n    loadingRemoveShop: (state: ShopState) => {\n      return {\n        ...state,\n        removeShopStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successRemoveShop: (state: ShopState) => {\n      return {\n        ...state,\n        removeShopStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorRemoveShop: (state: ShopState, action) => {\n      return {\n        ...state,\n        removeShopStatus: { loading: false, success: false, error: action.payload || true },\n      };\n    },\n    loadingUpdateShop: (state: ShopState) => {\n      return {\n        ...state,\n        updateShopStatus: { loading: true, success: false, error: false },\n      };\n    },\n    successUpdateShop: (state: ShopState, action) => {\n      return {\n        ...state,\n        ...action.payload,\n        updateShopStatus: { loading: false, success: true, error: false },\n      };\n    },\n    errorUpdateShop: (state: ShopState, action) => {\n      return {\n        ...state,\n        updateShopStatus: { loading: false, success: false, error: action.payload || true },\n      };\n    },\n    resetShopStatus: (state: ShopState) => {\n      return {\n        ...state,\n        addShopStatus: initialState.addShopStatus,\n        removeShopStatus: initialState.removeShopStatus,\n        updateShopStatus: initialState.updateShopStatus,\n      };\n    },\n    resetShop: (state: ShopState) => {\n      return {\n        ...state,\n        ...initialState,\n      };\n    },\n  },\n});\n\nexport const shopReducer = shopSlice.reducer;\nexport const shopActions = shopSlice.actions;\n","import { AxiosResponse } from 'axios';\nimport { PostShopFields } from '../redux/types/ShopTypes';\nimport { axiosBaseInstance } from './config';\n\nconst postShopRegister = async (authFields: PostShopFields): Promise<any> => {\n  return await axiosBaseInstance({\n    headers: { 'Content-Type': 'application/json' },\n    method: 'post',\n    url: '/shop/create',\n    data: {\n      companyId: authFields.companyId,\n      name: authFields.name,\n      location: authFields.location,\n    },\n  })\n    .then((response: AxiosResponse<Record<string, never>>) => {\n      // Recieves an empty object to avoid changing shop state\n      return response?.data;\n    })\n    .catch((error: Error) => {\n      // TODO: Implement logging functionality for future purposes\n      throw error;\n    });\n};\n\nconst shopServices = {\n  postShopRegister,\n};\n\nexport default shopServices;\n","import { shopActions } from '../slices/shopSlice';\nimport shopServices from '../../services/shopServices';\nimport { ShopBackendState } from '../types/CompanyTypes';\nimport { Action } from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { RootState } from '../store';\nimport { buildInteractor } from './base';\n\nexport const setShopInteractor = (shop: ShopBackendState) => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(shopActions.setShop(shop));\n  };\n};\n\nexport const addShopInteractor = buildInteractor(\n  shopActions.loadingAddShop,\n  shopActions.successAddShop,\n  shopActions.errorAddShop,\n  shopServices.postShopRegister,\n);\n\nexport const removeShopInteractor = buildInteractor(\n  shopActions.loadingRemoveShop,\n  shopActions.successRemoveShop,\n  shopActions.errorRemoveShop,\n  null,\n);\n\nexport const updateShopInteractor = buildInteractor(\n  shopActions.loadingUpdateShop,\n  shopActions.successUpdateShop,\n  shopActions.errorUpdateShop,\n  null,\n);\n\nexport const resetShopStatusInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(shopActions.resetShopStatus());\n  };\n};\n\nexport const resetShopInteractor = () => {\n  return (dispatch: ThunkDispatch<RootState, void, Action>): void => {\n    dispatch(shopActions.resetShop());\n  };\n};\n","import React, { FC, useEffect } from 'react';\nimport UseStyles from '../../styles/CompanyAuthStyles';\nimport { ShopBackendState } from '../../redux/types/CompanyTypes';\nimport { useHistory } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as shopInteractors from '../../redux/interactors/shopInteractors';\nimport { Button, Typography } from '@material-ui/core';\n\ninterface DispatchProps {\n  setShopInteractor: typeof shopInteractors.setShopInteractor;\n}\n\ninterface Props extends DispatchProps {\n  shops: ShopBackendState[];\n}\n\nconst CompanyLoginForm: FC<Props> = (props: Props) => {\n  const styles = UseStyles();\n  const history = useHistory();\n  const { shops } = props;\n\n  useEffect(() => {\n    // If company has not created a shop, redirect to home to allow it to do that\n    if (shops?.length === 0) {\n      history.replace('/home');\n    }\n  }, []);\n\n  const login = (shop: ShopBackendState): void => {\n    props.setShopInteractor(shop);\n    history.replace('/home');\n  };\n\n  return (\n    <div className={styles.page}>\n      <Typography variant=\"h2\" color=\"textSecondary\">\n        Choose Shop\n      </Typography>\n      <div className={styles.containerList}>\n        {shops?.map((shop: ShopBackendState) => (\n          <div className={styles.shopContainer} key={shop.id}>\n            <div>\n              <p className={styles.name}>{shop.name}</p>\n              <p className={styles.location}>{shop.location}</p>\n            </div>\n            <div className={styles.buttonContainer}>\n              <Button variant=\"contained\" color=\"primary\" onClick={() => login(shop)}>\n                Login as this Shop\n              </Button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...shopInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(null, mapDispatchToProps)(CompanyLoginForm);\n","import React, { FC, useState } from 'react';\nimport UseStyles from '../../styles/LogInStyles';\nimport { bindActionCreators } from 'redux';\nimport { RootState } from '../../redux/store';\nimport { connect } from 'react-redux';\nimport { CompanyState, RegisterCompanyFields } from '../../redux/types/CompanyTypes';\nimport * as companyInteractors from '../../redux/interactors/companyInteractors';\nimport { Button, CssBaseline, TextField, Typography, Card, CircularProgress } from '@material-ui/core';\n\nconst validateEmail = (email: string): boolean => {\n  const re =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n};\n\ninterface StateProps {\n  company: CompanyState;\n}\n\ninterface DispatchProps {\n  registerCompanyInteractor: typeof companyInteractors.registerCompanyInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  toggleForm: () => void;\n}\n\nconst CompanyRegisterForm: FC<Props> = (props: Props) => {\n  const styles = UseStyles();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\n  const { company } = props;\n\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setName(event.target.value);\n  };\n\n  const onEmailChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    const { value } = event.target;\n    if (value) {\n      if (!validateEmail(value)) {\n        setEmailError('This must be an email');\n      } else {\n        setEmailError('');\n      }\n    } else {\n      setEmailError('');\n    }\n    setEmail(value);\n  };\n\n  const onPasswordChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    const { value } = event.target;\n    if (value && value.length <= 7) {\n      setPasswordError('Password must be longer than 7 characters');\n    } else {\n      setPasswordError('');\n    }\n    setPassword(value);\n  };\n\n  const onConfirmPasswordChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    const { value } = event.target;\n    if (password !== value) {\n      setConfirmPasswordError(\"Passwords don't match\");\n    } else {\n      setConfirmPasswordError('');\n    }\n    setConfirmPassword(value);\n  };\n\n  const handleSubmit = (): void => {\n    const authFields: RegisterCompanyFields = {\n      name,\n      email,\n      password,\n    };\n    props.registerCompanyInteractor(authFields);\n    setName('');\n    setEmail('');\n    setPassword('');\n    setConfirmPassword('');\n  };\n\n  const registerCondition =\n    name && email && !emailError && password && !passwordError && confirmPassword && !confirmPasswordError;\n\n  return (\n    <Card className={styles.popUp} component=\"main\" variant=\"outlined\">\n      <CssBaseline />\n      <div className={styles.paper}>\n        {company.registerCompanyStatus.loading && <CircularProgress />}\n        <Typography component=\"h1\" variant=\"h5\">\n          Company Sign Up\n        </Typography>\n        <div className={styles.form}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name\"\n            label=\"Company name\"\n            name=\"name\"\n            autoFocus\n            onChange={onNameChange}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Company email\"\n            name=\"email\"\n            onChange={onEmailChange}\n          />\n          <Typography variant=\"body2\" className={styles.alertMessage}>\n            {emailError}\n          </Typography>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            onChange={onPasswordChange}\n          />\n          <Typography variant=\"body2\" className={styles.alertMessage}>\n            {passwordError}\n          </Typography>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"confirmPassword\"\n            label=\"Confirm password\"\n            type=\"password\"\n            id=\"confirmPassword\"\n            onChange={onConfirmPasswordChange}\n          />\n          <Typography variant=\"body2\" className={styles.alertMessage}>\n            {confirmPasswordError}\n          </Typography>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={styles.submit}\n            disabled={!registerCondition}\n            onClick={handleSubmit}>\n            Company Sign Up\n          </Button>\n          {company.registerCompanyStatus.error && (\n            <Typography>An error ocurred, probably the company already exists.</Typography>\n          )}\n        </div>\n      </div>\n      <Button color=\"default\" size=\"small\" onClick={props.toggleForm}>\n        Already have a company, sign in instead\n      </Button>\n    </Card>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    company: state.company,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...companyInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CompanyRegisterForm);\n","import React, { FC, useState, useEffect } from 'react';\nimport { RootState } from '../redux/store';\nimport { connect } from 'react-redux';\nimport { CompanyState } from '../redux/types/CompanyTypes';\nimport CompanyLoginForm from '../components/CompanyAuthComponents/CompanyLoginForm';\nimport ShopsList from '../components/CompanyAuthComponents/ShopsList';\nimport CompanyRegisterForm from '../components/CompanyAuthComponents/CompanyRegisterForm';\nimport { useHistory } from 'react-router-dom';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\nimport '../App.css';\n\ninterface StateProps {\n  company: CompanyState;\n}\n\ninterface Props extends StateProps {}\n\nconst CompanyAuth: FC<Props> = (props: Props) => {\n  const { company } = props;\n  const history = useHistory();\n  const nodeRef = React.useRef(null);\n  const [showShops, setShowShops] = useState(false);\n  const [isSigninIn, setIsSigningIn] = useState(true);\n\n  useEffect(() => {\n    // If just logged in, redirect to shop picker\n    if (company.loginCompanyStatus.success) {\n      setShowShops(true);\n    }\n    // If just created account, redirect to home to create a shop\n    // (default admin user is created, same password as company)\n    if (company.registerCompanyStatus.success) {\n      history.replace('/home');\n    }\n  }, [company.loginCompanyStatus, company.registerCompanyStatus]);\n\n  const toggleForm = (): void => {\n    setIsSigningIn(!isSigninIn);\n  };\n\n  return (\n    <>\n      <SwitchTransition mode={'out-in'}>\n        <CSSTransition\n          key={isSigninIn ? 'signinIn' : 'signinUp'}\n          nodeRef={nodeRef}\n          timeout={{ enter: 200, exit: 200 }}\n          classNames=\"fade\">\n          {isSigninIn ? (\n            <div ref={nodeRef}>\n              {showShops ? <ShopsList shops={company.shops} /> : <CompanyLoginForm toggleForm={toggleForm} />}\n            </div>\n          ) : (\n            <div ref={nodeRef}>\n              <CompanyRegisterForm toggleForm={toggleForm} />\n            </div>\n          )}\n        </CSSTransition>\n      </SwitchTransition>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    company: state.company,\n  };\n};\n\nexport default connect(mapStateToProps)(CompanyAuth);\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  mainContainer: {\n    margin: '30px auto',\n    height: '70vh',\n    width: '70vw',\n  },\n  section: {\n    position: 'relative',\n    textAlign: 'left',\n    margin: '15px 5px',\n    padding: 5,\n  },\n  buttonContainer: {\n    position: 'absolute',\n    right: 5,\n    bottom: 5,\n  },\n});\n\nexport default useStyles;\n","import React, { FC } from 'react';\nimport { Typography, Button } from '@material-ui/core';\nimport UseStyles from '../../styles/AdministrationPortalStyles';\n\ninterface Props {\n  title: string;\n  body: string;\n  callback: () => void;\n}\n\nconst MenuSection: FC<Props> = (props: Props) => {\n  const styles = UseStyles();\n  const { title, body, callback } = props;\n  return (\n    <div className={styles.section}>\n      <Typography variant=\"h5\" color=\"textPrimary\">\n        {title} Menu\n      </Typography>\n      <Typography variant=\"body1\" color=\"textPrimary\" component=\"p\">\n        {body}\n      </Typography>\n      <div className={styles.buttonContainer}>\n        <Button variant=\"contained\" onClick={callback}>\n          Go to {title} Menu\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default MenuSection;\n","import React, { FC } from 'react';\nimport { Button } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as companyInteractors from '../../redux/interactors/companyInteractors';\nimport * as shopInteractors from '../../redux/interactors/shopInteractors';\nimport * as userInteractors from '../../redux/interactors/userInteractors';\nimport * as catalogueInteractors from '../../redux/interactors/catalogueInteractors';\n\ninterface DispatchProps {\n  logoutCompanyInteractor: typeof companyInteractors.logoutCompanyInteractor;\n  resetShopInteractor: typeof shopInteractors.resetShopInteractor;\n  logoutUserInteractor: typeof userInteractors.logoutUserInteractor;\n  resetCatalogueInteractor: typeof catalogueInteractors.resetCatalogueInteractor;\n}\n\ninterface Props extends DispatchProps {}\n\nconst CompanyLogoutButton: FC<Props> = (props: Props) => {\n  const history = useHistory();\n\n  const companyLogout = (): void => {\n    props.resetShopInteractor();\n    props.logoutUserInteractor();\n    props.resetCatalogueInteractor();\n    props.logoutCompanyInteractor();\n    history.replace('/');\n  };\n  return (\n    <Button variant=\"outlined\" color=\"secondary\" onClick={companyLogout}>\n      Company Logout\n    </Button>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...companyInteractors,\n      ...shopInteractors,\n      ...userInteractors,\n      ...catalogueInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(null, mapDispatchToProps)(CompanyLogoutButton);\n","import React, { FC } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { RootState } from '../redux/store';\nimport { UserState } from '../redux/types/UserTypes';\nimport { ShopState } from '../redux/types/ShopTypes';\nimport { Typography } from '@material-ui/core';\nimport UseStyles from '../styles/AdministrationPortalStyles';\nimport MenuSection from '../components/AdministrationPortalComponents/MenuSection';\nimport CompanyLogout from '../components/AdministrationPortalComponents/CompanyLogout';\n\ninterface StateProps {\n  user: UserState;\n  shop: ShopState;\n}\n\ninterface Props extends StateProps {\n  // extra props you want to add\n}\n\nconst AdministrationPortal: FC<Props> = (props: Props) => {\n  const history = useHistory();\n  const styles = UseStyles();\n  const { user, shop } = props;\n\n  const goToCallsMenu = (): void => {\n    history.push('/administration/calls');\n  };\n\n  const goToCatalogueMenu = (): void => {\n    history.push('/administration/catalogue');\n  };\n\n  const goToStoreMenu = (): void => {\n    history.push('/administration/shop');\n  };\n\n  const goToEmployeesMenu = (): void => {\n    history.push('/administration/employees');\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h2\" color=\"textSecondary\">\n        Administration Portal\n      </Typography>\n      <div className={styles.mainContainer}>\n        {shop.id && (\n          <MenuSection\n            title={'Video Calls'}\n            body={'Menu for managing video calls from current store.'}\n            callback={goToCallsMenu}\n          />\n        )}\n        {user.sessionType === 'ADMINISTRATOR' && (\n          <>\n            {shop.id && (\n              <MenuSection\n                title={'Catalogue'}\n                body={'Menu for adding, removing or updating products from the main catalogue.'}\n                callback={goToCatalogueMenu}\n              />\n            )}\n            <MenuSection\n              title={'Shop'}\n              body={'Menu for updating shops, their location, policies and other specifications.'}\n              callback={goToStoreMenu}\n            />\n            <MenuSection\n              title={\"Employee's\"}\n              body={\"Menu for updating employee's status and for managing store employees.\"}\n              callback={goToEmployeesMenu}\n            />\n          </>\n        )}\n        <CompanyLogout />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    user: state.user,\n    shop: state.shop,\n  };\n};\n\nexport default connect(mapStateToProps)(AdministrationPortal);\n","// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst setSources = async ({ peerConnection, webcamVideo, remoteVideo }: any) => {\n  const localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n  const remoteStream = new MediaStream();\n\n  localStream.getTracks().forEach((track: any) => {\n    peerConnection.addTrack(track, localStream);\n  });\n\n  peerConnection.ontrack = (event: any) => {\n    event.streams[0].getTracks().forEach((track: any) => {\n      remoteStream.addTrack(track);\n    });\n  };\n\n  webcamVideo.srcObject = localStream;\n  remoteVideo.srcObject = remoteStream;\n\n  return { localStream, remoteStream };\n};\n\nexport default setSources;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}\n\nconst firestore = firebase.firestore();\n\nexport default firestore;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { ConnectionState } from '../types/ConnectionTypes';\nimport firestore from '../../services/firebase/config';\nimport peerConnection from '../../services/webRTC/config';\n\nconst initialState: ConnectionState = {\n  firestore,\n  peerConnection,\n  localStream: null,\n  remoteStream: null,\n};\n\nconst connection = createSlice({\n  name: 'connection',\n  initialState,\n  reducers: {\n    addLocalStream: (state: ConnectionState, action) => {\n      return {\n        ...state,\n        localStream: action.payload,\n      };\n    },\n    removeLocalStream: (state: ConnectionState) => {\n      return {\n        ...state,\n        localStream: initialState.localStream,\n      };\n    },\n    addRemoteStream: (state: ConnectionState, action) => {\n      return {\n        ...state,\n        remoteStream: action.payload,\n      };\n    },\n    removeRemoteStream: (state: ConnectionState) => {\n      return {\n        ...state,\n        remoteStream: initialState.remoteStream,\n      };\n    },\n    resetStreamConnection: (state: ConnectionState) => {\n      return {\n        ...state,\n        peerConnection: initialState.peerConnection,\n        localStream: initialState.localStream,\n        remoteStream: initialState.remoteStream,\n      };\n    },\n  },\n});\n\nexport const connectionReducer = connection.reducer;\nexport const connectionActions = connection.actions;\n","const servers = {\n  iceServers: [\n    {\n      urls: ['stun:stun1.l.google.com:19302', 'stun:stun2.l.google.com:19302'],\n    },\n  ],\n  iceCandidatePoolSize: 10,\n};\n\nconst peerConnection = new RTCPeerConnection(servers);\n\nexport default peerConnection;\n","import { connectionActions } from '../slices/connectionSlice';\nimport { buildInteractorDirectAction, buildInteractorDirectActionNoParams } from './base';\n\nexport const setLocalStreamInteractor = buildInteractorDirectAction(connectionActions.addLocalStream);\n\nexport const resetLocalStreamInteractor = buildInteractorDirectActionNoParams(connectionActions.removeLocalStream);\n\nexport const setRemoteStreamInteractor = buildInteractorDirectAction(connectionActions.addRemoteStream);\n\nexport const resetRemoteStreamInteractor = buildInteractorDirectActionNoParams(connectionActions.removeRemoteStream);\n\nexport const resetStreamConnectionInteractor = buildInteractorDirectActionNoParams(\n  connectionActions.resetStreamConnection,\n);\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\ninterface Params {\n  firestore: any;\n  shopId: string;\n  callId: string;\n  peerConnection: RTCPeerConnection;\n}\n\nconst takeCall = async ({ firestore, shopId, callId, peerConnection }: Params) => {\n  const callDocument = firestore.collection('shopCalls').doc(shopId).collection('calls').doc(callId);\n  const answerCandidates = callDocument.collection('answerCandidates');\n  const offerCandidates = callDocument.collection('offerCandidates');\n\n  peerConnection.onicecandidate = (event: any) => {\n    event.candidate && answerCandidates.add(event.candidate.toJSON());\n  };\n  const callData = (await callDocument.get()).data();\n\n  const offerDescription = callData?.offer;\n  await peerConnection.setRemoteDescription(new RTCSessionDescription(offerDescription));\n\n  const answerDescription = await peerConnection.createAnswer();\n  await peerConnection.setLocalDescription(answerDescription);\n\n  const answer = {\n    type: answerDescription.type,\n    sdp: answerDescription.sdp,\n  };\n  await callDocument.update({ answer, 'status.answered': true });\n\n  offerCandidates.onSnapshot((snapshot: any) => {\n    snapshot.docChanges().forEach((change: any) => {\n      if (change.type === 'added') {\n        const data = change.doc.data();\n        peerConnection.addIceCandidate(new RTCIceCandidate(data));\n      }\n    });\n  });\n};\n\nexport default takeCall;\n","import React, { FC, useEffect, useRef, useCallback } from 'react';\nimport { Button } from '@material-ui/core';\nimport { RootState } from '../../redux/store';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { ConnectionState } from '../../redux/types/ConnectionTypes';\nimport setSources from '../../utils/videoHelpers/setMediaSources';\nimport * as connectionInteractors from '../../redux/interactors/connectionInteractors';\nimport takeCall from '../../utils/videoHelpers/takeCall';\n\ninterface StateProps {\n  connection: ConnectionState;\n}\n\ninterface DispatchProps {\n  setLocalStreamInteractor: typeof connectionInteractors.setLocalStreamInteractor;\n  setRemoteStreamInteractor: typeof connectionInteractors.setRemoteStreamInteractor;\n  resetStreamConnectionInteractor: typeof connectionInteractors.resetStreamConnectionInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  callId: string;\n  setOnCall: any;\n  shopId: string;\n}\n\nconst EmployeeVideoChat: FC<Props> = (props: Props) => {\n  const { callId, shopId } = props;\n  const { firestore, peerConnection } = props.connection;\n  const webcamVideo = useRef<any>();\n  const remoteVideo = useRef<any>();\n\n  useEffect(() => {\n    const data = {\n      peerConnection,\n      webcamVideo: webcamVideo.current,\n      remoteVideo: remoteVideo.current,\n    };\n    if (!props.connection.localStream || !props.connection.remoteStream) {\n      setSources(data)\n        .then(({ localStream, remoteStream }) => {\n          props.setLocalStreamInteractor(localStream);\n          props.setRemoteStreamInteractor(remoteStream);\n        })\n        .then(() => answerCall());\n    }\n    // Cleanup\n    return () => {\n      hangupCall();\n      if (webcamVideo.current && remoteVideo.current) {\n        webcamVideo.current.srcObject = null;\n        remoteVideo.current.srcObject = null;\n      }\n      props.resetStreamConnectionInteractor();\n    };\n  }, []);\n\n  const answerCall = async () => {\n    await takeCall({ firestore, shopId, callId, peerConnection });\n  };\n\n  const hangupCall = useCallback(async () => {\n    try {\n      console.log('This it a test console log to prevent firestore excessive requests...');\n      await firestore.collection('shopCalls').doc(props.shopId).collection('calls').doc(callId).delete();\n    } catch (error) {\n      console.log(error);\n    } finally {\n      props.setOnCall(null);\n    }\n  }, []);\n\n  return (\n    <div className=\"employee-main-container\">\n      <video className=\"employee-local-video-container\" ref={webcamVideo} autoPlay playsInline muted></video>\n      <video className=\"employee-remote-video-container\" ref={remoteVideo} autoPlay playsInline></video>\n      <div className=\"employee-button-container\">\n        <Button variant=\"contained\" color=\"secondary\" onClick={hangupCall}>\n          Hang up\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    connection: state.connection,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...connectionInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EmployeeVideoChat);\n","import React, { FC, useState, useEffect, useRef } from 'react';\nimport EmployeeVideoChat from '../components/CallsMenuComponents/EmployeeVideoChat';\nimport { VideoCall, Assistant } from '@material-ui/icons';\nimport { RootState } from '../redux/store';\nimport { connect } from 'react-redux';\nimport { ConnectionState } from '../redux/types/ConnectionTypes';\nimport '../styles/css/calls.scss';\nimport { Typography, List, ListItem, ListItemText, ListItemIcon, LinearProgress } from '@material-ui/core';\ninterface StateProps {\n  connection: ConnectionState;\n  shopId: string;\n}\n\ninterface Props extends StateProps {\n  // extra props you want to add\n}\n\nconst CallsMenu: FC<Props> = (props: Props) => {\n  const { firestore } = props.connection;\n  const [requests, setRequests] = useState<string[]>([]);\n  const [onCall, setOnCall] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const refRequests = useRef<string[]>([]);\n\n  useEffect(() => {\n    console.log('This it a test console log to prevent firestore excessive requests...');\n    const unsubscribe = firestore\n      .collection('shopCalls')\n      .doc(props.shopId)\n      .collection('calls')\n      .onSnapshot((snapshot) => {\n        // If there are changes in the current waiting calls\n        snapshot.docChanges().forEach((change) => {\n          if (change.type === 'added') {\n            if (!change.doc.data().status.answered) {\n              refRequests.current.push(change.doc.id);\n              setRequests((oldArray) => [...oldArray, change.doc.id]);\n            }\n          }\n          if (change.type === 'modified' || change.type === 'removed') {\n            refRequests.current = refRequests.current.filter((item) => item !== change.doc.id);\n            setRequests(refRequests.current.filter((item) => item !== change.doc.id));\n          }\n        });\n        setLoading(false);\n      });\n    return () => {\n      unsubscribe();\n    };\n  }, [firestore]);\n\n  const answerCall = async (requestId: string): Promise<void> => {\n    // If there's not a call, set it as current call\n    refRequests.current = requests;\n    !onCall && setOnCall(requestId);\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h2\" gutterBottom>\n        Call Requests\n      </Typography>\n      <div className=\"requests-container\">\n        <List className=\"list\">\n          {requests.length === 0 && (\n            <ListItem className=\"item\" button disabled={true}>\n              <ListItemIcon>\n                <Assistant />\n              </ListItemIcon>\n              <ListItemText primary={'No calls yet...'} />\n            </ListItem>\n          )}\n          {requests.map((request, index) => (\n            <ListItem className=\"item\" button disabled={!!onCall} key={request} onClick={() => answerCall(request)}>\n              <ListItemIcon>\n                <VideoCall />\n              </ListItemIcon>\n              <ListItemText primary={`Answer client ${index + 1} call`} />\n            </ListItem>\n          ))}\n        </List>\n        {loading && <LinearProgress />}\n      </div>\n      {onCall && <EmployeeVideoChat callId={onCall} setOnCall={setOnCall} shopId={props.shopId} />}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    connection: state.connection,\n    shopId: state.shop.id,\n  };\n};\n\nexport default connect(mapStateToProps)(CallsMenu);\n","import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    mainContainer: {\n      width: '80%',\n      margin: '8vh auto auto',\n    },\n    heading: {\n      fontSize: '1.1rem',\n      flexBasis: '33.33%',\n      flexShrink: 0,\n      textAlign: 'left',\n    },\n    secondaryHeading: {\n      fontSize: '0.95rem',\n      color: theme.palette.text.secondary,\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n      textAlign: 'left',\n    },\n    fab: {\n      margin: theme.spacing(2),\n    },\n  }),\n);\n\nexport default useStyles;\n","import React, { FC, useState } from 'react';\nimport Alert from '@material-ui/lab/Alert';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { IconButton, Collapse } from '@material-ui/core';\n\ninterface Props {\n  message: string;\n  openedStateInParent: any;\n}\n\nconst DissmisibleSuccessAlert: FC<Props> = (props: Props) => {\n  const { message, openedStateInParent } = props;\n  const [open, setOpen] = useState(true);\n\n  const handleClose = (): void => {\n    setOpen(false);\n    setTimeout(() => {\n      openedStateInParent(false);\n    }, 2000);\n  };\n\n  return (\n    <div>\n      <Collapse in={open}>\n        <Alert\n          action={\n            <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\" onClick={handleClose}>\n              <CloseIcon fontSize=\"inherit\" />\n            </IconButton>\n          }>\n          {message}\n        </Alert>\n      </Collapse>\n    </div>\n  );\n};\n\nexport default DissmisibleSuccessAlert;\n","const verifyString = (text: string): boolean => {\n  let admissible = true;\n  if (!text.replace(/\\s/g, '').length) {\n    admissible = false;\n  }\n  if (!text) {\n    admissible = false;\n  }\n  return admissible;\n};\n\nexport default verifyString;\n","import React, { FC, useState, useEffect } from 'react';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport DissmisibleSuccessAlert from '../GeneralUseComponents/DissmissibleSuccessAlert';\nimport useStyles from '../../styles/AccordionMenuStyles';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../redux/store';\nimport { ShopState } from '../../redux/types/ShopTypes';\nimport { CatalogueState, ProductPostFields } from '../../redux/types/CatalogueTypes';\nimport * as catalogueInteractors from '../../redux/interactors/catalogueInteractors';\nimport verifyString from '../../utils/globalHelpers/verifyString';\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Typography,\n  Divider,\n  AccordionActions,\n  Button,\n  TextField,\n  LinearProgress,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n} from '@material-ui/core';\n\ninterface StateProps {\n  shop: ShopState;\n  catalogue: CatalogueState;\n}\n\ninterface DispatchProps {\n  addProductToCatalogueInteractor: typeof catalogueInteractors.addProductToCatalogueInteractor;\n  resetCatalogueInteractor: typeof catalogueInteractors.resetCatalogueInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  expanded: string | false;\n  handleChange: (panel: string) => any;\n  panel: string;\n  heading: string;\n  summary: string;\n}\n\nconst CreateProduct: FC<Props> = (props: Props) => {\n  const { expanded, handleChange, panel, heading, summary, shop, catalogue } = props;\n  const [name, setName] = useState('');\n  const [brand, setBrand] = useState('');\n  const [os, setOS] = useState('');\n  const [color, setColor] = useState('');\n  const [inches, setInches] = useState('');\n  const [price, setPrice] = useState('');\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const styles = useStyles();\n\n  useEffect(() => {\n    if (catalogue.addProductToCatalogue.success) {\n      setShowSuccessMessage(true);\n      props.resetCatalogueInteractor();\n    }\n  }, [catalogue.addProductToCatalogue, setShowSuccessMessage, props.resetCatalogueInteractor]);\n\n  const handleCancelCreate = (): void => {\n    setName('');\n    setBrand('');\n    setOS('');\n    setColor('');\n    setInches('');\n    setPrice('');\n  };\n\n  const handleCreate = (): void => {\n    const productAuthFields: ProductPostFields = {\n      shopId: shop.id,\n      name,\n      brand,\n      os,\n      color,\n      inches: Math.trunc(parseFloat(inches)).toString(),\n      price,\n    };\n    props.addProductToCatalogueInteractor(productAuthFields);\n    // Called to reset the state\n    handleCancelCreate();\n  };\n\n  const handleOS = (event: React.ChangeEvent<{ value: unknown }>) => {\n    setOS(event.target.value as string);\n  };\n\n  const fieldsVerified: boolean =\n    verifyString(name) &&\n    verifyString(brand) &&\n    verifyString(os) &&\n    verifyString(color) &&\n    verifyString(inches) &&\n    verifyString(price);\n\n  return (\n    <Accordion TransitionProps={{ unmountOnExit: true }} expanded={expanded === panel} onChange={handleChange(panel)}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1bh-content\" id=\"panel1bh-header\">\n        <Typography className={styles.heading}>{heading}</Typography>\n        <Typography className={styles.secondaryHeading}>{summary}</Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        <TextField\n          value={name}\n          variant=\"standard\"\n          required\n          fullWidth\n          id=\"name\"\n          label=\"Name\"\n          name=\"name\"\n          onChange={(event) => setName(event.target.value)}\n        />\n      </AccordionDetails>\n      <AccordionDetails>\n        <TextField\n          value={brand}\n          variant=\"standard\"\n          required\n          fullWidth\n          id=\"brand\"\n          label=\"Brand\"\n          name=\"brand\"\n          onChange={(event) => setBrand(event.target.value)}\n        />\n      </AccordionDetails>\n      <AccordionDetails>\n        <FormControl variant=\"outlined\" className={styles.formControl} fullWidth>\n          <InputLabel id=\"demo-simple-select-outlined-label\">OS</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"demo-simple-select-outlined\"\n            value={os}\n            onChange={(event) => handleOS(event)}\n            label=\"Age\">\n            <MenuItem value={'Android'}>Android</MenuItem>\n            <MenuItem value={'IOS'}>IOS</MenuItem>\n            <MenuItem value={'Windows'}>Windows</MenuItem>\n          </Select>\n        </FormControl>\n      </AccordionDetails>\n      <AccordionDetails>\n        <TextField\n          value={color}\n          variant=\"standard\"\n          required\n          fullWidth\n          id=\"color\"\n          label=\"Device Color\"\n          name=\"color\"\n          onChange={(event) => setColor(event.target.value)}\n        />\n      </AccordionDetails>\n      <AccordionDetails>\n        <TextField\n          value={inches}\n          variant=\"standard\"\n          type=\"number\"\n          required\n          fullWidth\n          id=\"inches\"\n          label=\"Inches\"\n          name=\"inches\"\n          onChange={(event) => setInches(event.target.value)}\n        />\n      </AccordionDetails>\n      <AccordionDetails>\n        <TextField\n          value={price}\n          variant=\"standard\"\n          type=\"number\"\n          required\n          fullWidth\n          id=\"price\"\n          label=\"Price\"\n          name=\"price\"\n          onChange={(event) => setPrice(event.target.value)}\n        />\n      </AccordionDetails>\n      <Divider />\n      <AccordionActions>\n        <Button size=\"small\" onClick={() => handleCancelCreate()}>\n          Cancel\n        </Button>\n        <Button size=\"small\" color=\"primary\" disabled={!fieldsVerified} onClick={handleCreate}>\n          Create Product\n        </Button>\n      </AccordionActions>\n      {catalogue.addProductToCatalogue.loading && <LinearProgress />}\n      {showSuccessMessage && (\n        <DissmisibleSuccessAlert\n          message={'Product successfully created, you can close this menu now.'}\n          openedStateInParent={setShowSuccessMessage}\n        />\n      )}\n    </Accordion>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    shop: state.shop,\n    catalogue: state.catalogue,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...catalogueInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProduct);\n","import React, { FC, useEffect, useState } from 'react';\nimport { CatalogueState, ProductPostFields } from '../../redux/types/CatalogueTypes';\nimport { ShopState } from '../../redux/types/ShopTypes';\nimport * as catalogueInteractors from '../../redux/interactors/catalogueInteractors';\nimport { RootState } from '../../redux/store';\nimport { bindActionCreators } from '@reduxjs/toolkit';\nimport { connect } from 'react-redux';\nimport { Fab, LinearProgress, Paper, Typography } from '@material-ui/core';\nimport { CSVReader } from 'react-papaparse';\nimport useStyles from '../../styles/AccordionMenuStyles';\nimport { FaFileCsv } from 'react-icons/fa';\nimport DissmisibleSuccessAlert from '../GeneralUseComponents/DissmissibleSuccessAlert';\n\ninterface StateProps {\n  shop: ShopState;\n  catalogue: CatalogueState;\n}\n\ninterface DispatchProps {\n  addProductsToCatalogueInteractor: typeof catalogueInteractors.addProductToCatalogueInteractor;\n  resetCatalogueInteractor: typeof catalogueInteractors.resetCatalogueInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {}\n\nconst CreateProductsCSV: FC<Props> = (props: Props) => {\n  const styles = useStyles();\n  const [csvData, setData] = useState<Array<any> | null>(null);\n  const { shop, catalogue } = props;\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const [showErrorMessage, setShowErrorMessage] = useState<string>('');\n\n  useEffect(() => {\n    if (catalogue.addProductsToCatalogue.success) {\n      setShowSuccessMessage(true);\n      props.resetCatalogueInteractor();\n    }\n  }, [catalogue.addProductsToCatalogue, props.resetCatalogueInteractor]);\n\n  const handleOnDrop = (data: any) => {\n    setData(data);\n  };\n\n  const handleOnError = (err: any) => {\n    setShowErrorMessage(`An unexpected error ocurred: ${err}`);\n  };\n\n  function isValid(productAuthFields: ProductPostFields): boolean {\n    let validated = true;\n    Object.values(productAuthFields).forEach((value) => {\n      if (value == undefined || value == '') {\n        validated = false;\n      }\n    });\n    return validated;\n  }\n\n  const handleUpload = (): void => {\n    const products: ProductPostFields[] = [];\n    csvData?.slice(1).forEach((dataRow: { data: any }) => {\n      const productAuthFields: ProductPostFields = {\n        shopId: shop.id,\n        name: dataRow.data[0],\n        brand: dataRow.data[1],\n        os: dataRow.data[2],\n        color: dataRow.data[3],\n        inches: dataRow.data[4],\n        price: dataRow.data[5],\n      };\n      // TODO: check if it's necessary to check if attributes make sense (like os being part of a valid list)\n      if (isValid(productAuthFields)) {\n        products.push(productAuthFields);\n      }\n    });\n    props.addProductsToCatalogueInteractor(products);\n  };\n\n  return (\n    <Paper elevation={1}>\n      <div className=\"flex-container-between\">\n        <Typography className={styles.heading}>Import Products from CSV</Typography>\n        <div className=\"flex-container-evenly\">\n          <CSVReader onDrop={handleOnDrop} onError={handleOnError} addRemoveButton>\n            <span>Drop CSV file here or click to upload.</span>\n          </CSVReader>\n          <Fab color=\"primary\" className={styles.fab} onClick={handleUpload}>\n            <FaFileCsv style={{ fontSize: 30 }} />\n          </Fab>\n        </div>\n      </div>\n      {catalogue.addProductsToCatalogue.loading && <LinearProgress />}\n      {showSuccessMessage && (\n        <DissmisibleSuccessAlert\n          message={'Products successfully created, you can close this menu now.'}\n          openedStateInParent={setShowSuccessMessage}\n        />\n      )}\n      {showErrorMessage}\n    </Paper>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    shop: state.shop,\n    catalogue: state.catalogue,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...catalogueInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProductsCSV);\n","import React, { FC, useState, useEffect } from 'react';\nimport useStyles from '../../styles/AccordionMenuStyles';\nimport { CatalogueState, Product } from '../../redux/types/CatalogueTypes';\nimport * as catalogueInteractors from '../../redux/interactors/catalogueInteractors';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport DissmisibleSuccessAlert from '../GeneralUseComponents/DissmissibleSuccessAlert';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../redux/store';\nimport {\n  Accordion,\n  AccordionSummary,\n  Divider,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Typography,\n  Button,\n  LinearProgress,\n} from '@material-ui/core';\n\ninterface StateProps {\n  catalogue: CatalogueState;\n}\n\ninterface DispatchProps {\n  deleteProductFromCatalogueInteractor: typeof catalogueInteractors.deleteProductFromCatalogueInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  expanded: string | false;\n  handleChange: (panel: string) => any;\n  panel: string;\n  heading: string;\n  summary: string;\n}\n\nconst DeleteProduct: FC<Props> = (props: Props) => {\n  const { expanded, handleChange, panel, heading, summary, catalogue } = props;\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const styles = useStyles();\n\n  useEffect(() => {\n    if (catalogue.deleteProductFromCatalogue.success) {\n      setShowSuccessMessage(true);\n    }\n  }, [catalogue.deleteProductFromCatalogue, setShowSuccessMessage]);\n\n  const handleDelete = (id: string): void => {\n    props.deleteProductFromCatalogueInteractor(id);\n  };\n\n  return (\n    <Accordion TransitionProps={{ unmountOnExit: true }} expanded={expanded === panel} onChange={handleChange(panel)}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1bh-content\" id=\"panel1bh-header\">\n        <Typography className={styles.heading}>{heading}</Typography>\n        <Typography className={styles.secondaryHeading}>{summary}</Typography>\n      </AccordionSummary>\n      <List dense>\n        {catalogue.products.map((product: Product) => {\n          return (\n            <ListItem key={product.id} button>\n              <ListItemText\n                id={product.id}\n                primary={`${product.name}`}\n                secondary={`Brand: ${product.brand} ${product.os} Color: ${product.color}`}\n              />\n              <ListItemSecondaryAction>\n                <Button size=\"small\" variant=\"contained\" color=\"secondary\" onClick={() => handleDelete(product.id)}>\n                  Delete\n                </Button>\n              </ListItemSecondaryAction>\n            </ListItem>\n          );\n        })}\n      </List>\n      <Divider />\n      {catalogue.deleteProductFromCatalogue.loading && <LinearProgress />}\n      {showSuccessMessage && (\n        <DissmisibleSuccessAlert\n          message={'Product successfully deleted, you can close this menu now.'}\n          openedStateInParent={setShowSuccessMessage}\n        />\n      )}\n    </Accordion>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    catalogue: state.catalogue,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...catalogueInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteProduct);\n","import React, { FC, useState } from 'react';\nimport useStyles from '../styles/AccordionMenuStyles';\nimport CreateSingleProductAccordionRow from '../components/CatalogueMenu/ProductRegister';\nimport CreateProductsCSV from '../components/CatalogueMenu/ProductRegisterCSV';\nimport DeleteProduct from '../components/CatalogueMenu/ProductDelete';\nimport { Button } from '@material-ui/core';\nimport '../styles/css/catalogueMenu.scss';\nimport { useHistory } from 'react-router-dom';\n\nconst CatalogueMenu: FC = () => {\n  const history = useHistory();\n  const styles = useStyles();\n  const [expanded, setExpanded] = useState<string | false>(false);\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  const handleChange = (panel: string) => (event: React.ChangeEvent<{}>, isExpanded: boolean) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  return (\n    <>\n      <div className={styles.mainContainer}>\n        <CreateSingleProductAccordionRow\n          expanded={expanded}\n          handleChange={handleChange}\n          panel={'panel1'}\n          heading={'Create Single Product'}\n          summary={'Here you can create a product for this shop, giving all its necesary attributes.'}\n        />\n        <CreateProductsCSV />\n        <DeleteProduct\n          expanded={expanded}\n          handleChange={handleChange}\n          panel={'panel2'}\n          heading={'Delete Product'}\n          summary={'Here you can delete a product from this shop.'}\n        />\n      </div>\n      <div className=\"btn-bottom-left\">\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => {\n            history.go(-1);\n          }}>\n          Back\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default CatalogueMenu;\n","import React, { FC } from 'react';\n\nconst EmployeesMenu: FC = () => {\n  return (\n    <div>\n      <p>Employees Menu</p>\n    </div>\n  );\n};\n\nexport default EmployeesMenu;\n","import React, { FC, useState, useEffect } from 'react';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport DissmisibleSuccessAlert from '../GeneralUseComponents/DissmissibleSuccessAlert';\nimport useStyles from '../../styles/AccordionMenuStyles';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../redux/store';\nimport { CompanyState } from '../../redux/types/CompanyTypes';\nimport { ShopState, PostShopFields } from '../../redux/types/ShopTypes';\nimport * as shopInteractors from '../../redux/interactors/shopInteractors';\nimport verifyString from '../../utils/globalHelpers/verifyString';\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Typography,\n  Divider,\n  AccordionActions,\n  Button,\n  TextField,\n  LinearProgress,\n} from '@material-ui/core';\n\ninterface StateProps {\n  company: CompanyState;\n  shop: ShopState;\n}\n\ninterface DispatchProps {\n  addShopInteractor: typeof shopInteractors.addShopInteractor;\n  resetShopStatusInteractor: typeof shopInteractors.resetShopStatusInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  expanded: string | false;\n  handleChange: (panel: string) => any;\n  panel: string;\n  heading: string;\n  summary: string;\n}\n\nconst CreateShop: FC<Props> = (props: Props) => {\n  const {\n    expanded,\n    handleChange,\n    panel,\n    heading,\n    summary,\n    company,\n    shop,\n    addShopInteractor,\n    resetShopStatusInteractor,\n  } = props;\n  const [shopName, setShopName] = useState('');\n  const [shopLocation, setShopLocation] = useState('');\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const styles = useStyles();\n\n  useEffect(() => {\n    if (shop.addShopStatus.success) {\n      setShowSuccessMessage(true);\n      resetShopStatusInteractor();\n    }\n  }, [shop.addShopStatus, setShowSuccessMessage, resetShopStatusInteractor]);\n\n  const handleCancelCreate = (): void => {\n    setShopName('');\n    setShopLocation('');\n  };\n\n  const handleCreate = (): void => {\n    const shopAuthFields: PostShopFields = {\n      companyId: company.id,\n      name: shopName,\n      location: shopLocation,\n    };\n    addShopInteractor(shopAuthFields);\n    // Called to reset the state\n    handleCancelCreate();\n  };\n\n  return (\n    <Accordion TransitionProps={{ unmountOnExit: true }} expanded={expanded === panel} onChange={handleChange(panel)}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1bh-content\" id=\"panel1bh-header\">\n        <Typography className={styles.heading}>{heading}</Typography>\n        <Typography className={styles.secondaryHeading}>{summary}</Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        <TextField\n          value={shopName}\n          variant=\"standard\"\n          required\n          fullWidth\n          id=\"name\"\n          label=\"Name\"\n          name=\"name\"\n          onChange={(event) => setShopName(event.target.value)}\n        />\n      </AccordionDetails>\n      <AccordionDetails>\n        <TextField\n          value={shopLocation}\n          variant=\"standard\"\n          required\n          fullWidth\n          id=\"location\"\n          label=\"Location\"\n          name=\"location\"\n          onChange={(event) => setShopLocation(event.target.value)}\n        />\n      </AccordionDetails>\n      <Divider />\n      <AccordionActions>\n        <Button size=\"small\" onClick={() => handleCancelCreate()}>\n          Cancel\n        </Button>\n        <Button\n          size=\"small\"\n          color=\"primary\"\n          disabled={!(verifyString(shopName) && verifyString(shopLocation))}\n          onClick={handleCreate}>\n          Create Shop\n        </Button>\n      </AccordionActions>\n      {shop.addShopStatus.loading && <LinearProgress />}\n      {showSuccessMessage && (\n        <DissmisibleSuccessAlert\n          message={'Shop successfully created, you can close this menu now.'}\n          openedStateInParent={setShowSuccessMessage}\n        />\n      )}\n    </Accordion>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    company: state.company,\n    shop: state.shop,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...shopInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateShop);\n","import React, { FC, useState } from 'react';\nimport useStyles from '../styles/AccordionMenuStyles';\nimport CreateShopAccordionRow from '../components/ShopMenuComponents/ShopRegister';\nimport { Button } from '@material-ui/core';\n\nconst ShopMenu: FC = () => {\n  const styles = useStyles();\n  const [expanded, setExpanded] = useState<string | false>(false);\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  const handleChange = (panel: string) => (event: React.ChangeEvent<{}>, isExpanded: boolean) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  return (\n    <>\n      <div className={styles.mainContainer}>\n        <CreateShopAccordionRow\n          expanded={expanded}\n          handleChange={handleChange}\n          panel={'panel1'}\n          heading={'Create Shop'}\n          summary={'Here you can create a shop, giving all its necesary attributes.'}\n        />\n      </div>\n      <div className=\"btn-bottom-left\">\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => {\n            history.go(-1);\n          }}>\n          Back\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default ShopMenu;\n","import React, { FC, useEffect, useState, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { RootState } from '../redux/store';\nimport { connect } from 'react-redux';\nimport { Product } from '../redux/types/CatalogueTypes';\nimport { Typography, Button } from '@material-ui/core';\nimport '../styles/css/productDetails.scss';\n\ninterface StateProps {\n  products: Product[];\n}\n\ninterface Props extends StateProps {\n  // extra props you want to add\n}\n\nconst ProductDetails: FC<Props> = (props: Props) => {\n  const { products } = props;\n  const history = useHistory();\n  const [product, setProduct] = useState<Product | undefined>();\n  const productId = window.location.pathname.split('/')[3];\n\n  // Gets product id from the url and with that, gets the product stored in redux\n  useEffect(() => {\n    if (product?.id !== productId) {\n      const filteredProduct = products.find((elem) => {\n        return elem.id === productId;\n      });\n      setProduct(filteredProduct);\n    }\n  }, [product]);\n\n  const goToCallScreen = useCallback(() => {\n    history.push('/home/call');\n  }, []);\n\n  return (\n    <div className=\"main-container\">\n      <div className=\"details-container\">\n        <Typography className=\"title\" variant=\"h3\">\n          Device Details\n        </Typography>\n        <div className=\"detail\">\n          <Typography className=\"detail-label\" variant=\"h5\" gutterBottom>\n            Name:\n          </Typography>\n          <Typography className=\"detail-body\" variant=\"h6\" gutterBottom>\n            {product?.name}\n          </Typography>\n        </div>\n        <div className=\"detail\">\n          <Typography className=\"detail-label\" variant=\"h5\" gutterBottom>\n            Brand:\n          </Typography>\n          <Typography className=\"detail-body\" variant=\"h6\" gutterBottom>\n            {product?.brand}\n          </Typography>\n        </div>\n        <div className=\"detail\">\n          <Typography className=\"detail-label\" variant=\"h5\" gutterBottom>\n            Color:\n          </Typography>\n          <Typography className=\"detail-body\" variant=\"h6\" gutterBottom>\n            {product?.color}\n          </Typography>\n        </div>\n        <div className=\"detail\">\n          <Typography className=\"detail-label\" variant=\"h5\" gutterBottom>\n            Screen Inches:\n          </Typography>\n          <Typography className=\"detail-body\" variant=\"h6\" gutterBottom>\n            {product?.inches}\n          </Typography>\n        </div>\n        <div className=\"detail\">\n          <Typography className=\"detail-label\" variant=\"h5\" gutterBottom>\n            Operative System:\n          </Typography>\n          <Typography className=\"detail-body\" variant=\"h6\" gutterBottom>\n            {product?.os}\n          </Typography>\n        </div>\n        <div className=\"detail\">\n          <Typography className=\"detail-label\" variant=\"h5\" gutterBottom>\n            Price:\n          </Typography>\n          <Typography className=\"detail-body\" variant=\"h6\" gutterBottom>\n            {product?.price} CLP\n          </Typography>\n        </div>\n        <div className=\"customer-button-container\">\n          <Button variant=\"contained\" color=\"primary\" onClick={() => goToCallScreen()}>\n            Get Assistance\n          </Button>\n        </div>\n      </div>\n      <div className=\"photo-container\"></div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    products: state.catalogue.products,\n  };\n};\n\nexport default connect(mapStateToProps)(ProductDetails);\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\ninterface Params {\n  firestore: any;\n  shopId: string;\n  peerConnection: RTCPeerConnection;\n  setCalling: any;\n  setIsOnCall: any;\n}\n\nconst beginCall = async ({ firestore, shopId, peerConnection, setCalling, setIsOnCall }: Params): Promise<string> => {\n  // Create document with two sub collections in the current shop with shopId\n  const callsDocument = firestore.collection('shopCalls').doc(shopId).collection('calls').doc();\n  const offerCandidates = callsDocument?.collection('offerCandidates');\n  const answerCandidates = callsDocument?.collection('answerCandidates');\n  setCalling(true);\n  setIsOnCall(true);\n\n  // Get candidates for caller, save to db\n  peerConnection.onicecandidate = (event: any) => {\n    event.candidate && offerCandidates.add(event.candidate.toJSON());\n  };\n\n  // Create call offer with offer and status\n  const offerDescription = await peerConnection.createOffer();\n  await peerConnection.setLocalDescription(offerDescription);\n  const offer = {\n    sdp: offerDescription.sdp,\n    type: offerDescription.type,\n  };\n  const status = {\n    answered: false,\n    date: new Date(),\n  };\n  await callsDocument.set({ offer, status });\n\n  // Listen for remote answer\n  callsDocument.onSnapshot((snapshot: any) => {\n    const data = snapshot.data();\n    if (!peerConnection.currentRemoteDescription && data?.answer) {\n      const answerDescription = new RTCSessionDescription(data.answer);\n      peerConnection.setRemoteDescription(answerDescription);\n    }\n  });\n\n  // When answered, add candidate to peer connection\n  answerCandidates.onSnapshot((snapshot: any) => {\n    snapshot.docChanges().forEach((change: any) => {\n      if (change.type === 'added') {\n        const candidate = new RTCIceCandidate(change.doc.data());\n        peerConnection.addIceCandidate(candidate);\n        setCalling(false);\n      }\n    });\n  });\n\n  return callsDocument.id;\n};\n\nexport default beginCall;\n","import React, { FC, useEffect, useState, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Button, ButtonGroup, LinearProgress } from '@material-ui/core';\nimport { RootState } from '../../redux/store';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { ConnectionState } from '../../redux/types/ConnectionTypes';\nimport setSources from '../../utils/videoHelpers/setMediaSources';\nimport * as connectionInteractors from '../../redux/interactors/connectionInteractors';\nimport beginCall from '../../utils/videoHelpers/beginCall';\n\ninterface StateProps {\n  connection: ConnectionState;\n  shopId: string;\n}\n\ninterface DispatchProps {\n  setLocalStreamInteractor: typeof connectionInteractors.setLocalStreamInteractor;\n  setRemoteStreamInteractor: typeof connectionInteractors.setRemoteStreamInteractor;\n  resetStreamConnectionInteractor: typeof connectionInteractors.resetStreamConnectionInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  // extra props you want to add\n}\n\nconst CustomerVideoChat: FC<Props> = (props: Props) => {\n  const { firestore, peerConnection } = props.connection;\n  const history = useHistory();\n  const webcamVideo = useRef<any>();\n  const remoteVideo = useRef<any>();\n  const callInput = useRef<string>();\n  const [isOnCall, setIsOnCall] = useState(false);\n  const [calling, setCalling] = useState(false);\n\n  useEffect(() => {\n    console.log('This it a test console log to prevent firestore excessive requests...');\n    firestore.collection('shopCalls').doc(props.shopId).set({ updatedAt: new Date() });\n    const data = {\n      peerConnection,\n      webcamVideo: webcamVideo.current,\n      remoteVideo: remoteVideo.current,\n    };\n    setSources(data).then(({ localStream, remoteStream }) => {\n      props.setLocalStreamInteractor(localStream);\n      props.setRemoteStreamInteractor(remoteStream);\n    });\n    // Cleanup\n    return () => {\n      if (webcamVideo.current && remoteVideo.current) {\n        webcamVideo.current.srcObject = null;\n        remoteVideo.current.srcObject = null;\n      }\n      props.resetStreamConnectionInteractor();\n    };\n  }, []);\n\n  const startCall = async () => {\n    callInput.current = await beginCall({ firestore, shopId: props.shopId, peerConnection, setCalling, setIsOnCall });\n  };\n\n  const hangupCall = async () => {\n    setIsOnCall(false);\n    try {\n      // Deleting collections is not recommended from web client, find alternative later\n      await firestore.collection('shopCalls').doc(props.shopId).collection('calls').doc(callInput.current).delete();\n    } catch (error) {\n      console.log(error);\n    } finally {\n      history.go(-1);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"customer-main-container\">\n        <video className=\"local-video-container\" ref={webcamVideo} autoPlay playsInline muted></video>\n        <video className=\"remote-video-container\" ref={remoteVideo} autoPlay playsInline></video>\n        <div className=\"customer-button-container\">\n          <ButtonGroup\n            orientation=\"vertical\"\n            color=\"primary\"\n            aria-label=\"vertical contained primary button group\"\n            variant=\"contained\">\n            <Button size=\"small\" variant=\"contained\" color=\"primary\" disabled={isOnCall} onClick={startCall}>\n              Call Assistant\n            </Button>\n            <Button size=\"small\" variant=\"contained\" color=\"secondary\" disabled={!isOnCall} onClick={hangupCall}>\n              Hang up\n            </Button>\n          </ButtonGroup>\n        </div>\n      </div>\n      {calling && <LinearProgress />}\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    connection: state.connection,\n    shopId: state.shop.id,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...connectionInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomerVideoChat);\n","import React, { FC } from 'react';\nimport CustomerVideoChat from '../components/CustomerCallScreenComponents/CustomerVideoChat';\nimport '../styles/css/calls.scss';\n\nconst CustomerCall: FC = () => {\n  return (\n    <>\n      <h1>Getting Assistance</h1>\n      <div className=\"customer-call-container\">\n        <CustomerVideoChat />\n      </div>\n    </>\n  );\n};\n\nexport default CustomerCall;\n","import React, { FC } from 'react';\nimport * as userInteractors from '../redux/interactors/userInteractors';\nimport * as modalInteractors from '../redux/interactors/modalInteractors';\nimport { UserState } from '../redux/types/UserTypes';\nimport { CompanyState } from '../redux/types/CompanyTypes';\nimport { bindActionCreators } from '@reduxjs/toolkit';\nimport { RootState } from '../redux/store';\nimport { useHistory } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport '../styles/css/layout.scss';\n\ninterface StateProps {\n  user: UserState;\n  company: CompanyState;\n}\n\ninterface DispatchProps {\n  logoutUserInteractor: typeof userInteractors.logoutUserInteractor;\n  showPopUpInteractor: typeof modalInteractors.showPopUpInteractor;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  // extra props you want to add\n}\n\nconst SidebarOptions: FC<Props> = (props: Props) => {\n  const { user, company } = props;\n  const history = useHistory();\n  const goToHomePage = (): void => {\n    history.replace('/home');\n  };\n\n  const goToAdministrationPortal = (): void => {\n    history.replace('/administration');\n  };\n  return (\n    <div className=\"options\">\n      {company.id && (\n        <Button color=\"inherit\" onClick={goToHomePage}>\n          Home\n        </Button>\n      )}\n      {user.sessionType !== 'ANONYMOUS' && (\n        <Button color=\"inherit\" onClick={goToAdministrationPortal}>\n          Administration\n        </Button>\n      )}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => {\n  return {\n    user: state.user,\n    company: state.company,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  ...bindActionCreators(\n    {\n      ...userInteractors,\n      ...modalInteractors,\n    },\n    dispatch,\n  ),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarOptions);\n","import React, { FC, useState } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { RootState } from '../redux/store';\nimport { UserState } from '../redux/types/UserTypes';\nimport Home from '../screens/Home';\nimport NavBar from './NavBar';\nimport { useSelector } from 'react-redux';\nimport CompanyAuth from '../screens/CompanyAuth';\nimport AdministrationPortal from '../screens/AdministrationPortal';\nimport CallsMenu from '../screens/CallsMenu';\nimport CatalogueMenu from '../screens/CatalogueMenu';\nimport EmployeesMenu from '../screens/EmployeesMenu';\nimport ShopMenu from '../screens/ShopMenu';\nimport ProductDetails from '../screens/ProductDetails';\nimport CustomerCallScreen from '../screens/CustomerCallScreen';\nimport { IconButton, makeStyles } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport '../styles/css/layout.scss';\nimport SidebarOptions from './SidebarOptions';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'left',\n  },\n}));\n\n// eslint-disable-next-line react/prop-types\nconst EmployeeRoute: FC<any> = ({ component: Component, ...rest }) => {\n  const user = useSelector<RootState, UserState>((state) => state.user);\n  return (\n    <Route\n      {...rest}\n      render={(props) => (user.sessionType !== 'ANONYMOUS' ? <Component {...props} /> : <Redirect to=\"/home\" />)}\n    />\n  );\n};\n\n// eslint-disable-next-line react/prop-types\nconst AdministratorRoute: FC<any> = ({ component: Component, ...rest }) => {\n  const user = useSelector<RootState, UserState>((state) => state.user);\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        user.sessionType === 'ADMINISTRATOR' ? <Component {...props} /> : <Redirect to=\"/administration\" />\n      }\n    />\n  );\n};\n\nconst Routes: FC = () => {\n  const styles = useStyles();\n  const [leftOpen, setLeftOpen] = useState(false);\n  const [isOpen, setOpen] = useState(leftOpen ? 'open' : 'closed');\n  const toggleSidebar = () => {\n    setLeftOpen(!leftOpen);\n    setOpen(leftOpen ? 'open' : 'closed');\n  };\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div id=\"layout\">\n        <div id=\"left\" className={isOpen}>\n          <IconButton\n            edge=\"start\"\n            className={`icon ${styles.menuButton}`}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={toggleSidebar}>\n            <MenuIcon />\n          </IconButton>\n          <div className={`sidebar ${isOpen}`}>\n            <div className=\"content\">\n              <SidebarOptions />\n            </div>\n          </div>\n        </div>\n        <div id=\"main\">\n          <div className=\"header\">\n            <div\n              className={`\n                          title\n                          ${'left-' + isOpen}\n                      `}>\n              <NavBar />\n            </div>\n          </div>\n          <div className=\"content\" id=\"page\">\n            <Switch>\n              <Route path=\"/\" exact component={CompanyAuth} />\n              <Route path=\"/home\" exact component={Home} />\n              <Route path=\"/home/call\" exact component={CustomerCallScreen} />\n              <Route path=\"/product/:id/details\" exact component={ProductDetails} />\n              <EmployeeRoute path=\"/administration\" exact component={AdministrationPortal} />\n              <EmployeeRoute path=\"/administration/calls\" exact component={CallsMenu} />\n              <AdministratorRoute path=\"/administration/shop\" exact component={ShopMenu} />\n              <AdministratorRoute path=\"/administration/catalogue\" exact component={CatalogueMenu} />\n              <AdministratorRoute path=\"/administration/employees\" exact component={EmployeesMenu} />\n            </Switch>\n          </div>\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nexport default Routes;\n","import React, { FC } from 'react';\nimport Routes from './navigation/Routes';\nimport './App.css';\n\nexport const App: FC = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"App\">\n        <Routes />\n      </div>\n    </div>\n  );\n};\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport thunk from 'redux-thunk';\nimport { userReducer } from './slices/userSlice';\nimport { modalReducer } from './slices/modalSlice';\nimport { catalogueReducer } from './slices/catalogueSlice';\nimport { companyReducer } from './slices/companySlice';\nimport { shopReducer } from './slices/shopSlice';\nimport { connectionReducer } from './slices/connectionSlice';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport storage from 'redux-persist/lib/storage';\n\n// Parts of the state you want to persist\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['company', 'user', 'shop', 'catalogue'],\n};\n\n// Add new reducers here\nconst RootReducer = combineReducers({\n  user: userReducer,\n  modal: modalReducer,\n  catalogue: catalogueReducer,\n  company: companyReducer,\n  shop: shopReducer,\n  connection: connectionReducer,\n});\n\nconst RootReducerPersistor = persistReducer(persistConfig, RootReducer);\n\n// Export the store to use it in the app\nexport const store = createStore(RootReducerPersistor, composeWithDevTools(applyMiddleware(thunk)));\n\nexport const storePersistor = persistStore(store);\n\nexport type RootState = ReturnType<typeof RootReducerPersistor>;\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App';\nimport { store, storePersistor } from './redux/store';\nimport { Provider } from 'react-redux';\nimport { createBrowserHistory } from 'history';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nconst history = createBrowserHistory();\nconst root = document.getElementById('root');\nconst path = (/#!(\\/.*)$/.exec(window.location.hash) || [])[1];\nif (path) {\n  history.replace(path);\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={storePersistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  root,\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}